#-------------------------------------------------------------------------------
# eGov suite of products aim to improve the internal efficiency,transparency, 
#      accountability and the service delivery of the government  organizations.
#   
#       Copyright (C) <2015>  eGovernments Foundation
#   
#       The updated version of eGov suite of products as by eGovernments Foundation 
#       is available at http://www.egovernments.org
#   
#       This program is free software: you can redistribute it and/or modify
#       it under the terms of the GNU General Public License as published by
#       the Free Software Foundation, either version 3 of the License, or
#       any later version.
#   
#       This program is distributed in the hope that it will be useful,
#       but WITHOUT ANY WARRANTY; without even the implied warranty of
#       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#       GNU General Public License for more details.
#   
#       You should have received a copy of the GNU General Public License
#       along with this program. If not, see http://www.gnu.org/licenses/ or 
#       http://www.gnu.org/licenses/gpl.html .
#   
#       In addition to the terms of the GPL license to be adhered to in using this
#       program, the following additional terms are to be complied with:
#   
#   	1) All versions of this program, verbatim or modified must carry this 
#   	   Legal Notice.
#   
#   	2) Any misrepresentation of the origin of the material is prohibited. It 
#   	   is required that all modified versions of this material be marked in 
#   	   reasonable ways as different from the original version.
#   
#   	3) This license does not grant any rights to any user of the program 
#   	   with regards to rights under trademark law for use of the trade names 
#   	   or trademarks of eGovernments Foundation.
#   
#     In case of any queries, you can reach eGovernments Foundation at contact@egovernments.org.
#-------------------------------------------------------------------------------
<script language="javascript">
var pageMode="modify";
var sameWindow=0;

function openSearch(obj,tableName)  {
	var a = new Array(2);
    var sRtn =showModalDialog("Search.html?filterServiceID=11","","dialogLeft=300;dialogTop=210;dialogWidth=305pt;dialogHeight=300pt;status=no;");
    if ( sRtn != '' ){
		a = sRtn.split("`~`");
		if(tableName.toLowerCase() == 'chartofaccounts'){
		  var x = PageManager.DataService.getControlInBranch(obj.parentNode,'chartOfAccounts_code');
		  x.value = a[0];
		  var y = PageManager.DataService.getControlInBranch(obj.parentNode.parentNode,'chartOfAccounts_name');
		  y.value = a[1];
		  var z = PageManager.DataService.getControlInBranch(obj.parentNode.parentNode,'egf_tax_code_glCodeId');
		  z.value = a[2];
		}
	}
}
function showAlert()
{
	alert("Getting values from server ..");
}
function changeAccCode(evnt,obj){
	row=PageManager.DataService.getRow(obj);

	/* if glcode is empty make glcodeid also empty and don't alert*/
	var glcodeid=PageManager.DataService.getControlInBranch(row,'egf_tax_code_glCodeId');
	var code1=PageManager.DataService.getControlInBranch(row,'chartOfAccounts_name');
	var objValue=obj.value.replace(/^\s*|\s*$/g,'');// remove space
	if(obj==null){ glcodeid.value=''; code1.value='';}
	else if(objValue == '' ) { glcodeid.value='';  code1.value='';}
	else{
	PageManager.DescService.onblur(evnt);
	showAlert();
	}
	if(code1=="Invalid value entered.")
	{
			alert(code1.value);
			return;
	}
	/*var str=code1.split("^");
	PageManager.DataService.getControlInBranch(row,'chartOfAccounts_name').value=str[1];
	PageManager.DataService.getControlInBranch(row,'egf_tax_code_glCodeId').value=str[0];*/


}

function splitCode()
{
	var tObj=document.getElementById("accCodeGrid");
	//alert(tObj.rows.length);
	for(i=1;i<tObj.rows.length;i++)
	{		
		var code1=PageManager.DataService.getControlInBranch(tObj.rows[i],'chartOfAccounts_name').value;			
		var str=code1.split("^");
		if(str.length==2)
		{	    
			PageManager.DataService.getControlInBranch(tObj.rows[i],'chartOfAccounts_name').value=str[1];
			PageManager.DataService.getControlInBranch(tObj.rows[i],'egf_tax_code_glCodeId').value=str[0];	
		}
	}
}
/*function beforeRefreshPage(dc){
	var mObj=dc.grids['accCodeGrid'];
	var fObj=null;
	if(dc.grids['cess_grid']!=null){
		for(var i=1;i<dc.grids['cess_grid'].length;i++){
			for(var j=1;j<mObj.length;j++){
				if(dc.grids['cess_grid'][i][3]==mObj[j][1] || (dc.grids['cess_grid'][i][3]=='0' && mObj[j][1]=='')){
				   dc.grids['cess_grid'][i][3]=j;
				   break;
				}
			}
		}
	}
	return dc;
}*/
function beforeRefreshPage(dc){
	if(dc.values['serviceID']=='taxesMapData'){
   			   var mObj=dc.grids['accCodeGrid'];
			 	var fObj=dc.grids['cess_grid'];
			 		for(var i=1;i<mObj.length;i++)
			 		{
			 		 for(var j=1;j<fObj.length-1;j++)
			 		  {
			 			if(mObj[i][1]==fObj[j+1][3])

			 		    {
			 	         dc.grids['cess_grid'][j+1][3]=i;
			 	        }

			 	      }
                    }

                  }

}
function afterRefreshPage(dc) {
	/*if('taxesCheck'==dc.values['serviceID'])
		window.tax=true;
	if('taxesAccountId'==dc.values['serviceID'])
		window.acc=true;*/
	if(dc.values['serviceID']=='fillFinancialYear'){
		var tax_code = PageManager.DataService.getQueryField('tax_code');
		if (tax_code) {
			PageManager.DataService.callDataService('taxesMapData');
		}
	}
}



function getData(){
	PageManager.ListService.callListService();
	PageManager.DataService.callDataService('fillFinancialYear');
	var tax_code = PageManager.DataService.getQueryField('tax_code');
	if (tax_code){
		document.getElementById('trModify').style.display='block';
		document.getElementById('trNew').style.display='none';
		} else {
		pageMode="new";
		//document.getElementById('up').innerHTML="Tax Code - New";
		document.getElementById('trModify').style.display='none';
		document.getElementById('trNew').style.display='block';
		//document.getElementById('submitButton').innerHTML="Save & New";
	}

	taxCodeUpdate.egf_tax_code_code.focus();
}


function ButtonPress(name){
if(name.toLowerCase()=='savenew')
   sameWindow=1;
	//   ***1 only FO***,  ***2 FO***,  ***Admin, 3 All***    //
	if(!isValidUser(2, CookieManager.getCookie('userRole')) ) return false;

	if(hasDupFinancialYears()){
		alert("Financial Year Cannot repeat");
		return false;
	}

	if(!PageValidator.validateForm()) return;

	splitCode();

	document.getElementById('egUser_id').value = CookieManager.getCookie('currentUserId');

	var filListlen = document.getElementById("financialYearList").options.length;
	var list="";
	for(var j=1;j<filListlen;j++)
	{
		list=list+"\n"+document.taxCodeUpdate.financialYearList.options[j].text;
	}
	//alert(list);
	var isFound=false;
	var tObj=document.getElementById("accCodeGrid");
	//alert(tObj.rows.length);
	for(i=1;i<tObj.rows.length;i++)
	{
		PageManager.DataService.getControlInBranch(tObj.rows[i],"financialYear_id").value=PageManager.DataService.getControlInBranch(tObj.rows[i],"financialYear_id").value.toUpperCase()
		var val=PageManager.DataService.getControlInBranch(tObj.rows[i],"financialYear_id").value;
		//if both financialyear and glcode are empty then alert to fill
		if(val=="" && PageManager.DataService.getControlInBranch(tObj.rows[i],"chartOfAccounts_code").value==""){
			alert("Fill details for row:"+i);
			return;
		}
		//alert("val:"+val);
		if(val != "OLD" && val !="SUSPENSE")
		{
			for(var j=1;j<filListlen;j++)
			{
				//alert(document.taxCodeUpdate.financialYearList.options[j].text);
				if(document.taxCodeUpdate.financialYearList.options[j].text == val)
				{
						isFound=true;
						PageManager.DataService.getControlInBranch(tObj.rows[i],"finYearId").value=document.taxCodeUpdate.financialYearList.options[j].value;

				}
			}
			if(!isFound)
			{
				alert("Enter Financial Year in correct format, valid Financial Year's are"+list);
				PageManager.DataService.getControlInBranch(tObj.rows[i],"financialYear_id").focus();
				return;
			}
			isFound=false;
		}
		if(PageManager.DataService.getControlInBranch(tObj.rows[i],"egfAccMap_isActiveB").checked)
		{
			PageManager.DataService.getControlInBranch(tObj.rows[i],"egfAccMap_isActive").value="1";
		}
		else
		{
			PageManager.DataService.getControlInBranch(tObj.rows[i],"egfAccMap_isActive").value="0";
		}
		if(PageManager.DataService.getControlInBranch(tObj.rows[i],"egfAccMap_isOldB").checked)
		{
			PageManager.DataService.getControlInBranch(tObj.rows[i],"egfAccMap_isOld").value="1";
		}
		else
		{
			PageManager.DataService.getControlInBranch(tObj.rows[i],"egfAccMap_isOld").value="0";
		}
		//alert(PageManager.DataService.getControlInBranch(tObj.rows[i],"egfAccMap_isActive").value);
		//alert(PageManager.DataService.getControlInBranch(tObj.rows[i],"egfAccMap_isOld").value);
	}
	if (pageMode == "modify")
	{
		PageManager.UpdateService.submitForm('taxMapUpdate');
	}
	else
	{
		PageManager.UpdateService.submitForm('taxMapInsert');
	}
}

function afterUpdateService(dc){
if(sameWindow == 1){
	  window.location="TaxCodeMap.htm";
      }else{
	window.location="TaxCodeMapEnq.htm";	}
	sameWindow=0;
	return true;

}

function hasDupFinancialYears(){
	var finYearObjs=document.getElementsByName("financialYear_id");
	for(i=0;i<finYearObjs.length-1;i++){
		//if financial year is empty continue
		if(finYearObjs[i] && finYearObjs[i].value == "") continue;
		for(j=i+1;j<finYearObjs.length;j++){
		  //if(finYearObjs[i].options[finYearObjs[i].selectedIndex].value==finYearObjs[j].options[finYearObjs[j].selectedIndex].value)
		  if(finYearObjs[i].value==finYearObjs[j].value)
		  {
				return true;
			}
		}
	}
	return false;
}

function addLine(e){
	var whichCode = (window.Event) ? e.which : e.keyCode;
	//alert(whichCode );
	if(whichCode ==113)// for F2 button
	{
		addNewRow('accCodeGrid','financialYear_id,chartOfAccounts_code');
		var gridObj=document.getElementById('accCodeGrid');
		var obj=PageManager.DataService.getControlInBranch(gridObj.rows[gridObj.rows.length-1],"egfAccMap_isActive");
		obj.value="0";
		obj=PageManager.DataService.getControlInBranch(gridObj.rows[gridObj.rows.length-1],"egf_tax_account_mapping_id");
		obj.value="0";
	}

}
function openCess(obj){
				var trObj=obj.parentNode.parentNode;
				/*var mainTab=document.getElementById('accCodeGrid');
				var finObj=PageManager.DataService.getControlInBranch(mainTab.rows[trObj.rowIndex],'financialYear_id');
				if(finObj.selectedIndex<0){
					alert("select financial year");
					return false;
				}*/
				var oldList=getOldList(trObj.rowIndex);
				var sRtn =showModalDialog("CessDetails.html?&oldList="+oldList,"","dialogLeft=300;dialogTop=210;dialogWidth=305pt;dialogHeight=300pt;status=no;");
				if(!sRtn || sRtn.length==0)return;
				cleanDetailsGrid(trObj.rowIndex);
				fillDetailsGrid(sRtn,trObj.rowIndex);
}
function fillDetailsGrid(str,rowIdx){
				var tableObj=document.getElementById('cess_grid');
				var mainTab=document.getElementById('accCodeGrid');
				var iRow=str.split(";");
				var rowContents=null,newRow=null,tempObj=null, finObj=null;
				for(var i=1;i<iRow.length;i++){
					rowContents=iRow[i].split("^");
					newRow=tableObj.rows[1].cloneNode(true);
					tableObj.tBodies[0].appendChild(newRow);
					tempObj=PageManager.DataService.getControlInBranch(newRow,"grid_cessGlCodeId");
					tempObj.value=rowContents[0];
					tempObj=PageManager.DataService.getControlInBranch(newRow,"grid_percentage");
					tempObj.value=rowContents[1];
					tempObj=PageManager.DataService.getControlInBranch(newRow,"grid_rowIndex");
					tempObj.value=rowIdx;
					tempObj=PageManager.DataService.getControlInBranch(newRow,"grid_cessMasterID");
					tempObj.value=rowContents[2];
				}
}
			function cleanDetailsGrid(rowIdx){
				var tableObj=document.getElementById('cess_grid');
				var tempObj=null;
				for(var i=tableObj.rows.length-1;i>1;i--){
					tempObj=PageManager.DataService.getControlInBranch(tableObj.rows[i],"grid_rowIndex");
					if(parseInt(tempObj.value)==rowIdx){
						tableObj.deleteRow(i);
					}
				}
			}
			function cleanDetailsGridOfDeletedRowOfMainGrid(tableName){
				var tbl= document.getElementById(tableName); 
				var selectedTblRow=-1;
				for(var i=1;i<tbl.rows.length;i++)
				{
					if(tbl.rows[i].cells[0].className == "rowRev" && i>1)
					{
						selectedTblRow=i;
					}
				 } 
				 if(selectedTblRow<=0){ return;}
				 
				cleanDetailsGrid(selectedTblRow);

				 var cessGrid=document.getElementById('cess_grid');
				for(var i=1;i<cessGrid.rows.length;i++)
				{
					var grid_rowIndexObj=PageManager.DataService.getControlInBranch(cessGrid.rows[i],"grid_rowIndex");
					if(grid_rowIndexObj.value > selectedTblRow)
					{
						grid_rowIndexObj.value=grid_rowIndexObj.value-1;
					}
				 } 
			}
			function getOldList(rowIdx){
				var result="",masterID;
				var tableObj=document.getElementById('cess_grid');
				for(var i=2;i<tableObj.rows.length;i++){
					tempObj=PageManager.DataService.getControlInBranch(tableObj.rows[i],"grid_rowIndex");
					if(parseInt(tempObj.value)==rowIdx){
						result+=";";
						result+=PageManager.DataService.getControlInBranch(tableObj.rows[i],"grid_cessGlCodeId").value;
						result+=","+PageManager.DataService.getControlInBranch(tableObj.rows[i],"grid_percentage").value;
						masterID=PageManager.DataService.getControlInBranch(tableObj.rows[i],"grid_cessMasterID").value;
						if(!masterID){
							masterID='';
						}
						result+=","+masterID;
					}
				}
				return result;
			}
function onClickCancel()
{
window.location="TaxCodeMap.htm";

}

</script>
</head>
<body bgcolor="#ffffff" bottommargin="0" topmargin="0" rightmargin="0" leftmargin="0" marginheight="0" marginwidth="0" onLoad="getData();" onKeyDown ="CloseWindow(event);"><!------------------ Header Begins Begins--------------------->
<form name="taxCodeUpdate">
<input type="hidden" name="egUser_id" id="egUser_id">
<input type="hidden" name="egf_tax_code_ID" id="egf_tax_code_ID" >
<input type="hidden" name="egf_tax_code_lastModified" id="egf_tax_code_lastModified" >
	<table width="100%" border=0 cellpadding="3" cellspacing="0"><!------------Content begins here ------------------>
		<tr >
			<td width=25% align="right" valign="center" ><div align="right" class="labelcell">Tax Code<span class="leadon">*</span></div></td>
			<td>
            <span class="fieldcell"><input name="egf_tax_code_code" class="fieldcell" id="egf_tax_code_code" maxLength="10" exilMustEnter="true" exilDataType="exilAlphaNumeric" ></span></td><!-- exilDescField="check_tax" exilDataSource="taxesCheck" ></td> -->
 		    <td width=20%><div align="right" valign="center" class="labelcell">Tax Name<span class="leadon">*</span></div></td>
			<td>
				<span class="fieldcell"><input name="egf_tax_code_name" class="fieldcell" id="egf_tax_code_name" maxlength="30" exilMustEnter="true" exilDataType="exilAnyChar" ></span>
            </td>
		</tr>
		<tr  >
			<td width=25% align="right" valign="center" ><div align="right" class="labelcell">Accrued</div></td>
		<!--	<td><input type="checkbox" name="egf_tax_code_accrued" id="egf_tax_code_accrued" value=0></td>-->
			<td><input type="checkbox" name="egf_tax_code_accrued" id="egf_tax_code_accrued" value="1" checked style="width:20px"></td>
 		    <td align="right" valign="center" ><div align="right" class="labelcell">Active</div></td>
			<td><input type="checkbox" name="egf_tax_code_isActive" id="egf_tax_code_isActive" value=1 checked>
            </td>
		</tr>
		<tr >
			<td colspan=4>&nbsp;</td>
		</tr>
		<tr  style="DISPLAY: none">
			<td colspan=4><span class="smallfieldcell"><SELECT id="financialYearList" name="financialYearList"   class="combowidth1" exilListSource="financialYearList"></SELECT><</span></td>
		</tr>
		<tr >
			<td colspan=4>
				<table width="70%" border=1 cellpadding="0" cellspacing="0" align="center" name="accCodeGrid" id="accCodeGrid">
					<tr class="rowheader" align=center>
						<td class="thStlyle" width="1%">&nbsp;&nbsp;</td>
						<td class="thStlyle" width="10%">Financial Year</td>
						<td class="thStlyle" width="35%">Account Code</td>
						<td class="thStlyle" width="40%">Account Head</td>
						<td class="thStlyle" width="5%" >Active</td>
						<td class="thStlyle" width="5%">IsOld</td>
						<td class="thStlyle" width="5%">Cess</td>
					</tr>
					<tr class="smallfieldcell">
						<td class="tdStlyle" width="1%"  onClick="changeColor(this,'accCodeGrid');" name="selectTd" id="selectTd"></td>
						<td>
						<input type=hidden id="egf_tax_account_mapping_id" name ="egf_tax_account_mapping_id" value="0">
						<input type=hidden id="finYearId" name ="finYearId" class="tdStlyle" >
						<input id="financialYear_id" name="financialYear_id"  class="fieldinput" >
						</td>
						<td> <input name="chartOfAccounts_code" class="fieldinput" id="chartOfAccounts_code"
							 maxLength="10" style="width:120px"

							 onblur="changeAccCode(event,this);"
							 size=14  exilDataType="exilAlphaNumeric"
            exilDataSource="" exilInGrid="true"
            exilDescField="chartOfAccounts_name"><IMG id=IMG1 onclick="openSearch(this,'chartOfAccounts');" height=22 src="/egi/resources/erp2/images/plus1.gif"   align=top border=0>
						</td>
					<td>
						<input type="hidden" name="egf_tax_code_glCodeId" id="egf_tax_code_glCodeId">
						<input class="labelcellforsingletd" style="width:350px" id="chartOfAccounts_name" name="chartOfAccounts_name" readonly exilDataType="exilAnyChar">
					</td>
					<td>
						<input type="hidden" name="egfAccMap_isActive" id="egfAccMap_isActive" value="0">
						<input type="checkbox" styleClass="fieldinput" name="egfAccMap_isActiveB"  id="egfAccMap_isActiveB" style="width:40px" align= right>
					</td>
					<td>
						<input type="hidden" name="egfAccMap_isOld" id="egfAccMap_isOld" value="0">
						<input type="checkbox"styleClass="fieldinput" name="egfAccMap_isOldB"  id="egfAccMap_isOldB" style="width:40px" >
					</td>
					<td onKeyDown ="addLine(event)">
						<a href="#" onClick="openCess(this)" >cess</a>
					</td>
				  </tr>
				</table>
			</td>
		</tr><!--		<tr class="row2">
			<td ><div align="right" valign="center" class="normaltext">Account Code<span class="leadon">*</span></div></td>
			<td>
            <input name="chartOfAccounts_code" class="fieldinput" id="chartOfAccounts_code"
			 maxLength="10"
			 exilDataSource="" exilDescField="chartOfAccounts_name"

			 onblur="changeAccCode(event);" exilMustEnter ="true" exilDataType="exilAlphaNumeric">
				<IMG id=IMG1 onclick="openSearch(this,'chartOfAccounts');" height=22 src="/egi/resources/erp2/images/plus1.gif" width=25 align=top border=0 ></td>
			<td><div align="right" valign="center" class="normaltext">Account Head</div></td>
			<td>
				<input class="fieldinput" id="chartOfAccounts_name" name="chartOfAccounts_name" readonly exilDataType="exilAnyChar">
			</td>
        </tr>-->
        <tr>
			<td>
				<table>
					<tr>
						<td colspan="2" align="center"><input type="button"  class="button" value="Delete Row" id="deleteDetail" name="deleteDetail" onclick="cleanDetailsGridOfDeletedRowOfMainGrid('accCodeGrid');deleteRowTable('accCodeGrid');" /></td>
						<td colspan="2" align="center"><input type="button"  class="button" value="Add Row" id="addDetail" name="addDetail" onclick="addNewRowFromButton('accCodeGrid','financialYear_id,chartOfAccounts_code');" /></td>
					</tr>
				</table>
		    </td>
		</tr>
		<tr>
			<td height="25" colspan="4" valign="bottom" class="smalltext"><p class="smalltext"><span class="leadon">*</span>
				- Mandatory Fields</p></td>
		</tr>
		<tr >
			<td colspan="4" align="middle"><!-- Buttons Start Here -->
				<table border="0" cellpadding="0" cellspacing="0">
				<!--	<tr>
						<td align="right"><IMG height=18 src="/egi/resources/erp2/images/Button_leftside.gif" width=7></td>
						<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary id=submitButton onclick=submitData(); href="#">Submit</A></td>
						<td><IMG height=18 src="/egi/resources/erp2/images/Button_rightside.gif" width=7></td>
						<td><IMG src="/egi/resources/erp2/images/spacer.gif" width=8></td>

						<td align="right"><IMG height=18 src="/egi/resources/erp2/images/Button_second_leftside.gif" width=6></td>
						<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick="" href="TaxCodeMapEnq.htm" >Cancel</A></td>
						<td><IMG height=18 src="/egi/resources/erp2/images/Button_second_rightside.gif" width=6></td>
						<td><IMG src="/egi/resources/erp2/images/spacer.gif" width=8></td>

						<td align="right"><IMG height=18 src="/egi/resources/erp2/images/Button_second_leftside.gif" width=6></td>
						<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick=window.close() href="#">Close</A></td>
						<td><IMG height=18 src="/egi/resources/erp2/images/Button_second_rightside.gif" width=6></td>
					</tr> -->
				<!--<tr name="trModify" id="trModify">
											<td align="right">
                                            <IMG src="/egi/resources/erp2/images/Button_leftside.gif" width="7" height="18"></td>
											<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary href="#" id="submitButton" onclick="ButtonPress('saveclose');" >Submit</A></td>
											<td>
                                            <IMG src="/egi/resources/erp2/images/Button_rightside.gif" width="7" height="18"></td>
											<td><IMG src="/egi/resources/erp2/images/spacer.gif" width=16></td>
											<td align="right">
                                            <IMG src="/egi/resources/erp2/images/Button_second_leftside.gif" width="6" height="18"></td>
											<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick="onClickCancel()" href="#" >Cancel</A></td>
											<td>
                                            <IMG src="/egi/resources/erp2/images/Button_second_rightside.gif" width="6" height="18"></td>
											<td><IMG src="/egi/resources/erp2/images/spacer.gif" width=16></td>
											<td align="right">
                                            <IMG src="/egi/resources/erp2/images/Button_second_leftside.gif" width="6" height="18"></td>
											<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick=window.close() href="#">Close</A></td>
											<td>
                                            <IMG src="/egi/resources/erp2/images/Button_second_rightside.gif" width="6" height="18"></td>
										</tr>-->
										<tr name="trModify" id="trModify">
													<td width=100% align=center>
													<input type="button" class="button" id="submitButton" value="Submit" onclick="ButtonPress('saveclose')" />
													<input id="cancelButton"type="button" class="button" value="Cancel" onclick="onClickCancel()" />
													<input id="closeButton"type="button" class="button" value="Close" onclick="window.close()" />
													</td>
												</tr>

										<!--<tr name="trNew" id="trNew">
											<td align="right">
											<IMG src="/egi/resources/erp2/images/Button_leftside.gif" width="7" height="18"></td>
											<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary href="#" id="savenNew" onclick="ButtonPress('savenew');" >Save & New</A></td>
											<td>
											<IMG src="/egi/resources/erp2/images/Button_rightside.gif" width="7" height="18"></td>
											<td><IMG src="/egi/resources/erp2/images/spacer.gif" width=16></td>
											<td align="right">
                                            <IMG src="/egi/resources/erp2/images/Button_leftside.gif" width="7" height="18"></td>
											<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary href="#" id="savenClose" onclick="ButtonPress('saveclose');" >Save & Close</A></td>
											<td>
                                            <IMG src="/egi/resources/erp2/images/Button_rightside.gif" width="7" height="18"></td>
											<td><IMG src="/egi/resources/erp2/images/spacer.gif" width=16></td>
											<td align="right">
                                            <IMG src="/egi/resources/erp2/images/Button_second_leftside.gif" width="6" height="18"></td>
											<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick="" href="TaxCodeMap.htm" >Cancel</A></td>
											<td>
                                            <IMG src="/egi/resources/erp2/images/Button_second_rightside.gif" width="6" height="18"></td>
											<td><IMG src="/egi/resources/erp2/images/spacer.gif" width=16></td>
											<td align="right">
                                            <IMG src="/egi/resources/erp2/images/Button_second_leftside.gif" width="6" height="18"></td>
											<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick=window.close() href="#">Close</A></td>
											<td>
                                            <IMG src="/egi/resources/erp2/images/Button_second_rightside.gif" width="6" height="18"></td>
										</tr>-->
										<tr name="trNew" id="trNew">
													<td width=100% align=center>
													<input type="button" class="button" id="savenNew" value="Save & New" onclick="ButtonPress('savenew');" />
													<input id="savenClose"type="button" class="button" value="Save & Close" onclick="ButtonPress('saveclose');" />
													<input id="cancelButton"type="button" class="button" value="Cancel" onclick="onClickCancel();" />
													<input id="closeButton"type="button" class="button" value="Close" onclick="window.close()" />
																										</td>
												</tr>


				</table>
			</td>
		</tr>
	</table><!-- Buttons End Here -->

	<table id="cess_grid" width="100%" style="DISPLAY: none">
		<tr>
			<td>grid_cessGlCodeId</td>
			<td>grid_percentage</td>
			<td>grid_rowIndex</td>
			<td>grid_cessMasterID</td>
			<td></td>
		</tr>
		<tr >
			<td><input id="grid_cessGlCodeId" name="grid_cessGlCodeId" style="WIDTH:100px"
     ></td>
			<td><input id="grid_percentage" name="grid_percentage" style="WIDTH:100px"
     ></td>
     <td><input id="grid_rowIndex" name="grid_rowIndex" style="WIDTH:100px"
     ></td>
     <td><input id="grid_cessMasterID" name="grid_cessMasterID" style="WIDTH:100px"
     ></td>

		</tr>
	</table>
</form>
</body>
</html>
