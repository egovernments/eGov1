#-------------------------------------------------------------------------------
# eGov suite of products aim to improve the internal efficiency,transparency, 
#      accountability and the service delivery of the government  organizations.
#   
#       Copyright (C) <2015>  eGovernments Foundation
#   
#       The updated version of eGov suite of products as by eGovernments Foundation 
#       is available at http://www.egovernments.org
#   
#       This program is free software: you can redistribute it and/or modify
#       it under the terms of the GNU General Public License as published by
#       the Free Software Foundation, either version 3 of the License, or
#       any later version.
#   
#       This program is distributed in the hope that it will be useful,
#       but WITHOUT ANY WARRANTY; without even the implied warranty of
#       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#       GNU General Public License for more details.
#   
#       You should have received a copy of the GNU General Public License
#       along with this program. If not, see http://www.gnu.org/licenses/ or 
#       http://www.gnu.org/licenses/gpl.html .
#   
#       In addition to the terms of the GPL license to be adhered to in using this
#       program, the following additional terms are to be complied with:
#   
#   	1) All versions of this program, verbatim or modified must carry this 
#   	   Legal Notice.
#   
#   	2) Any misrepresentation of the origin of the material is prohibited. It 
#   	   is required that all modified versions of this material be marked in 
#   	   reasonable ways as different from the original version.
#   
#   	3) This license does not grant any rights to any user of the program 
#   	   with regards to rights under trademark law for use of the trade names 
#   	   or trademarks of eGovernments Foundation.
#   
#     In case of any queries, you can reach eGovernments Foundation at contact@egovernments.org.
#-------------------------------------------------------------------------------
<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="KEYWORDS" content="">
<meta http-equiv="DESCRIPTION" content="">
<!-- Inclusion of the CSS files that contains the styles -->
<link rel=stylesheet href="../exility/global.css" type="text/css">
<SCRIPT LANGUAGE="javascript" SRC="../exility/PageValidator.js"></SCRIPT>
<SCRIPT LANGUAGE="javascript" SRC="../exility/PageManager.js"></SCRIPT>
<SCRIPT LANGUAGE="javascript" SRC="../exility/ExilityParameters.js"></SCRIPT>
<SCRIPT LANGUAGE="javascript" SRC="../script/jsCommonMethods.js"></Script>
<SCRIPT type="text/javascript" src="../script/calendar.js" type="text/javascript" ></SCRIPT>
<SCRIPT LANGUAGE="javascript">
var cWind;         // temporary window reference
var count=1;      // Counter which gives number of child windows opened
var cWindows=new Object();    //HashMap where we store child window
var mode="";
var journalType="General";
window.vNum=new Object();
var countOfVnum=0;

function ButtonPress()
{
	if(PageValidator.validateForm())
	{
		chk=document.getElementById('voucherDateTo');
		if(chk.value.length>0)
		if(!PageValidator.validateFromTo(chk))
		return false;
		PageManager.DataService.removeQueryField('voucherNumber');
		PageManager.DataService.removeQueryField('fundID');
		PageManager.DataService.removeQueryField('voucherDateFrom');
		PageManager.DataService.removeQueryField('voucherDateTo');
		PageManager.DataService.removeQueryField('statusType');
		PageManager.DataService.removeQueryField('reverseType');

		var voucherNumber=document.getElementById('voucherNumber').value;
		if(voucherNumber && voucherNumber.length!=0)
			PageManager.DataService.setQueryField('voucherNumber',voucherNumber);

		var fundID=document.getElementById('fund').value;
		if(fundID&& fundID.length!=0)
			PageManager.DataService.setQueryField('fundID',fundID);

		var voucherDateFrom=document.getElementById('voucherDateFrom').value;
		if(voucherDateFrom && voucherDateFrom.length!=0)
			PageManager.DataService.setQueryField('voucherDateFrom',formatDate1(voucherDateFrom));

		var voucherDateTo=document.getElementById('voucherDateTo').value;
		if(voucherDateTo && voucherDateTo.length!=0)
			PageManager.DataService.setQueryField('voucherDateTo',formatDate1(voucherDateTo));

		if( compareDate(formatDate6(voucherDateFrom),formatDate6(voucherDateTo)) == -1 )
		{
		  				alert('Start Date cannot be greater than End Date');
		  				document.getElementById('voucherDateFrom').focus();
		  				return false;
		}
	}
	else
	return;

	if(journalType && journalType.length!=0)
	{
		if(journalType=="General")
		{
			if(mode=="modify")
			{
				var recStatus=0;
				var isConfirmed=1;
				PageManager.DataService.setQueryField('jvGeneral','JVGeneral');
				PageManager.DataService.setQueryField('statusType',recStatus);
				PageManager.DataService.setQueryField('isConfirmed',isConfirmed);
			}
			if(mode=="edit")
			{
				var recStatus=0;
				var isConfirmed=0;
				PageManager.DataService.setQueryField('jvGeneral','JVGeneral');
				PageManager.DataService.setQueryField('statusType',recStatus);
				PageManager.DataService.setQueryField('isConfirmed',isConfirmed);
			}
			PageManager.DataService.callDataService('journalSearchGeneral');
		}


	if(journalType=="Bill")
	{
	    var billType=document.getElementById('billType');
    	if(billType.value=="Supplier")
		{
			if(mode=="edit")
			{
			  var statusNum=0;
			 PageManager.DataService.setQueryField('statusNum',statusNum);
			var isconfirmed=0;
			 PageManager.DataService.setQueryField('isconfirmed',isconfirmed);
			 PageManager.DataService.callDataService('journalSearchSupplierModify');

			}
			else if(mode=="modify")
		    {
			  	var statusNum=0;
				PageManager.DataService.setQueryField('statusNum',statusNum);
				var isconfirmed=1;
				PageManager.DataService.setQueryField('paidAmount',num);
			 	PageManager.DataService.setQueryField('isconfirmed',isconfirmed);
				PageManager.DataService.callDataService('journalSearchSupplierModify');
			}
			else
			  PageManager.DataService.callDataService('journalSearchSupplier');

		}

		if(billType.value=="Contractor")
		{
		  showAllColumns();
		  if(mode=="edit")
		  {
			     var num=0;
			 	 PageManager.DataService.setQueryField('statusNum',num);
				 PageManager.DataService.callDataService('journalSearchContractorModify');
		  }
		 else if(mode=="modify")
		 {
			   	 var num=0;
		    	 PageManager.DataService.setQueryField('statusNum',num);
			 	 var isconfirmed=1;
			 	 PageManager.DataService.setQueryField('isconfirmed',isconfirmed);
			 	 PageManager.DataService.setQueryField('paidAmount',num);
				 PageManager.DataService.callDataService('journalSearchContractor');
		 }
         else
			 PageManager.DataService.callDataService('journalSearchContractor');
		}

		if(billType.value=="Salary")
		{

		  if(mode=="edit")
		  {
			 var num=0;
			 PageManager.DataService.setQueryField('statusNum',num);
			 PageManager.DataService.callDataService('journalSearchSalaryModify');
		  }
		  else if(mode=="modify")
		  {
			 var num=0;
			 PageManager.DataService.setQueryField('statusNum',num);
			 var isconfirmed=1;
			 PageManager.DataService.setQueryField('isconfirmed',isconfirmed);
			 PageManager.DataService.callDataService('journalSearchSalary');
		  }
		  else
			PageManager.DataService.callDataService('journalSearchSalary');
	    }

	 }
	if(journalType=="Contra")
	{
		var contraType=document.getElementById('contraType');
		if(contraType.value=='Bank To Bank')
		{
			 if(mode=="edit")
			 {
				var confirm=0;
				var stat=0;
				PageManager.DataService.setQueryField('confirmNum',confirm);
				PageManager.DataService.setQueryField('statusNum',stat);
			 }
			else if(mode=="modify")
			{
				var confirm=1;
				var stat=0;
				PageManager.DataService.setQueryField('confirmNum',confirm);
				PageManager.DataService.setQueryField('statusNum',stat);
			}
			PageManager.DataService.callDataService('cjSearchBTB');
		}
		if(contraType.value=='Cash Withdrawal'){

			if(mode=="edit")
		 	{
			PageManager.DataService.callDataService('cjSearchModifyBTC');
			}
			else if(mode=="modify")
			{
				var confirm=1;
				var stat=0;
				PageManager.DataService.setQueryField('confirmNum',confirm);
				PageManager.DataService.setQueryField('statusNum',stat);
			PageManager.DataService.callDataService('cjSearchBTC');
			}
			else PageManager.DataService.callDataService('cjSearchBTC');
		}
		if(contraType.value=='Cash Deposit'){

			 if(mode=="edit")
			 {
				PageManager.DataService.callDataService('cjSearchModifyCTB');
			 }
			else if(mode=="modify")
			{
				var confirm=1;
				var stat=0;
				PageManager.DataService.setQueryField('confirmNum',confirm);
				PageManager.DataService.setQueryField('statusNum',stat);
			PageManager.DataService.callDataService('cjSearchCTB');
			}
			else	PageManager.DataService.callDataService('cjSearchCTB');
		}
		if(contraType.value=='Inter Fund Transfer'){
			 if(mode=="edit")
			 {
				var confirm=0;
				PageManager.DataService.setQueryField('confirmNum',confirm);
				var stat=0;
				PageManager.DataService.setQueryField('statusNum',stat);

			 }
			else if(mode=="modify"){
				var confirm=1;
				var stat=0;
				PageManager.DataService.setQueryField('confirmNum',confirm);
				PageManager.DataService.setQueryField('statusNum',stat);

			  }

			PageManager.DataService.callDataService('cjSearchFTF');
		}
		if(contraType.value=="PayInSlip")
		{
				if(mode=="edit")
				 {
					var confirm=0;
					PageManager.DataService.setQueryField('confirmNum',confirm);
					var stat=0;
					PageManager.DataService.setQueryField('statusNum',stat);

				 }
				else if(mode=="modify")
				{
				var confirm=1;
				var stat=0;
				PageManager.DataService.setQueryField('confirmNum',confirm);
				PageManager.DataService.setQueryField('statusNum',stat);
				}
				PageManager.DataService.callDataService('journalSearchPayInSlip');
		}


      }
	}
	var table=document.getElementById('journalSearchGrid');
	table.style.display="block";

}


function hideColumn(index){
	var table=document.getElementById('journalSearchGrid');
   	for(var i=0;i<table.rows.length;i++){
		table.rows[i].cells[index].style.display="none";
   	}
}
function showColumn(index){
	var table=document.getElementById('journalSearchGrid');
   	for(var i=0;i<table.rows.length;i++){
		table.rows[i].cells[index].style.display="block";
   	}
}
function showAllColumns()
{
	var table=document.getElementById('journalSearchGrid');
   	for(var i=0;i<table.rows.length;i++)
   	{
   		for(var j=0;j<table.rows[i].cells.length;j++)
   		{
			table.rows[i].cells[j].style.display="block";

		}
   	}
}
function onloadTasks()
{
// added by iliyaraja
	PageManager.DataService.callDataService('finYearDate');
	journalType=PageManager.DataService.getQueryField('journalType');
	switch (journalType) {
		case "General":document.getElementById('screenName').innerHTML="Journal Voucher - Search";break;
		case "Bill":document.getElementById('screenName').innerHTML="Bills - Search";break;
		case "Contra":document.getElementById('screenName').innerHTML="Contra - Search";break;
	}
	document.getElementById('contraTypeHead').style.display="none";
	document.getElementById('billTypeHead').style.display="none";
	mode = PageManager.DataService.getQueryField('showMode');
	PageValidator.addCalendars();
	PageManager.ListService.callListService();
	if(journalType=="Contra")
	{
		document.getElementById('contraTypeHead').style.display="block";
		var contraType=document.getElementById('contraType');
		 			contraType.setAttribute('exilMustEnter','true');
	}
	if(journalType=="Bill")
	{
		document.getElementById('billTypeHead').style.display="block";
		var billType=document.getElementById('billType');
		billType.setAttribute('exilMustEnter','true');
	}
}

function ModeChangeGrid(){
	var table=document.getElementById('journalSearchGrid');
	document.getElementById('gridA').innerHTML="CG Number";
	document.getElementById('gridB').innerHTML="Voucher Date";
	document.getElementById('gridC').innerHTML="Voucher Number";
	showAllColumns();

	var a=document.getElementsByName('colETD');
	for(var i=0; i<a.length; i++)
		a[i].align="left";
	if(journalType=="General"){
		hideColumn(6);
		hideColumn(1);
		hideColumn(2);
		hideColumn(7);

		document.getElementById('gridB').innerHTML="Voucher Number";
		document.getElementById('gridC').innerHTML="Voucher Date";
		document.getElementById('gridD').innerHTML="Fund Name";
		document.getElementById('gridE').innerHTML="Type";
		document.getElementById('gridF').innerHTML="Amount";

	}
	if(journalType=="Bill")
	{
		 var billType=document.getElementById('billType');
	    if(billType.value=="Supplier")
		{
			hideColumn(1);
			hideColumn(6);
			document.getElementById('gridB').innerHTML="Voucher Number";
			document.getElementById('gridC').innerHTML="Supplier";
			document.getElementById('gridD').innerHTML="Bill Number";
			document.getElementById('gridE').innerHTML="Bill Amount";
			document.getElementById('gridF').innerHTML="Passed Amount";
			for(var i=0; i<a.length; i++)
				a[i].align="right";
		}
		if(billType.value=="Contractor")
		{
			hideColumn(1);
			document.getElementById('gridB').innerHTML="Voucher Number";
			document.getElementById('gridC').innerHTML="Contractor";
			document.getElementById('gridD').innerHTML="Work Order Reference";
			document.getElementById('gridE').innerHTML="Bill Amount";
			document.getElementById('gridF').innerHTML="Passed Amount";
			for(var i=0; i<a.length; i++)
			a[i].align="right";
		}
		if(billType.value=='Salary')
		{

			hideColumn(4);
			hideColumn(5);
			hideColumn(1);
			hideColumn(6);
			document.getElementById('gridE').innerHTML="Month";
			document.getElementById('gridB').innerHTML="Voucher Number";
		}
	}
	if(journalType=="Contra")
	{
		var contraType=document.getElementById('contraType');
		if(contraType.value=='Bank To Bank')
		{
			hideColumn(1);
			hideColumn(6);
			document.getElementById('gridB').innerHTML="Voucher Number";
			document.getElementById('gridC').innerHTML="From Bank";
			document.getElementById('gridD').innerHTML="To Bank";
			document.getElementById('gridE').innerHTML="Cheque Number";
		}
		if(contraType.value=='Cash Withdrawal')
		{
			hideColumn(1);
			hideColumn(4);
			hideColumn(6);
				document.getElementById('gridB').innerHTML="Voucher Number";
			document.getElementById('gridD').innerHTML="From Bank";
			document.getElementById('gridE').innerHTML="To Cash";
		}
		if(contraType.value=='Cash Deposit')
		{
			hideColumn(1);
			hideColumn(4);
			hideColumn(6);
				document.getElementById('gridB').innerHTML="Voucher Number";
			document.getElementById('gridD').innerHTML="From Cash";
			document.getElementById('gridE').innerHTML="To Bank";
		}
		if(contraType.value=='Inter Fund Transfer')
		{
			hideColumn(1);
			hideColumn(4);
			hideColumn(6);
				document.getElementById('gridB').innerHTML="Voucher Number";
			document.getElementById('gridD').innerHTML="From Fund";
			document.getElementById('gridE').innerHTML="To Fund";
		}
		if(contraType.value=="PayInSlip")
	  	{
			hideColumn(1);
			hideColumn(2);
			hideColumn(6);
				document.getElementById('gridB').innerHTML="Voucher Number";
			document.getElementById('gridB').innerHTML="Pay-In Slip Number";
			document.getElementById('gridC').innerHTML="Pay-In Slip Date";
			document.getElementById('gridD').innerHTML="Cheque Numbers";
			document.getElementById('gridE').innerHTML="Bank Name";
	 	}

   }
}

function beforeRefreshPage(dc){
	if(dc.values['serviceID']=='finYearDate')
	{
		var dt=dc.values['startFinDate']
		dt=formatDate2(dt);
		document.getElementById('voucherDateFrom').value=dt;
	}

	if(dc.values['serviceID'] == 'journalSearchPayInSlip')
	{
	  var objt=dc.grids['journalSearchGrid'];
	  for(k=1;k<objt.length;k++)
	  {
	  	window.vNum[k]=objt[k][1];
		countOfVnum++;
	  }

	  PageManager.DataService.callDataService('jSChequePayInSlip');

	}

	if(dc.values['serviceID'] == 'jSChequePayInSlip')
	{
		i=1;
		var str;
		var table=document.getElementById('journalSearchGrid');
		var obj=dc.grids['chequeNumber'];
		for(k=1;k<=countOfVnum;k++)
		{
		 str="";
		  for(j=0;j<obj.length;j++)
		 {
		   	if(window.vNum[k]==obj[j][1])
		 	{
		 	str=str+obj[j][0]+",";
		 	}
		 }
		 	var objec=PageManager.DataService.getControlInBranch(table.rows[k],"colD");
			if(objec != null)
			objec.innerHTML=str;
		}
	}
	var t=document.getElementById('gridC').innerHTML;
	var d=document.getElementById('gridH').innerHTML;
	var tabObj=dc.grids['journalSearchGrid'];
	if(!tabObj)	return false;
	if(tabObj.length<2){
			alert("No Data");
	}
	if(t && (t=='Voucher Date' || t=='Pay-In Slip Date')||d=='Voucher Date' ){
	 	for(var i=1;i<tabObj.length;i++){
	 			tabObj[i][2]=formatDate(tabObj[i][2]);
		}
	}
	var newArray=new Array();
	newArray[0]=tabObj[0];
	var index=1;
	var jType=document.getElementById('journalType');
	if(jType && jType.value=='PayInSlip'){
		var c=0,i=0,j=0,k=0;
		for(i=1;i<tabObj.length-c-1;i++){
			for(j=i+1;j<tabObj.length-c;j++){
				if(tabObj[i][0]==tabObj[j][0] && tabObj[i][1]==tabObj[j][1]){
					tabObj[i][3]=tabObj[i][3]+","+tabObj[j][3];
					newArray[i]=tabObj[i];

					  for(k=j;k<tabObj.length-c-1;k++){
						tabObj[k][0]=tabObj[k+1][0];
						tabObj[k][1]=tabObj[k+1][1];
						tabObj[k][2]=tabObj[k+1][2];
						tabObj[k][3]=tabObj[k+1][3];
						tabObj[k][4]=tabObj[k+1][4];
						tabObj[k][5]=tabObj[k+1][5];
						tabObj[k][6]=tabObj[k+1][6];

					}
					j=j-1;
					c++;
				}
				else
					newArray[i]=tabObj[i];
			}
		}
		newArray[i]=tabObj[i];
		dc.grids['journalSearchGrid']=newArray;


	}

	return true;
}


function changeColor(){
	var table=document.getElementById('journalSearchGrid');
	for(var i=1;i<table.rows.length;i++){
			var statusObj=PageManager.DataService.getControlInBranch(table.rows[i],"colG");
 			var status=statusObj.innerHTML;
 			if(status=='Reversed')
 			{
				var trObj=PageManager.DataService.getRow(statusObj);
 				trObj.className='rowRev';
 			}
 			else if(status=='Reversal')
 			{
 				var trObj=PageManager.DataService.getRow(statusObj);
 				trObj.className='rowRev2';
 			}
 			else
 			{
				var trObj=PageManager.DataService.getRow(statusObj);
 				trObj.className='normaltext';
			}

  	 	}
}

function afterRefreshPage(dc){
	addSlNo();
	changeColor();
	var voucherDateFrom=document.getElementById('voucherDateFrom').value;
	var voucherDateTo=document.getElementById('voucherDateTo').value;
	if(voucherDateFrom && voucherDateFrom.length!=0)
	{
			var VouDateFrom=dc.values['voucherDateFrom'];
			VouDateFrom=formatDateToDDMMYYYY5(VouDateFrom);
			document.getElementById('voucherDateFrom').value=VouDateFrom;
	}
	if(voucherDateTo && voucherDateTo.length!=0)
	{
		var VouDateTo=dc.values['voucherDateTo'];
		VouDateTo=formatDateToDDMMYYYY5(VouDateTo);
		document.getElementById('voucherDateTo').value=VouDateTo;
	}
	ModeChangeGrid();

}

function addSlNo(){
	var slNo=1;
	var tabObj=document.getElementById("journalSearchGrid");
	for(var i=1;i<tabObj.rows.length;i++){
		var obj=PageManager.DataService.getControlInBranch(tabObj.rows[i],"slNo");
		obj.innerHTML=slNo;
		slNo++;
	}

}

function getDetails(obj){
	var row=PageManager.DataService.getRow(obj);
	var table=document.getElementById('journalSearchGrid');
	var cgn1=PageManager.DataService.getControlInBranch(table.rows[row.rowIndex],"colA");
	cgn1=cgn1.innerHTML;
	var cgn2=cgn1.substring(0,3);
	var vStatus=PageManager.DataService.getControlInBranch(table.rows[row.rowIndex],"colG");
	vStatus=vStatus.innerHTML;
	var vStatus1=vStatus.substring(0,1);
	switch(cgn2){
	case 'JVG':
	//window.location="JV_General.htm?cgNumber="+cgn1+"&showMode="+mode;
	cWind=window.open("JV_General.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=20,top=20,status=yes");
	cWindows[count++]=cWind;
	break;
	case 'SJV' :
	//window.location="SupplierJournal.htm?cgNumber="+cgn1+"&showMode="+mode;
	cWind=window.open("SupplierJournal.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=20,top=20,status=yes");
	cWindows[count++]=cWind;
	break;
	case 'CJV' :
	//window.location="ContractorJournal.htm?cgNumber="+cgn1+"&showMode="+mode;
	cWind=window.open("ContractorJournal.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=20,top=20,status=yes");
	cWindows[count++]=cWind;
	break;
	case 'SAL' :
	//window.location="JV_Salary.htm?cgNumber="+cgn1+"&showMode="+mode;
	cWind=window.open("JV_Salary.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=20,top=20,status=yes");
	cWindows[count++]=cWind;
	break;
	case 'PYS':
	//window.location="PayInSlip.htm?cgNumber="+cgn1+"&showMode="+mode+"&vStatus="+vStatus1;
	cWind=window.open("PayInSlip.htm?cgNumber="+cgn1+"&showMode="+mode+"&vStatus="+vStatus1,"","height=650,width=900,scrollbars=yes,left=20,top=20,status=yes");
	cWindows[count++]=cWind;
	break;
	case 'BTB':
	//window.location="JV_Contra_BToB.htm?cgNumber="+cgn1+"&showMode="+mode;
	cWind=window.open("JV_Contra_BToB.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=20,top=20,status=yes");
	cWindows[count++]=cWind;
	break;
	case 'BTC':
	//window.location="JV_Contra_BToC.htm?cgNumber="+cgn1+"&showMode="+mode;
	cWind=window.open("JV_Contra_BToC.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=20,top=20,status=yes");
	cWindows[count++]=cWind;
	break;
	case 'CTB':
	//window.location="JV_Contra_CToB.htm?cgNumber="+cgn1+"&showMode="+mode;
	cWind=window.open("JV_Contra_CToB.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=20,top=20,status=yes");
	cWindows[count++]=cWind;
	break;
	case 'FTF':
	//window.location="JV_Contra_FToF.htm?cgNumber="+cgn1+"&showMode="+mode;
	cWind=window.open("JV_Contra_FToF.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=20,top=20,status=yes");
	cWindows[count++]=cWind;
	break;
	case 'RBE':
	//window.location="BankEntry.htm?cgNumber="+cgn1;
	cWind=window.open("BankEntry.htm?cgNumber="+cgn1,"","height=650,width=900,scrollbars=yes,left=20,top=20,status=yes");
	cWindows[count++]=cWind;
	break;
	}
}

</SCRIPT>

</head>
<body bgcolor="#ffffff" bottommargin="0" topmargin="0" rightmargin="0" leftmargin="0" marginheight="0" marginwidth="0" onLoad="onloadTasks()" onbeforeunload="closeChilds(cWindows,count)" ><!------------------ Header Begins Begins--------------------->
<form name="journalVoucher">
<input type=hidden id=reportType name=reportType>
<input type="hidden" name="startFinDate" id="startFinDate">
	<table width="100%" border=0 cellpadding="3" cellspacing="0">
		<tr>
			<td class="rowheader" valign="center" colspan=4><span  id="screenName" class="headerwhite2">Search</span></td>

		</tr>
		<tr class="row1" width="100%" id="billTypeHead">
		  	<td align="right" valign="center" class="normaltext" width="25%" >	Bill Type<span class="leadon">*</span></td>
		  	<td class="fieldinput" width="25%" >
				<!--select class="fieldinput" name="billType" id="billType" exilListSource="billType" width="20"-->
				<select class="fieldinput" name="billType" id="billType"  width="20">
				<option value=""></option>
				<option value="Contractor">Contractor</option>
				<option value="Supplier">Supplier</option>
				<option value="Salary">Salary</option>
				</select>
			</td>
			<td width="25%">&nbsp;</td>
			<td width="25%">&nbsp;</td>
		</tr>
		<tr class="row1" width="100%" id="contraTypeHead" >
			<td align="right" valign="center" class="normaltext" width="25%" >Contra Type<span class="leadon">*</span></td>
		  	<td class="fieldinput" width="25%" >
				<!--select class="fieldinput" name="contraType" id="contraType" exilListSource="contraType" width="20" -->
				<select class="fieldinput" name="contraType" id="contraType"  width="20">
				<option value=""></option>
				<option value="Bank To Bank">Bank To Bank</option>
				<option value="Cash Withdrawal">Cash Withdrawal</option>
				<option value="Cash Deposit">Cash Deposit</option>
				<option value="Inter Fund Transfer">Inter Fund Transfer</option>
				<option value="PayInSlip">Pay-In Slip</option>
				</select>
		  	</td>
		  	<td width="25%">&nbsp;</td>
		  	<td width="25%">&nbsp;</td>
		</tr>
		<tr class="row2" width="100%">
			<td align="right" valign="center" class="normaltext" width="25%"><div align="right" id="vFrom">Voucher Number </div></td>
		  	<td class="fieldinput" width="25%">
				<input class="fieldinput" name="voucherNumber" id="voucherNumber" exilDataType="exilAnyChar" size=20>
		  	</td>
		  	<td align="right" valign="center" class="normaltext" width="25%"><div align="right"> Fund </div></td>
		  	<td class="fieldinput" width="25%">
				<SELECT CLASS="fieldinput" NAME="fund" ID="fund" exilListSource="fundNameList" > </SELECT>
		  	</td>
		</tr>
		<tr class="row1" width="100%">
			<td align="right" valign="center" class="normaltext" width="25%"><div align="right" id="vDate">Voucher Date From</div></td>
		  	<td class="fieldinput" width="25%">
		  		<input class="datefieldinput"  name="voucherDateFrom"  id="voucherDateFrom" onkeyup="DateFormat(this,this.value,event,false,'3')"  exilCalendar="true" size=20>
			</td>
		 	<td align="right" valign="center" class="normaltext" width="25%"><div align="right">To</div></td>
			<td class="fieldinput" width="25%">
					<input class="datefieldinput" name="voucherDateTo"  id="voucherDateTo" onkeyup="DateFormat(this,this.value,event,false,'3')"  exilCalendar="true" size=20>
			</td>
		</tr>
		<tr class="row2" width="100%">
			<td colspan="4" align="middle"><!-- Buttons Start Here -->
				<table border="0" cellpadding="0" cellspacing="0" ID="Table1">
					<tr>
						<td align="right">
						<IMG src="/egi/resources/erp2/images/Button_leftside.gif" width="7" height="18"></td>
						<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary href="#" onClick="ButtonPress()">Search</a></td>
						<td>
						<IMG src="/egi/resources/erp2/images/Button_rightside.gif" width="7" height="18"></td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
	<table width="100%"  border="0" cellpadding="0" cellspacing="0">
		<tr class="row1" >
			<td>
				<table width="100%" border="1" align="center" cellpadding="0" cellspacing="0" name="journalSearchGrid" id="journalSearchGrid" style="DISPLAY:none">
					<tr class="rowheader">
						<td width="5%" height="34" class="columnheader"><div align="center" class="columnheader">Sl No</div></td>
						<td width="10%" class="columnheader"><div align="center" id="gridA">CG Number</div></td>
						<td width="15%" class="columnheader"><div align="center" id="gridH">Voucher Date</div></td>
						<td width="10%" class="columnheader"><div align="center" id="gridB">Voucher Number</div></td>
						<td width="15%" class="columnheader"><div align="center" id="gridC">Voucher Date</div></td>
						<td width="15%" class="columnheader"><div align="center" id="gridD">Fund Name</div></td>
						<td width="15%" class="columnheader"><div align="center" id="gridI">Work Order No</div></td>
						<td width="15%" class="columnheader"><div align="center" id="gridE">Type</div></td>
						<td width="10%" class="columnheader"><div align="center" id="gridF">Amount</div></td>
						<td width="10%" class="columnheader"><div align="center" id="gridG">Status</div></td>

				  	</tr>
				 	<tr class="normaltext">
						<td><div id="slNo" name="slNo" exilTrimLength="8">&nbsp;</div></td>
						<td><div id="colA" name="colA" exilTrimLength="10">&nbsp;</div></td>
						<td><div id="colH" name="colH" exilTrimLength="15">&nbsp;</div></td>
						<td><A onClick="getDetails(this)" href="#"><div id="colB" name="colB" exilTrimLength="10">&nbsp;</div></A></td>
						<td><div id="colC" name="colC" exilTrimLength="15">&nbsp;</div></td>
						<td><div id="colD" name="colD" exilTrimLength="15">&nbsp;</div></td>
						<td><div id="colI" name="colI" exilTrimLength="15">&nbsp;</div></td>
						<td name="colETD" id="colETD"><div id="colE" name="colE" exilTrimLength="15">&nbsp;</div></td>
						<td align=right><div id="colF" name="colF" exilTrimLength="16">&nbsp;</div></td>
						<td><div id="colG" name="colG" exilTrimLength="15">&nbsp;</div></td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
</form>
</body>
</html>

