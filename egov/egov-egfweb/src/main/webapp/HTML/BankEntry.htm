#-------------------------------------------------------------------------------
# eGov suite of products aim to improve the internal efficiency,transparency, 
#      accountability and the service delivery of the government  organizations.
#   
#       Copyright (C) <2015>  eGovernments Foundation
#   
#       The updated version of eGov suite of products as by eGovernments Foundation 
#       is available at http://www.egovernments.org
#   
#       This program is free software: you can redistribute it and/or modify
#       it under the terms of the GNU General Public License as published by
#       the Free Software Foundation, either version 3 of the License, or
#       any later version.
#   
#       This program is distributed in the hope that it will be useful,
#       but WITHOUT ANY WARRANTY; without even the implied warranty of
#       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#       GNU General Public License for more details.
#   
#       You should have received a copy of the GNU General Public License
#       along with this program. If not, see http://www.gnu.org/licenses/ or 
#       http://www.gnu.org/licenses/gpl.html .
#   
#       In addition to the terms of the GPL license to be adhered to in using this
#       program, the following additional terms are to be complied with:
#   
#   	1) All versions of this program, verbatim or modified must carry this 
#   	   Legal Notice.
#   
#   	2) Any misrepresentation of the origin of the material is prohibited. It 
#   	   is required that all modified versions of this material be marked in 
#   	   reasonable ways as different from the original version.
#   
#   	3) This license does not grant any rights to any user of the program 
#   	   with regards to rights under trademark law for use of the trade names 
#   	   or trademarks of eGovernments Foundation.
#   
#     In case of any queries, you can reach eGovernments Foundation at contact@egovernments.org.
#-------------------------------------------------------------------------------
<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>

<script language="javascript">
	window.dataRetreived=false;
	var buttonMode = "";
	var drillDown=false;
	var bankSt="";
	function onBodyLoad()
	{
		var cgn=PageManager.DataService.getQueryField('cgNumber');
		if(cgn)
		{
			drillDown=true;
			PageManager.ListService.callListService();
			document.getElementById('gridSubmit').style.display ="none";
			document.getElementById('backbutton').style.display="block";
			PageManager.DataService.setQueryField('cgNumber',cgn);
			PageManager.DataService.callDataService('getBrDetails');

		}
		else
		{

		document.getElementById('backbutton').style.display="none";
		PageValidator.addCalendars();
		PageManager.ListService.callListService();
		PageManager.DataService.callDataService('cgNumber');
		var accId = PageManager.DataService.getQueryField('bankAccount_accountId');
		bankSt = PageManager.DataService.getQueryField('bankStatement');
		PageManager.DataService.setQueryField('bankAccountId',accId);
		PageManager.DataService.callDataService('bankFundAndGLCode');
		PageManager.DataService.addNewRow('gridBankEntry');
		document.getElementById('voucherHeader_voucherNumber').focus();
		}
	}
	function beforeRefreshPage(dc){
		if(dc.values['serviceID']=='getBrDetails')
		{
		 document.getElementById('bank_name').innerHTML=dc.values['bank_name'];
		 document.getElementById('bankAccount_accountNumber').innerHTML=dc.values['bankAccount_accountNumber'];
		 document.getElementById('accBalance').innerHTML=dc.values['accBalance'];

		}
		if(drillDown && dc.values['serviceID']=='getBrDetails')
		{
				 dc=createRowIndex(dc,'gridBankEntry');
		}
		if(isNaN(parseInt(dc.values['voucherHeader_cgn']))) return;
		dc.values['voucherHeader_cgn'] = 'RBE' + dc.values['voucherHeader_cgn'];
	}
	function afterRefreshPage(dc){
		if(!drillDown)
		{
		var accId, accNum, bankId,bankName, accBalance;
		bankId = PageManager.DataService.getQueryField('bankId');
		bankName = PageManager.DataService.getQueryField('bankName');
		accId = PageManager.DataService.getQueryField('bankAccount_accountId');
		accNum = PageManager.DataService.getQueryField('bankAccount_accountNumber');
		accBalance = PageManager.DataService.getQueryField('accBalance');
		document.getElementById('bank_id').value = bankId;
		document.getElementById('bank_name').innerHTML = bankName;
		document.getElementById('bankAccount_id').value = accId;
		document.getElementById('bankAccount_accountNumber').innerHTML = accNum;
		document.getElementById('accBalance').innerHTML = accBalance;
		}
		if(dc.values['serviceID']=='getBrDetails')
		{
		var voucherDate=formatDate(dc.values['voucherHeader_voucherDate']);
		document.getElementById('voucherHeader_voucherDate').value=voucherDate;
		}
	}
	function openSearch(obj,tableName)
	{
		var a = new Array(2);
	    //var sRtn = showModalDialog("Search.html?screenName=directPayment","","dialogLeft=300;dialogTop=210;dialogWidth=305pt;dialogHeight=300pt;status=no;");
	    var sRtn =showModalDialog("Search.html?filterServiceID=4","","dialogLeft=300;dialogTop=210;dialogWidth=305pt;dialogHeight=300pt;status=no;");
	    if ( sRtn != '' )
		{
			a = sRtn.split(",");
			var x =PageManager.DataService.getControlInBranch(obj.parentNode,'chartOfAccounts_glCode');
			var y =PageManager.DataService.getControlInBranch(obj.parentNode.parentNode,'chartOfAccounts_name');

			x.value = a[0];
			y.value = a[1];
		}
	}
    function getAccName(evnt) {
		PageManager.DescService.onblur(evnt);
	}
	function colTotal(obj,target)
    {
		var a = document.getElementsByName(obj.name);
 	    count = 0;
 	    for(var i = 0; i<=a.length-1;i++) if(a[i].value) count += parseFloat(a[i].value);
	    document.getElementById(target).value = count;
		if(!drillDown)
		{
			var accBalance = document.getElementById('accBalance').innerHTML;
			//var row = PageManager.DataService.getRow(obj);
			var bal = 0;
			if(accBalance) bal = accBalance;

			var dr,cr;
			var gridBankEntry = document.getElementById('gridBankEntry');
			for(var i = 1; i<gridBankEntry.rows.length;i++){
				dr = PageManager.DataService.getControlInBranch(gridBankEntry.rows[i],'voucherDetail_debitAmount').value;
				cr = PageManager.DataService.getControlInBranch(gridBankEntry.rows[i],'voucherDetail_creditAmount').value;

				if(dr) bal = parseFloat(bal)-parseFloat(dr);
				if(cr) bal = parseFloat(bal)+parseFloat(cr);
			}
			document.getElementById('bankBalance').value = bal;
		}
    }
    function checkLength(bankAdvRef)
	{
		if(bankAdvRef.value.length>=250){
			alert("bank Adv Ref Cannot Be More Than " + 250 + " Characters");
			return false;
		}
		return true;
	}
	function ButtonPress(name)
	{
		if(!PageValidator.validateForm())
			return false;
		if(!isValid())	return false;

		PageManager.UpdateService.submitForm('bankEntry');
	}
	function isValid(){
		var bankGLCode = document.getElementById('bankGLCode').value;
		var accBalance = document.getElementById('accBalance').innerHTML;
		var bal = 0;
		if(accBalance) bal = accBalance;

		var glCode,dr,cr;
		var gridBankEntry = document.getElementById('gridBankEntry');
		for(var i = 1; i<gridBankEntry.rows.length; i++){
			dr = PageManager.DataService.getControlInBranch(gridBankEntry.rows[i],'voucherDetail_debitAmount');
			cr = PageManager.DataService.getControlInBranch(gridBankEntry.rows[i],'voucherDetail_creditAmount');
			glCode = PageManager.DataService.getControlInBranch(gridBankEntry.rows[i],'chartOfAccounts_glCode');

			if(dr.value=='') dr.value='0';
			if(cr.value=='') cr.value='0';

			if(dr.value>0 && cr.value>0){
				bal = accBalance;
				alert('debit and credit cant be supplied for the same account code ROW: ' + i);
				return false;
			}
			if(glCode == bankGLCode){
				alert('GL Code ' + bankGLCode + ' can not be used (own bank code)');
				return false;
			}
		}
		return true;
	}
	function afterUpdateService()
	{
		var bankAccount_accountNumberId, bank_id;
		bankAccount_accountNumberId = document.getElementById('bankAccount_id').value;
		bank_id = document.getElementById('bank_id').value;
		window.location = "BankReconciliation.htm?bank_id="+bank_id+"&bankAccount_accountNumberId="+bankAccount_accountNumberId+"&reconcileDate="+document.getElementById('voucherHeader_voucherDate').value+"&bankStatement="+bankSt;

	}

	function showglEntry()
		{
			var trObj;
			var tObj=document.getElementById("showEntries");
			var cr=0,dr=0;
			tObj.style.display="block";
			var tableObj=document.getElementById("entries");
			var gltable= document.getElementById("gridBankEntry");
			var glBankCode=document.getElementById("bankGLCode").value;
			var glBankName=document.getElementById('bank_name').innerHTML
			for(var i=tableObj.rows.length-1;i>=2;i--)
			{
				tableObj.deleteRow(i);
			}
			for(var i=1;i<gltable.rows.length;i++)
			{

				code=PageManager.DataService.getControlInBranch(gltable.rows[i],'chartOfAccounts_glCode').value;
				if(code)
				{
				name=PageManager.DataService.getControlInBranch(gltable.rows[i],'chartOfAccounts_name').value;
				debit=PageManager.DataService.getControlInBranch(gltable.rows[i],'voucherDetail_debitAmount').value;
				credit=PageManager.DataService.getControlInBranch(gltable.rows[i],'voucherDetail_creditAmount').value;
				var Obj=PageManager.DataService.getControlInBranch(tableObj.rows[1],"display_Code");
				trObj=PageManager.DataService.getRow(Obj);
				 if(i==1){
								newRow=trObj;
								objt1=PageManager.DataService.getControlInBranch(newRow,'display_Code');
								objt2=PageManager.DataService.getControlInBranch(newRow,'display_Head');
								objt3=PageManager.DataService.getControlInBranch(newRow,'display_Debit');
								objt4=PageManager.DataService.getControlInBranch(newRow,'display_Credit');
								if(code=="") code=" -"; if(name=="") name=" -"; if(debit=="") debit=" 0"; if(credit=="") credit=" 0";
								objt1.innerHTML=code;
								objt2.innerHTML=name;
								objt3.innerHTML=debit;
								objt4.innerHTML=credit;
								newRow=trObj.cloneNode(true);
								newRow=tableObj.tBodies[0].appendChild(newRow);
								objt11=PageManager.DataService.getControlInBranch(newRow,'display_Code');
								objt12=PageManager.DataService.getControlInBranch(newRow,'display_Head');
								objt13=PageManager.DataService.getControlInBranch(newRow,'display_Debit');
								objt14=PageManager.DataService.getControlInBranch(newRow,'display_Credit');
								if(debit=="") debit=" 0"; if(credit=="") credit=" 0";
								objt11.innerHTML=glBankCode;
								objt12.innerHTML=glBankName;
								objt13.innerHTML=credit;
								objt14.innerHTML=debit;

				 }else{

						 var newRow=trObj.cloneNode(true);
						newRow=tableObj.tBodies[0].appendChild(newRow);
						objt1=PageManager.DataService.getControlInBranch(newRow,'display_Code');
						objt2=PageManager.DataService.getControlInBranch(newRow,'display_Head');
						objt3=PageManager.DataService.getControlInBranch(newRow,'display_Debit');
						objt4=PageManager.DataService.getControlInBranch(newRow,'display_Credit');

						if(code=="") code=" -"; if(name=="") name=" -"; if(debit=="") debit=" 0"; if(credit=="") credit=" 0";
						objt1.innerHTML=code;
						objt2.innerHTML=name;
						objt3.innerHTML=debit;
						objt4.innerHTML=credit;
						newRow=trObj.cloneNode(true);
						newRow=tableObj.tBodies[0].appendChild(newRow);
						objt11=PageManager.DataService.getControlInBranch(newRow,'display_Code');
						objt12=PageManager.DataService.getControlInBranch(newRow,'display_Head');
						objt13=PageManager.DataService.getControlInBranch(newRow,'display_Debit');
						objt14=PageManager.DataService.getControlInBranch(newRow,'display_Credit');

						if(debit=="") debit=" 0"; if(credit=="") credit=" 0";
						objt11.innerHTML=glBankCode;
						objt12.innerHTML=glBankName;
						objt13.innerHTML=credit;
						objt14.innerHTML=debit;


				}
			  }

			}

			 var dSum=0;
			 var cSum=0;
			for(var i=1;i<tableObj.rows.length;i++)
			{

			  var dObj=PageManager.DataService.getControlInBranch(tableObj.rows[i],"display_Debit");
			  var cObj=PageManager.DataService.getControlInBranch(tableObj.rows[i],"display_Credit");
			 if(!isNaN(parseFloat(dObj.innerHTML)))
			 {
			   var sum=(parseFloat(dObj.innerHTML));
			   dSum=dSum+sum;
			 }
			 if(!isNaN(parseFloat(cObj.innerHTML)))
			 {
			   var sum=(parseFloat(cObj.innerHTML));
			   cSum=cSum+sum;
			 }
			}
			var newRow=trObj.cloneNode(true);
			newRow=tableObj.tBodies[0].appendChild(newRow);
			objt1=PageManager.DataService.getControlInBranch(newRow,'display_Code');
			objt2=PageManager.DataService.getControlInBranch(newRow,'display_Head');
			objt3=PageManager.DataService.getControlInBranch(newRow,'display_Debit');
			objt4=PageManager.DataService.getControlInBranch(newRow,'display_Credit');
			objt1.innerHTML=" ";
			objt2.innerHTML=" ";
			objt3.innerHTML=dSum;
			objt4.innerHTML=cSum;

	}



</script>

</head>
<body onLoad="onBodyLoad()" onKeyDown ="CloseWindow(event); " bgcolor="#ffffff" bottommargin="0" topmargin="0" rightmargin="0" leftmargin="0" marginheight="0" marginwidth="0">
<form name="bankReconciliation">
<input type="hidden" name="tType" id="tType" value="C">
<input type="hidden" name="cgnNum" id="cgnNum">
	<table width="100%" border=0 cellpadding="0" cellspacing="0"><!------------Content begins here ------------------>
							<tr>
								<td><!--<DIV id="divReconcile" name="divReconcile">-->
									<table width ="100%" border=0 cellpadding="3" cellspacing="0" id="gridBankReconciliation" name="gridBankReconciliation">
										<tr class="rowheader" style="HEIGHT: 22px">
											<td colspan=4 class="columnheader"><div align="left">Bank Entry</div></td>
										</tr>
										<tr class="row1">
											<td width="20%" class="normaltext"><div align="right">Bank&nbsp;&nbsp;</div></td>
											<td width="30%" class="normaltext"><input type="hidden" name="bank_id" id="bank_id" ><div align="left" class="displayData" name="bank_name" id="bank_name">&nbsp;</div></td>
											<td width="20%" class="normaltext"><div align="right">Account&nbsp;Number&nbsp;&nbsp;</div></td>
											<td width="30%" class="normaltext"><input type="hidden" name="bankAccount_id" id="bankAccount_id"><div class="displayData" align="left" name="bankAccount_accountNumber" id="bankAccount_accountNumber">&nbsp;</div></td>
										</tr><!--
										<tr class="row2">
											<td width="20%" class="normaltext"><div align="right">Account&nbsp;Number&nbsp;&nbsp;</div></td>
											<td width="30%" class="normaltext"><input type="hidden" name="bankAccount_id" id="bankAccount_id"><input type="hidden" name="bank_id" id="bank_id" ><div class="displayData" align="left" name="bankAccount_accountNumber" id="bankAccount_accountNumber">&nbsp;</div></td>
											<td width="20%" class="normaltext"><div align="right">Account&nbsp;Balance&nbsp;&nbsp;</div></td>
											<td width="30%" class="normaltext"><div align="left" name="bankAccount_accountBalance" id="bankAccount_accountBalance">&nbsp;</div></td>
										</tr>
										<tr class="row2">
											<td class="normaltext"><div align="right">Bank&nbsp;&nbsp;</div></td>
											<td colspan="3" class="normaltext"><div align="left" class="displayData" name="bank_name" id="bank_name">&nbsp;</div></td>
										</tr>
										-->
										<tr class="row2">
											<td><div class="normaltext" align="right">Account Balance&nbsp;&nbsp;</div></td>
											<td colspan=3><input type="hidden" name="bankGLCode" id="bankGLCode"><div class="displayData" align="left" name="accBalance" id="accBalance"></div></td>
										</tr>
										<tr class="row1"><td colspan=4>&nbsp;</td></tr>
										<tr >
											<td width="20%" align="right" valign="center" class="normaltext" id="cgnLabel" name="cgnLabel" style="DISPLAY: none"><div align="right">CG Number</div></td>
											<td class="fieldinput" id="cgnText" name="cgnText" style="DISPLAY: none">
												<input name="voucherHeader_cgn" class="fieldinput" id="voucherHeader_" maxlength="10" readOnly exilMustEnter="true" exilDataType="exilAlphaNumeric" >
											</td>
											<td  width="25%" align="right" valign="center" class="normaltext"><div align="right">Voucher Number<span class="leadon">*</span></div></td>
											<td  width="30%" class="fieldinput"><input name="voucherHeader_voucherNumber" maxlength="5" class="fieldinput-left" id="voucherHeader_voucherNumber"  exilMustEnter="true" exilDataType="exilUnsignedInt" ></td>

										</tr>
										<tr class="row1">
											<td align="right" valign="center" class="normaltext"><div align="right">Voucher Date<span class="leadon">*</span></div></td>
											<td>
												<input name="voucherHeader_voucherDate" class="datefieldinput" id="voucherHeader_voucherDate" maxlength="11" onkeyup="DateFormat(this,this.value,event,false,'3')" exilMustEnter="true" exilDataType="exilPastDate" exilCalendar="true">&nbsp;
											</td>
											<td><div align="right" valign="center" class="normaltext">Fund Name<span class="leadon">*</span></div></td>
											<td>
												<input type="hidden" name="fund_id" id="fund_id"><input name="fund_name" id="fund_name" readOnly>
											</td>
										</tr>
										<tr class="row2">
											<td><div align="right" valign="center" class="normaltext">Department<span class=leadon >*</span></div></td>
											<td>
												<SELECT  name="department_id" exilMustEnter="true" id="department_id" class="fieldinput" exilListSource="departmentNameList">	</SELECT>
											</td>
											<td align="right" valign="center"><div class="normaltext" align="right">narration<span class="leadon">*</span></div></td>
											<td class="fieldinput">
												<input name="voucherHeader_description" class="fieldinput-left" id="voucherHeader_description" maxlength="50" exilMustEnter="true" exilDataType="exilAnyChar" >
											</td>
										</tr><!--
										<tr class="row1">
											<td align="right" valign="center" class="normaltext"><div align="right">Account Code<span class="leadon">*</span></div></td>
											<td>
												<INPUT class=fieldinput-right id="chartOfAccounts_glCode" name="chartOfAccounts_glCode" onBlur="getAccName(event)" maxlength="20" style="WIDTH: 118px; HEIGHT: 19px" size="14" exilDataSource="" exilDescField="chartOfAccounts_name" exilMustEnter="true" exilDataType="exilAlphaNumeric"><IMG onclick="openSearch(this,'chartOfAccounts')" height=22 src="/egi/resources/erp2/images/plus1.gif" width=25 align=top border=0>
											</td>
											<td  width="25%" align="right" valign="center" class="normaltext"><div align="right">Account Head<span class="leadon">*</span></div></td>
											<td  width="30%" class="fieldinput">
												<INPUT class=fieldinput-left id=chartOfAccounts_name maxlength="50" style="WIDTH: 179px; HEIGHT: 19px" size=23 name=chartOfAccounts_name onMouseOver="this.title = this.value" readOnly exilDataType="exilAnyChar">
											</td>
										</tr>
										<tr class="row2">
											<td width="20%" align="right" valign="center" class="normaltext"><div align="right">Amount<span class="leadon">*</span></div></td>
											<td class="fieldinput">
												<input class="fieldinput" name="voucherDetail_amount" id="voucherDetail_amount" maxlength="10" exilMax="999999.99" exilMin="0" exilDataType="exilUnsignedDecimal" exilMustEnter="true">
											</td>
											<td  width="25%" align="right" valign="center" class="normaltext"><div align="right">Bank Advice Reference<span class="leadon">*</span></div></td>
											<td  width="30%" class="fieldinput">
												<input name="bankReconciliation_bankAdviceRef" class="fieldinput-left" id="bankReconciliation_bankAdviceRef" maxlength="50" exilDataType="exilAnyChar" exilMustEnter="true" >
											</td>
										</tr>
										-->
									</table>
									<table width="100%" border=1 cellpadding="3" cellspacing="0" id="gridBankEntry">
										<tr class="rowheader" height="25">
										   <td width="20%" class="columnheader"><div align="center" class="columnheader">Account Code</div></td>
										   <td width="18%" class="columnheader"><div align="center">Account Head</div></td>
										   <td width="18%" class="columnheader"><div align="center">Dr Amount</div></td>
										   <td width="18%" class="columnheader"><div align="center">Cr Amount</div></td>
										   <td width="18%" class="columnheader"><div align="center">Bank Adv Ref</div></td>
										   <td width="8%" class="columnheader"><div align="center">Details</div></td>
										</tr>
										<tr>
											<td><input size="1" class=fieldinput-right name="chartOfAccounts_glCode" id="chartOfAccounts_glCode" onBlur="getAccName(event)" maxlength="20" style="WIDTH: 117px; HEIGHT: 22px" exilDataType="exilAlphaNumeric" exilDescField="chartOfAccounts_name"
            exilDataSource=""
            exilInGrid="true"><IMG id=IMG1 onclick="openSearch(this,'chartOfAccounts')" height=22 src="/egi/resources/erp2/images/plus1.gif" width=25 align=top border=0></td>
											<td><input size="1" class="fieldinput-left" name="chartOfAccounts_name" id="chartOfAccounts_name" onMouseOver="this.title = this.value" maxlength="50" style="WIDTH: 124px; HEIGHT: 19px" readOnly exilDataType="exilAnyChar"></td>
											<td><input size="8" class="fieldinput-right" name="voucherDetail_debitAmount" id="voucherDetail_debitAmount" onBlur="colTotal(this,'debitTotal')" maxlength="10" style="WIDTH: 126px; HEIGHT: 22px" exilDataType="exilUnsignedDecimal" exilMin="0"
          exilMax="999999.99"></td>
											<td><input  class="fieldinput-right" name="voucherDetail_creditAmount" id="voucherDetail_creditAmount" onBlur="colTotal(this,'creditTotal')" maxlength="10" style="WIDTH: 127px; HEIGHT: 22px" size="13"
            exilDataType="exilUnsignedDecimal" exilMin="0"
          exilMax="999999.99"></td>
											<td><input size="7" class="fieldinput-left" name="brs_bankAdviceReference" id="brs_bankAdviceReference" onMouseOver="this.title = this.value" onKeyPress="return checkLength(this)" onKeyDown="addNewRow('gridBankEntry','chartOfAccounts_glCode')" maxLength="250" style="WIDTH: 125px; HEIGHT: 22px"
            exilDataType="exilAnyChar"></td>
											<td><A id=A1 onclick="openDetails(this,'chartOfAccounts_glCode')" href="#" >Click</A></td>
										</tr>
									</table>
									<table width="100%" border="0" cellpadding="0" cellspacing="0" ID="gridDBIJ">
									<tr>
                                    <td>
									<table width="100%" border="1" cellpadding="3" cellspacing="0" ID="totalTable">
                                       <tr>
											<td width="20%">&nbsp;</td>
											<td width="18%">&nbsp;</td>
											<td width="18%">
												<input class="fieldinput-right" size=10 id="debitTotal" name="debitTotal" style="WIDTH: 125px; HEIGHT: 19px" readOnly>
											</td>
											<td width="18%">
												 <INPUT class=fieldinput-right id=creditTotal style="WIDTH: 126px; HEIGHT: 19px" readOnly size=10 name=creditTotal>
											</td>
											<td width="18%">
												<INPUT class=fieldinput-right id="bankBalance" style="WIDTH: 125px; HEIGHT: 19px" readOnly size=16 name="bankBalance" value="0">
											</td>
											<td width="8%">&nbsp;</td>
                                       </tr>
									</table>
									</td>
									</tr>
									</table>
							<table width="100%" border=0 cellpadding="0" cellspacing="0" id=TABLE1>
								<tr class="row1">
									<td height="25" colspan="5" valign="bottom" class="smalltext"><p class="smalltext">
										<span class="leadon">*</span>- Mandatory Fields</p>
									</td>
								</tr>
								<tr class="row1">
									<td colspan="5" align="middle" width="100%">
										<table border="0" cellpadding="0" cellspacing="0" name="gridSubmit" id="gridSubmit">
											<tr>
												<td align="right"><IMG height=18 src="/egi/resources/erp2/images/Button_leftside.gif" width=7></td>
												<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary onclick=ButtonPress('savenew') href="#">Submit</A></td>
												<td><IMG height=18 src="/egi/resources/erp2/images/Button_rightside.gif" width=7></td>
												<td><IMG src="/egi/resources/erp2/images/spacer.gif" width=8></td>
												<td align="right"><IMG height=18 src="/egi/resources/erp2/images/Button_second_leftside.gif" width=6></td>
												<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick=window.close() href="#" >Close</A></td>
												<td><IMG height=18 src="/egi/resources/erp2/images/Button_second_rightside.gif" width=6></td>
												<td><IMG src="/egi/resources/erp2/images/spacer.gif" width=8></td>
												<td><IMG height=18 src="/egi/resources/erp2/images/Button_second_leftside.gif" width=6></td>
												<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick="showglEntry();" href="#">Show GLEntry</A></td>
												<td><IMG height=18 src="/egi/resources/erp2/images/Button_second_rightside.gif" width=6></td>
											</tr>

										</table>
										<tr class="row1">
													<td colspan="4" align="middle">
														<table border="0" cellpadding="0" cellspacing="0" id="buttons">
															<tr id="backbutton"><td align="center">
															<IMG height=18 src="/egi/resources/erp2/images/Button_leftside.gif" width=6></td>
															<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary onclick="back(window.self)"  href="#">Back</A></td>
															<td><IMG height=18 src="/egi/resources/erp2/images/Button_rightside.gif" width=6></td>
															<td><IMG src="/egi/resources/erp2/images/spacer.gif" width=8></td>
															</tr>

														</table>
													</td>
												</tr>
									</td>
								</tr>
							</table><!--</DIV>--></td>
					</tr>
			</table>

			 <table width="100%" border=0 cellpadding="3" cellspacing="0" id="showEntries" name="showEntries" style="DISPLAY: none">
										<tr class="row2">
										<td colspan=4>
										<table width="100%" align=center border="0" cellpadding="0" cellspacing="0" >
										<tr class="row1" height="25">
										 <TD class=displaydata align=center ><h4>GLEntry</h4></TD></tr>
										</table>
										</td>
										</tr>
										<tr><td>
										<table width="80%" border="1" cellpadding="0" cellspacing="0" align=center id="entries" name="entries">
										<tr class="rowheader">
											<td  class="columnheader"><div align="center" valign="center" class="columnheader"> Account Code</div></td>
											<td  class="columnheader"><div align="center" valign="center" class="columnheader"> Account Head</div></td>
											<td  class="columnheader"><div align="center" valign="center" class="columnheader"> Debit </div></td>
											<td  class="columnheader"><div align="center" valign="center" class="columnheader"> Credit</div></td>

										</tr>
										<tr class="normaltext">
											<td ><div name="display_Code"  id="display_Code"   readOnly maxLength=10 tabIndex=0>&nbsp;</div></td>
											<td ><div name="display_Head"  id="display_Head"  readOnly maxLength=10 tabIndex=0>&nbsp;</div></td>
											<td ><div name="display_Debit"  id="display_Ddebit"  readOnly maxLength=10 tabIndex=0>&nbsp;</div></td>
											<td ><div name="display_Credit"  id="display_Credit"  readOnly maxLength=10 tabIndex=0>&nbsp;</div></td>

										</tr>
										</table>
										</td>
										</tr>
						</table>

			<table id="entities_grid" width="20%" style="DISPLAY: none" >
		<tr>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<td><input id="grid_detTypeId" name="grid_detTypeId" style="WIDTH: 21px"
     ></td>
			<td><input id="grid_detKeyId" name="grid_detKeyId" style="WIDTH: 21px"
     ></td>
			<td><input id="grid_detValue" name="grid_detValue" style="WIDTH:21px"
     ></td>
			<td><input id="grid_rowIndex" name="grid_rowIndex" style="WIDTH: 21px"
     ></td>
		</tr>
	</table>
		</form>
	</body>
</html>
