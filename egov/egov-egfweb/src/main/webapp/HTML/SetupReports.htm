#-------------------------------------------------------------------------------
# eGov suite of products aim to improve the internal efficiency,transparency, 
#      accountability and the service delivery of the government  organizations.
#   
#       Copyright (C) <2015>  eGovernments Foundation
#   
#       The updated version of eGov suite of products as by eGovernments Foundation 
#       is available at http://www.egovernments.org
#   
#       This program is free software: you can redistribute it and/or modify
#       it under the terms of the GNU General Public License as published by
#       the Free Software Foundation, either version 3 of the License, or
#       any later version.
#   
#       This program is distributed in the hope that it will be useful,
#       but WITHOUT ANY WARRANTY; without even the implied warranty of
#       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#       GNU General Public License for more details.
#   
#       You should have received a copy of the GNU General Public License
#       along with this program. If not, see http://www.gnu.org/licenses/ or 
#       http://www.gnu.org/licenses/gpl.html .
#   
#       In addition to the terms of the GPL license to be adhered to in using this
#       program, the following additional terms are to be complied with:
#   
#   	1) All versions of this program, verbatim or modified must carry this 
#   	   Legal Notice.
#   
#   	2) Any misrepresentation of the origin of the material is prohibited. It 
#   	   is required that all modified versions of this material be marked in 
#   	   reasonable ways as different from the original version.
#   
#   	3) This license does not grant any rights to any user of the program 
#   	   with regards to rights under trademark law for use of the trade names 
#   	   or trademarks of eGovernments Foundation.
#   
#     In case of any queries, you can reach eGovernments Foundation at contact@egovernments.org.
#-------------------------------------------------------------------------------
<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="KEYWORDS" content="">
<meta http-equiv="DESCRIPTION" content="">
<!-- Inclusion of the CSS files that contains the styles -->
<link rel=stylesheet href="../exility/global.css" type="text/css">
<SCRIPT LANGUAGE="javascript" SRC="../exility/PageManager.js"></SCRIPT>
<script LANGUAGE="javascript" src="../exility/PageValidator.js"></script>
<SCRIPT LANGUAGE="javascript" SRC="../exility/CookieManager.js"></SCRIPT>
<script LANGUAGE="javascript" src="../exility/ExilityParameters.js"></script>
<script language="javascript" src="../script/jsCommonMethods.js"></script>


<script language="javascript">
var rowSummaryHidden=false, rowScheduleHidden=false;
function onBodyLoad(){
	PageManager.DataService.callDataService('reportGroups');
	PageManager.DataService.addNewRow('gridSummaryNew');
	PageManager.DataService.addNewRow('gridSchedulesNew');
}
function beforeRefreshPage(dc){
}
function afterRefreshPage(dc){
}
function afterUpdateService(dc){
	window.location = "SetupReports.htm";
}

function openSearch(obj, level){
	var a = new Array(2);
	var filter='', ctrGLCode='', ctrGLName='';

	if(level == 'summary'){
		ctrGLCode = 'coaSummaryNew_glCode';
		ctrGLName = 'coaSummaryNew_name';
		filter = '2';
	}
	if(level == 'schedule'){
		ctrGLCode = 'coaScheduleNew_glCode';
		ctrGLName = 'coaScheduleNew_name';
		filter = '3';
	}

    var sRtn = showModalDialog("Search.html?tableNameForCode=chartofaccounts_all&filter2="+filter,"","dialogLeft=300;dialogTop=210;dialogWidth=305pt;dialogHeight=300pt;status=no;");
    if ( sRtn != '' )
	{
		a = sRtn.split(",");
		var x =PageManager.DataService.getControlInBranch(obj.parentNode, ctrGLCode);
		var y =PageManager.DataService.getControlInBranch(obj.parentNode.parentNode , ctrGLName);
		x.value = a[0];
		y.value = a[1];
	}
}
function addRow(gridName){
	PageManager.DataService.addNewRow(gridName);
}
function getAccName(evnt) {
	PageManager.DescService.onblur(evnt);
}
function ButtonPress(name){
	if(!confirm('are you sure to submit, click OK to submit'))
		return false;

	PageManager.UpdateService.submitForm('setupReport');
}
function hideGrid(obj){
	if(obj.innerHTML == 'Hide Summary Grid'){
		document.getElementById('rowSummary').style.display = 'none';
		rowSummaryHidden = true;
		obj.innerHTML = 'Show Summary Grid';
	}else if(obj.innerHTML == 'Show Summary Grid'){
		document.getElementById('rowSummary').style.display = 'block';
		rowSummaryHidden = false;
		obj.innerHTML = "Hide Summary Grid";
	}else if(obj.innerHTML == 'Hide Schedule Grid'){
		document.getElementById('rowSchedule').style.display = 'none';
		rowScheduleHidden = true;
		obj.innerHTML = "Show Schedule Grid";
	}else if(obj.innerHTML == 'Show Schedule Grid'){
		document.getElementById('rowSchedule').style.display = 'block';
		rowScheduleHidden = false;
		obj.innerHTML = "Hide Schedule Grid";
	}

	if(rowScheduleHidden || rowSummaryHidden)
		document.getElementById('rowSubmit').style.display = 'none';
	else
		document.getElementById('rowSubmit').style.display = 'block';
}
</script>
</head>
<body bgcolor="#ffffff" bottommargin="0" topmargin="0" rightmargin="0" leftmargin="0" marginheight="0" marginwidth="0" onLoad="onBodyLoad()" onKeyDown ="CloseWindow(event);"><!------------------ Header Begins Begins--------------------->
<form name="SetupReport">
	<table width="102%" border=0 cellpadding="3" cellspacing="0">
		<tr><td class="rowheader" colspan="4" width="896"><span class="headerwhite2">Report Setup</span></td></tr>
		<tr class="row1">
			<td width="25%">&nbsp;</td>
			<td width="25%"></td>
			<td width="25%"></td>
			<td width="25%"></td>
		</tr>
		<tr class="row2" width="100%">
			<td colspan="4" align="middle" width="896"><!-- Buttons Start Here -->
				<table border="0" cellpadding="0" cellspacing="0" id=TABLE1>
					<tr class="row2">
						<td align="right"><IMG id=IMG1 height=18 src="/egi/resources/erp2/images/Button_second_leftside.gif" width=7 ></td>
						<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A name="buttonSummaryGroup" id="buttonSummaryGroup" class=buttonsecondary onclick="hideGrid(this)" href="#">Hide Summary Grid</A></td>
						<td><IMG id=IMG1 height=18 src="/egi/resources/erp2/images/Button_second_rightside.gif" width=7 ></td>
						<td><IMG style="LEFT: -1px; TOP: 5px" src="/egi/resources/erp2/images/spacer.gif" width=8></td>
						<td><IMG style="LEFT: -1px; TOP: 5px" src="/egi/resources/erp2/images/spacer.gif" width=8></td>
						<td><IMG style="LEFT: -1px; TOP: 5px" src="/egi/resources/erp2/images/spacer.gif" width=8></td>
						<td align="right"><IMG id=IMG1 height=18 src="/egi/resources/erp2/images/Button_second_leftside.gif" width=7 ></td>
						<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick="hideGrid(this)" href="#">Hide Schedule Grid</A></td>
						<td><IMG id=IMG1 height=18 src="/egi/resources/erp2/images/Button_second_rightside.gif" width=7 ></td>
					</tr>
				</table>
			</td>
		</tr>
		<tr class="row1"><td colspan=4>&nbsp;</td></tr>
		<tr class="row2" name="rowSummary" id="rowSummary" style="display: bloak">
			<td colspan="4">
				<table align=center width="85%" border="1" cellpadding="0" cellspacing="0" name="gridSummary" ID="gridSummary">
					<tr class="rowheader">
						<td width="27%" class="columnheader" height="20"><div align="center" >Summary Group</div></td>
						<td width="27%" class="columnheader" height="20"><div align="center" >Summary&nbsp;Group Name</div></td>
						<td width="24%" class="columnheader"><div align="center"> Schedule</div></td>
						<td width="22%" class="columnheader"><div align="center">Operation on Schedule</div></td>
					</tr>
					<tr class="normaltext">
						<td><input class="fieldinput-left" id="coaSummary_glCode" name="coaSummary_glCode" onBlur="getAccName(event)" maxlength ="15" readOnly exilInGrid="true" exilDescField="chartOfAccounts_name" exilDataSource="" exilDataType="exilAlphaNumeric"></td>
						<td><input class="fieldinput-left" size="23" id="coaSummary_name" name="coaSummary_name" readOnly onMouseOver="this.title =this.value" exilDataType="exilAnyChar"></td>
						<td><input class="fieldinput-left" NAME="coaSummary_schedule" id="coaSummary_schedule" exilDataType="exilAnyChar"></td>
						<td><select class="fieldinput" name="coaSummary_operation" id="coaSummary_operation">
							<option value="A" selected>Add</option>
							<option value="L">Less</option>
						</select></td>
						<!--<td><input type="hidden" name="coaSummary_operation" id="coaSummary_operation" value=N><div class="normaltext" align="left">not applicable</div></td>-->
					</tr>
				</table>
				<table align=center width="85%" border="1" cellpadding="0" cellspacing="0" name="gridSummaryNew" id="gridSummaryNew">
					<tr>
						<td width="27%"></td>
						<td width="27%"></td>
						<td width="24%"></td>
						<td width="22%"></td>
					</tr>
					<tr class="normaltext">
						<td><input class="fieldinput-left" id="coaSummaryNew_glCode" name="coaSummaryNew_glCode" onBlur="getAccName(event)" maxlength ="15" exilInGrid="true" exilDescField="coaSummaryNew_name" exilDataSource="" exilDataType="exilAlphaNumeric"><IMG id=IMG1 onclick="openSearch(this,'summary')" height =20 src="/egi/resources/erp2/images/plus1.gif" width=20 align=top border=0 ></td>
						<td><input class="fieldinput-left" size="23" id="coaSummaryNew_name" name="coaSummaryNew_name" readOnly onMouseOver="this.title =this.value" exilDataType="exilAnyChar"></td>
						<td><input class="fieldinput-left" NAME="coaSummaryNew_schedule" id="coaSummaryNew_schedule" exilDataType="exilAnyChar"></td>
						<td><select class="fieldinput" name="coaSummaryNew_operation" id="coaSummaryNew_operation">
							<option value="A" selected>Add</option>
							<option value="L">Less</option>
						</select></td>
						<!--<td><input type="hidden" name="coaSummaryNew_operation" id="coaSummaryNew_operation" value=N><div class="normaltext" align="left">not applicable</div></td>-->
					</tr>
				</table>
				<table align=center border="0" cellpadding="0" cellspacing="0" name="gridAddRow" ID="gridAddRow" >
					<tr class="normaltext">
						<td>&nbsp;</td>
					</tr>
					<tr class="normaltext">
						<td align="right"><IMG id=IMG1 height=18 src="/egi/resources/erp2/images/Button_second_leftside.gif" width=7 ></td>
						<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick="addRow('gridSummaryNew')" href="#">Add Summary Group</A></td>
						<td><IMG id=IMG1 height=18 src="/egi/resources/erp2/images/Button_second_rightside.gif" width=7 ></td>
					</tr>
				</table>
			</td>
		</tr>
		<tr class="row1"><td colspan="4"></td></tr>
		<tr class="row2" name="rowSchedule" id="rowSchedule" style="display: block">
			<td colspan="4">
				<table align=center width="85%" border="1" cellpadding="0" cellspacing="0" name="gridSchedules" ID="gridSchedules" >
					<tr class="rowheader">
						<td width="27%" class="columnheader" height="20"><div align="center" >Schedule&nbsp;Group</div></td>
						<td width="27%" class="columnheader" height="20"><div align="center" >Schedule&nbsp;Group Name</div></td>
						<td width="24%" class="columnheader"><div align="center"> Schedule</div></td>
						<td width="22%" class="columnheader"><div align="center">Operation on Schedule</div></td>
					</tr>
					<tr class="normaltext">
						<td><input class="fieldinput-left" id="coaSchedule_glCode" name="coaSchedule_glCode" onBlur="getAccName(event)" maxlength ="15" readOnly exilInGrid="true" exilDescField="chartOfAccounts_name" exilDataSource="" exilDataType="exilAlphaNumeric"></td>
						<td><input class="fieldinput-left" size="23" id="coaSchedule_name" name="coaSchedule_name" readOnly onMouseOver="this.title =this.value" exilDataType="exilAnyChar"></td>
						<td><input class="fieldinput-left" NAME="coaSchedule_schedule" id="coaSchedule_schedule" exilDataType="exilAnyChar"></td>
						<td><select class="fieldinput" name="coaSchedule_operation" id="coaSchedule_operation">
							<option value="A" selected>Add</option>
							<option value="L">Less</option>
						</select></td>
					</tr>
				</table>
				<table align=center width="85%" border="1" cellpadding="0" cellspacing="0" name="gridSchedulesNew" id="gridSchedulesNew">
					<tr>
						<td width="27%"></td>
						<td width="27%"></td>
						<td width="24%"></td>
						<td width="22%"></td>
					</tr>
					<tr class="normaltext">
						<td><input class="fieldinput-left" id="coaScheduleNew_glCode" name="coaScheduleNew_glCode" onBlur="getAccName(event)" maxlength ="15" exilInGrid="true" exilDescField="coaScheduleNew_name" exilDataSource="" exilDataType="exilAlphaNumeric"><IMG id=IMG1 onclick="openSearch(this,'schedule')" height =20 src="/egi/resources/erp2/images/plus1.gif" width=20 align=top border=0 ></td>
						<td><input class="fieldinput-left" size="23" id="coaScheduleNew_name" name="coaScheduleNew_name" readOnly onMouseOver="this.title =this.value" exilDataType="exilAnyChar"></td>
						<td><input class="fieldinput-left" NAME="coaScheduleNew_schedule" id="coaScheduleNew_schedule" exilDataType="exilAnyChar"></td>
						<td><select class="fieldinput" name="coaScheduleNew_operation" id="coaScheduleNew_operation">
							<option value="A" selected>Add</option>
							<option value="L">Less</option>
						</select></td>
					</tr>
				</table>
				<table align=center border="0" cellpadding="0" cellspacing="0" name="gridAddRow" ID="gridAddRow" >
					<tr class="normaltext">
						<td>&nbsp;</td>
					</tr>
					<tr class="normaltext">
						<td align="right"><IMG id=IMG1 height=18 src="/egi/resources/erp2/images/Button_second_leftside.gif" width=7 ></td>
						<td bgcolor="#ffffff" valign="center" nowrap background="/egi/resources/erp2/images/Button_second_middle.gif"><A class=buttonsecondary onclick="addRow('gridSchedulesNew')" href="#">Add Schedule Group</A></td>
						<td><IMG id=IMG1 height=18 src="/egi/resources/erp2/images/Button_second_rightside.gif" width=7 ></td>
					</tr>
				</table>
			</td>
		</tr>
		<tr class="row1">
			<td height="25" colspan="4" valign="bottom" class="smalltext" width="896"><p class="smalltext"><span class="leadon">*</span>
			- Mandatory Fields</p>
			</td>
		</tr>
		<tr class="row1" width="100%" name="rowSubmit" id="rowSubmit" style="display: block">
			<td colspan="4" align="middle"><!-- Buttons Start Here -->
				<table border="0" cellpadding="0" cellspacing="0" id=TABLE1>
					<tr>
						<td align="right"><IMG id=IMG1 height=18 src="/egi/resources/erp2/images/Button_leftside.gif" width=7 ></td>
						<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary onclick="ButtonPress('saveClose')"; href="#">Submit</A></td>
						<td><IMG id=IMG1 height=18 src="/egi/resources/erp2/images/Button_rightside.gif" width=7 ></td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
</form>
</body>
</html>
