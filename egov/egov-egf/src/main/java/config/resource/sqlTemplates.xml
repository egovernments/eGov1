<!--
  eGov suite of products aim to improve the internal efficiency,transparency, 
     accountability and the service delivery of the government  organizations.
  
      Copyright (C) <2015>  eGovernments Foundation
  
      The updated version of eGov suite of products as by eGovernments Foundation 
      is available at http://www.egovernments.org
  
      This program is free software: you can redistribute it and/or modify
      it under the terms of the GNU General Public License as published by
      the Free Software Foundation, either version 3 of the License, or
      any later version.
  
      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      GNU General Public License for more details.
  
      You should have received a copy of the GNU General Public License
      along with this program. If not, see http://www.gnu.org/licenses/ or 
      http://www.gnu.org/licenses/gpl.html .
  
      In addition to the terms of the GPL license to be adhered to in using this
      program, the following additional terms are to be complied with:
  
  	1) All versions of this program, verbatim or modified must carry this 
  	   Legal Notice.
  
  	2) Any misrepresentation of the origin of the material is prohibited. It 
  	   is required that all modified versions of this material be marked in 
  	   reasonable ways as different from the original version.
  
  	3) This license does not grant any rights to any user of the program 
  	   with regards to rights under trademark law for use of the trade names 
  	   or trademarks of eGovernments Foundation.
  
    In case of any queries, you can reach eGovernments Foundation at contact@egovernments.org.
-->
<?xml  version="1.0"?>
<sqlTemplates>
 <sqlTemplate id="schemelist"
  	    template="select id,name from scheme where fundid='@1' order by name">
  	 	<parameter dataSource="fundId" isRequired="true"/>
   </sqlTemplate>
 <sqlTemplate id="schemelistbyname"
  	    template="select id,name from scheme where fundid in (select id from fund where name='@1') order by name">
  	 	<parameter dataSource="fundname" isRequired="true"/>
   </sqlTemplate>

    <sqlTemplate id="subschemelist"
  	    template="select id,name from sub_scheme where schemeid='@1' order by name">
  	 	<parameter dataSource="schemeId" isRequired="true"/>
   </sqlTemplate>

    <sqlTemplate id="worksDetailBill"
  	    template="select id as &quot;id&quot;,workordernumber as &quot;workordernumber&quot; from eg_billregister where worksdetailid=(select id from worksdetail where code='@1')">
  	 	<parameter dataSource="worksDetail_codeId" isRequired="true"/>
   </sqlTemplate>

   <sqlTemplate id="voucherHeader_createdby"
     	     template="select user_name as  &quot;voucherHeader_createdby&quot; from eg_user where id_user='@1'  ">
     	 	<parameter dataSource="id_user" isRequired="true"/>
   </sqlTemplate>
	
	<sqlTemplate id="schemeSearch"
				template="select s.code as &quot;schemeCode&quot;,
				s.Name as &quot;sName&quot;, TO_CHAR(s.validfrom,'dd/mm/yyyy') as &quot;fromDate&quot;,
				TO_CHAR(s.validto,'dd/mm/yyyy') as &quot;toDate&quot;,decode(s.isactive,1,'Yes',decode(s.isactive,0,'No','')) AS &quot;status&quot;,s.id as &quot;cgNumber&quot;
				from scheme s where s.fundid='@1' {AND s.validfrom &gt;= '@2'} {AND s.validto &lt;='@3'} ORDER BY s.validfrom">		
				<parameter dataSource="fundID" isRequired="true"/>
				<parameter dataSource="voucherDateFrom" isRequired="false"/>
				<parameter dataSource="voucherDateTo" isRequired="false"/>
						
	</sqlTemplate>

	<sqlTemplate id="getschemeDetailsNew"
				template="select s.code as &quot;schemecode&quot;,s.name as &quot;schemename&quot;,TO_CHAR(s.validfrom,'dd/mm/yyyy') as &quot;startDate&quot;,TO_CHAR(s.validto,'dd/mm/yyyy') as &quot;endDate&quot;,s.isactive as &quot;isActive&quot;,s.fundid AS &quot;fund_id&quot;,s.description AS &quot;description&quot; 
				  from scheme s where s.id='@1'">		
				<parameter dataSource="code" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="getSubSchemeDetails"
				template="select s.code as &quot;addschemecode&quot;,s.Name as &quot;addschemename&quot;,TO_CHAR(s.validfrom,'dd/mm/yyyy') as &quot;addstartDate&quot;,TO_CHAR(s.validto,'dd/mm/yyyy') as &quot;addendDate&quot;,s.isactive as &quot;addisActive&quot; 
				  from sub_scheme s where s.schemeid='@1' order by code">		
				<parameter dataSource="code" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="schemeForWO"  
	             template="select id as &quot;scheme&quot;,name as &quot;schemeid&quot; from scheme s where id=( select a.schemeid from egw_works_mis a ,worksdetail w where w.id=a.worksdetailid and w.id=@1 and a.schemeid=s.id)"  >
	             <parameter dataSource="workOrderID" isRequired="true" />
	   </sqlTemplate>
	<sqlTemplate id="subSchemeForWO"  
		             template="select id as &quot;subscheme&quot;,name as &quot;subschemeid&quot; from sub_scheme s where id=( select a.subschemeid from egw_works_mis a ,worksdetail w where w.id=a.worksdetailid and w.id=@1 and a.subschemeid=s.id)"  >
	             <parameter dataSource="workOrderID" isRequired="true" />
	             </sqlTemplate>
	
<sqlTemplate id="accountIDAndName"
		template="SELECT ID as &quot;accountdetailtype_ID&quot;, name as &quot;accountdetailtype_name&quot;, description as &quot;accountdetailtype_description&quot; ,tablename as &quot;accountdetailtype_tableName&quot; FROM  accountdetailtype ">
	</sqlTemplate>
	

	<sqlTemplate id="parentIdAndLevelNum"
	     template="SELECT ID as &quot;chartOfAccounts_parentID&quot;, name as &quot;chartOfAccounts_majorHead&quot;,
	     type as &quot;chartOfAccounts_type&quot; FROM chartOfAccounts where glcode='@1'">
	     <parameter dataSource="glCode" isRequired="true" />
	 </sqlTemplate>

	
	<sqlTemplate id="supplierData" 
		template="SELECT ID as &quot;supplier_ID&quot;, name as &quot;supplier_name&quot;, code as &quot;supplier_code&quot;, mobile as &quot;supplier_mobile&quot;, city as &quot;supplier_city&quot;, address1 as &quot;supplier_address1&quot;, address2 as &quot;supplier_address2&quot;, fax as &quot;supplier_fax&quot;, email as &quot;supplier_email&quot;, Pin as &quot;supplier_pin&quot;, phone as &quot;supplier_phone&quot;, contactPerson as &quot;supplier_contactPerson&quot;, narration as &quot;supplier_narration&quot;, isActive as &quot;supplier_isActive&quot;, lastModified as &quot;supplier_lastModified&quot; FROM supplier WHERE code = '@1'">
		<parameter dataSource="supplier_codeToSearch" isRequired="true" />
	</sqlTemplate>

	<sqlTemplate id="accountId" 
		template="select id,name from chartOfAccounts where glCode = '@1'">		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate> 
		
	<sqlTemplate id="chequeDetail" 
		template="SELECT ID as &quot;ID&quot;, fromchequenumber as &quot;fromChequeNo&quot;, tochequenumber as &quot;toChequeNo&quot;, TO_CHAR(receiveddate,'dd/MM/yyyy') as &quot;ReceivedDate&quot;,ISEXHAUSTED as &quot;isExh&quot;,NEXTCHQNO as &quot;nxtChqNo&quot;,ALLOTEDTO as  &quot;isAllottedTo&quot; FROM EGF_ACCOUNT_CHEQUES WHERE bankaccountid = '@1'">
		<parameter dataSource="bankaccountid" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="contractorCodeVerification" 
		template="SELECT name  FROM Contractor  WHERE code ='@1'">		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="contractorData" 
		template="SELECT ID as &quot;contractor_ID&quot;, name as &quot;contractor_name&quot;, code as &quot;contractor_code&quot;, mobile as &quot;contractor_mobile&quot;, city as &quot;contractor_city&quot;, address1 as &quot;contractor_address1&quot;, address2 as &quot;contractor_address2&quot;, fax as &quot;contractor_fax&quot;, email as &quot;contractor_email&quot;, Pin as &quot;contractor_pin&quot;, phone as &quot;contractor_phone&quot;, contactPerson as &quot;contractor_contactPerson&quot;, narration as &quot;contractor_narration&quot;, isActive as &quot;contractor_isActive&quot;, lastModified as &quot;contractor_lastModified&quot; FROM contractor WHERE code = '@1'">
		<parameter dataSource="contractor_codeToSearch" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="codeAndDescription"
		template="SELECT id as &quot;divId&quot;, code as &quot;divCode&quot;, name as &quot;divDes&quot; FROM @1 WHERE 1=1  {AND relationTypeId = @2 AND isActive=1}">
		<parameter dataSource="tableNameForCode" isRequired="true" />
		<parameter dataSource="relationType" isRequired="false" />
	</sqlTemplate>
	<sqlTemplate id="selectCounter"
		template="SELECT ID as &quot;billCollector_ID&quot;, name as &quot;billCollector_name&quot; FROM billCollector where type='counter'"
		addColumnHeading="true">
		<parameter dataSource="tableNameForCode" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="companyDetailData" 
		template="SELECT ID as &quot;companyDetail_ID&quot;, name as &quot;companyDetail_name&quot;,  mobile as &quot;companyDetail_mobile&quot;, city as &quot;companyDetail_city&quot;, address1 as &quot;companyDetail_address1&quot;, address2 as &quot;companyDetail_address2&quot;, fax as &quot;companyDetail_fax&quot;, email as &quot;companyDetail_email&quot;, Pin as &quot;companyDetail_pin&quot;, phone as &quot;companyDetail_phone&quot;, contactPerson as &quot;companyDetail_contactPerson&quot;, narration as &quot;companyDetail_narration&quot;,lastmodified as &quot;companyDetail_lastModified&quot; FROM companyDetail ">
		
	</sqlTemplate>
	
	<sqlTemplate id="taxesData"
		template="SELECT  t.ID as &quot;taxes_ID&quot;, t.lastModified as &quot;taxes_lastModified&quot;, t.code as &quot;taxes_code&quot;,t.name as &quot;taxes_name&quot;,c.name as &quot;chartOfAccounts_name&quot;, c.ID as &quot;taxes_glCodeId&quot;, c.glCode as &quot;chartOfAccounts_code&quot; from taxes t, chartOfAccounts c where t.glCodeId=c.ID and t.code='@1'">
		<parameter dataSource="tax_code" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="taxCode"
		template="SELECT  t.ID as &quot;taxes_ID&quot;, t.lastModified as &quot;taxes_lastModified&quot;, t.code as &quot;taxes_code&quot;,t.name as &quot;taxes_name&quot;,c.name as &quot;chartOfAccounts_name&quot;, c.ID as &quot;taxes_glCodeId&quot;, c.glCode as &quot;chartOfAccounts_code&quot; from taxes t, chartOfAccounts c where t.glCodeId=c.ID">
	</sqlTemplate>
	<sqlTemplate id="glCodeAndDescription"
		template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM @1 WHERE isactiveforposting=1 
			{ AND glCode LIKE '@2' || '%'} {AND classification = @3} {AND name not like '%' || '@4' || '%'}
			{AND glcode not like '@5'|| '%'} {AND name not like '%' || '@6' || '%'} {AND name like '%' || '@7' || '%' } 
			{OR glcode like '@8' || '%'} {AND classification &gt; '@9'} ORDER BY glcode">
		<parameter dataSource="tableNameForCode" isRequired="true" />
		<parameter dataSource="filter" isRequired="false" />
		<parameter dataSource="lvlNumber" isRequired="false"/>
		<parameter dataSource="filter2" isRequired="false"/>
		<parameter dataSource="filter3" isRequired="false"/>
		<parameter dataSource="filter4" isRequired="false"/>
		<parameter dataSource="filter5" isRequired="false"/>
		<parameter dataSource="filter6" isRequired="false"/>
		<parameter dataSource="filter7" isRequired="false"/>
	</sqlTemplate>
	<sqlTemplate id="finYearCodeAndDescription"
		template="SELECT financialYear as &quot;divCode&quot;, financialYear as &quot;divDes&quot;, ID as &quot;divId&quot; FROM @1 WHERE isactive=1">
		<parameter dataSource="tableNameForCode" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="departmentData" 
		template="SELECT id_dept as &quot;department_ID&quot;,dept_code as &quot;department_code&quot;, dept_name as &quot;department_name&quot;, dept_details as &quot;department_details&quot; FROM eg_department  order by dept_name">		
	</sqlTemplate>

	<sqlTemplate id="taxAccCode"
			template="select b.code as &quot;taxCode&quot;,c.glCode as &quot;glCode&quot;,b.name as &quot;taxName&quot;,c.name as &quot;accName&quot; 		from 	egf_tax_account_mapping a,EGF_TAX_CODE b,CHARTOFACCOUNTS c  WHERE a.FINANCIALYEAR='@1' AND 		a.GLCODEID=c.ID 	and 	a.taxcodeid=b.id AND b.code&lt;&gt;'PT' AND a.isactive=1 AND b.isactive=1">
		<parameter dataSource="fyper" isRequired="true"/>
	</sqlTemplate>	
	<sqlTemplate id="taxAccountId"
		template="SELECT  ID as &quot;taxes_glCodeId&quot;, name as &quot;chartOfAccounts_name&quot; from chartOfAccounts where glCode='@1'">
		<parameter dataSource="glCode" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="department"
		template="SELECT  ID_dept, dept_name from eg_department order by dept_name">
	</sqlTemplate>
	<sqlTemplate id="inHandId"
		template="SELECT  cashInHand as &quot;billCollector_cashInHand&quot;,chequeInHand as &quot;billCollector_chequeInHand&quot; from billCollector {WHERE ID='@1'}">
		<parameter dataSource="id" isRequired="true" defaultValue="23"/>
	</sqlTemplate>
	<sqlTemplate id="billCollectorData" 
		template= "SELECT     billCollector.ID as &quot;billCollector_ID&quot;,
				billCollector.code as &quot;billCollector_code&quot;,
				billCollector.name as &quot;billCollector_name&quot;,
				billCollector.type as &quot;billCollector_type&quot;,
				billCollector.narration as &quot;billCollector_narration&quot;,
				billCollector.lastModified as &quot;billCollector_lastModified&quot;,
				eg_department.dept_code as &quot;department_code&quot;,
				eg_department.dept_name as &quot;department_name&quot;,
				billCollector.departmentId AS &quot;billCollector_departmentId&quot;,
				billCollector.isActive as &quot;billCollector_isActive&quot;
			FROM         billCollector,
				eg_department
			WHERE   billCollector.departmentID = eg_department.id_dept
			AND	billCollector.code = '@1'">
		<parameter dataSource="billCollector_codeToSearch" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="wardForBillCollector"
		template="SELECT ID, name from organizationStructure
	where parentid in (SELECT ID AS &quot;billCollector_regionId&quot; from organizationstructure 
	where ID in (SELECT regionId from billCollector b
		where b.code='@1'))">
			<parameter dataSource="billCollector_codeToSearch" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="wardForBC"
		template="SELECT     ID, name FROM organizationStructure
			WHERE     ID IN  (SELECT     wardid   FROM  billCollectordetail a, billcollector b 
		      WHERE  billcollectorid = b.id AND b.code ='@1')">
			<parameter dataSource="billCollector_codeToSearch" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="billCollector_departmentId" 
		template="SELECT  ID_dept, dept_name from eg_department order by dept_name">
	</sqlTemplate>
	<sqlTemplate id="departmentCodeList" 
		template="SELECT ID_dept, dept_code FROM eg_department order by dept_code">
	</sqlTemplate>
	
	<sqlTemplate id="departmentNameId" 
		template="SELECT ID_dept as &quot;billCollector_departmentId&quot;,
			    dept_name as &quot;department_name&quot;
			    FROM eg_department WHERE id_dept=@1">
		<parameter dataSource="departmnt_code" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="billCollector_regionId"
		template="select a.ID_BNDRY,a.NAME from eg_boundary a,eg_boundary_type b where a.ID_BNDRY_TYPE=b.ID_BNDRY_TYPE and (b.name='zone' or b.name='Zone')">
	</sqlTemplate>
	<sqlTemplate id="regNameId" 
		template="select a.CASHINHAND as &quot;billCollector_cashInHand&quot;,a.CHEQUEINHAND as &quot;billCollector_chequeInHand&quot;,c.glcode as &quot;CA_cashAccountCode&quot;,d.glcode as &quot;CA_chequeAccountCode&quot; from codemapping a,eg_boundary b,chartofaccounts c,chartofaccounts d where
 			a.EG_BOUNDARYID=b.ID_BNDRY and b.ID_BNDRY='@1' and c.id=a.cashinhand and d.id=a.CHEQUEINHAND">
		<parameter dataSource="billColl_zoneId" isRequired="true" />
	</sqlTemplate>
	
	<sqlTemplate id="billCollectorDetail_wardId"
		template="SELECT ID, name FROM organizationStructure WHERE description='Ward' ">
	</sqlTemplate>
	
	<sqlTemplate id="billCollWard" 
		template="SELECT ID, name FROM organizationStructure WHERE 1=1 and isactive=1 {and parentid=@1} ">
		<parameter dataSource="billColl_wardId" isRequired="false" />
	</sqlTemplate>
	
	<sqlTemplate id="billCodeVerification" 
		template="SELECT name  FROM billCollector  WHERE code ='@1'">		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="billCollector_zoneId" 
		template="SELECT ID, name FROM organizationstructure WHERE description='Zone'">
	</sqlTemplate>


	<sqlTemplate id="regionNameList"
		template="SELECT ID, name FROM organizationStructure WHERE description='region' and isactive=1">
	</sqlTemplate>
	<sqlTemplate id="wardNameList"
		template="SELECT ID, name FROM organizationStructure WHERE description='Ward' and isactive=1">
	</sqlTemplate>
	<sqlTemplate id="chequeName"
		template="SELECT c.ID, c.name from billCollector b, chartOfAccounts c WHERE b.chequeInHand = c.ID">
	</sqlTemplate>
	<sqlTemplate id="cashName"
		template="SELECT c.ID, c.name from billCollector b, chartOfAccounts c WHERE b.cashInHand = c.ID">
	</sqlTemplate>
	
	<sqlTemplate id="accountNumber"
	  template="SELECT  ID, DECODE(narration,' ',accountNumber,DECODE(narration,NULL,accountNumber,DECODE(narration,'',accountNumber,accountNumber||' --  '||narration) ))
	  FROM BANKACCOUNT WHERE branchId=@1 and isactive=1 {and fundid=@2} ORDER BY ID">
	  <parameter dataSource="branchId" isRequired="true" />
	  <parameter dataSource="fundValue" isRequired="false" />
 </sqlTemplate>
 <sqlTemplate id="allAccountNumber"
 	  template="SELECT  ID, DECODE(narration,' ',accountNumber,DECODE(narration,NULL,accountNumber,DECODE(narration,'',accountNumber,accountNumber||' --  '||narration) ))
 	  FROM BANKACCOUNT WHERE branchId=@1 and isactive=1 ORDER BY ID">
 	  <parameter dataSource="branchId" isRequired="true" />
 	  
 </sqlTemplate>

<sqlTemplate id="accountNumber4PIS"
  template="SELECT  ID, DECODE(narration,' ',accountNumber,DECODE(narration,NULL,accountNumber,DECODE(narration,'',accountNumber,accountNumber||' --  '||narration) ))
  from bankAccount WHERE branchId=@1 and fundid=@2 and isactive=1  ORDER BY ID">
  <parameter dataSource="branchId" isRequired="true" />
  <parameter dataSource="fundValue" isRequired="true" />
 </sqlTemplate>

	<sqlTemplate id="cashInHandId"
		template="SELECT c.ID AS &quot;billCollector_cashInHand&quot;, c.glcode AS &quot;billCollector_cashInHandDesc&quot; from billCollector b,chartOfAccounts c WHERE b.cashInHand = c.ID  AND b.ID='@1'">
	<parameter dataSource="id" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="chequeInHandId"
		template="SELECT c.ID AS &quot;billCollector_chequeInHand&quot;, c.glcode AS &quot;billCollector_chequeInHandDesc&quot; from billCollector b,chartOfAccounts c WHERE b.chequeInHand = c.ID  AND b.ID='@1'">
	<parameter dataSource="id" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate  id="bankAndBranch" 
		template="SELECT  CONCAT(CONCAT(bankBranch.bankId, '-'),bankBranch.ID) as &quot;Expr1&quot;,concat(concat(bank.name , ' '),bankBranch.branchName) as &quot;Expr2&quot;
					FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId {and bank.type='@1'} {and bankBranch.id in(select a.branchid from bankaccount a,fund b 
					where b.name='General Fund'and a.fundid=b.id and 1=@2)} order by LOWER(bank.name)"> 
	<parameter dataSource="filter"  isRequired="false"/>
	<parameter dataSource="conditionForBank"  isRequired="false"/>
	</sqlTemplate>
	
		<sqlTemplate  id="accNumber" 
		template="SELECT id, accountNumber
			FROM bankAccount WHERE branchId = @1 and isactive=1 {and accounttype='@2'}
			and fundid in (select id from fund where name='General Fund')
		union
		SELECT id, accountNumber
			FROM bankAccount WHERE branchId = @3 and isactive=1 {and accounttype='@4'}
		and fundid in (select id from fund where name='General Fund')
		" >
		<parameter dataSource="bankAccount_branchId" isRequired="true"/>
		<parameter dataSource="accType1" isRequired="false"/>
		<parameter dataSource="bankAccount_branchId" isRequired="true"/>
		<parameter dataSource="accType2" isRequired="false"/>
	</sqlTemplate>
	
	<sqlTemplate  id="ptaccNumber" 
		template="SELECT id, accountNumber
			FROM bankAccount WHERE {branchId = @1 and} isactive=1 and (accounttype like '%Collection%' or accounttype like '%General%')  and fundid in (select id from fund where name='General Fund') order by accountNumber">
		<parameter dataSource="bankAccount_branchId" isRequired="false"/>
		 
	</sqlTemplate>

	<sqlTemplate  id="ward" 
		template="SELECT     a.ID, a.name FROM organizationStructure a,  billCollectorDetail b where  a.ID = b.wardId AND a.isactive=1 AND b.billCollectorID = @1">
		<parameter dataSource="billCollector_id" isRequired="true"/>	
	</sqlTemplate>
	
	<sqlTemplate  id="rptPeriodNames" 
		template="select id as &quot;financialyear_id&quot;,financialyear as  &quot;period&quot;
,startingdate as &quot;startingdate&quot;
from financialyear 
where startingdate&gt;= to_date(
to_char('1-apr-'||
(
case extract(month from  sysdate) 	 		   when 1 then extract(year from sysdate)-5  
	 			   							   when 2 then extract(year from sysdate)-5
											   when 3 then extract(year from sysdate)-5    		
											   else   	   extract(year from sysdate)-4
											   end 
											    )) )
												
and endingdate&lt;=to_date(to_char('31-mar-'||
(
case extract(month from sysdate)               when 1 then extract(year from sysdate)  
	 			   							   when 2 then extract(year from sysdate)
											   when 3 then extract(year from sysdate)    		
											   else   	   extract(year from sysdate)+1
											   end 
											    )) )


union select -1 as &quot;financialyear_id&quot;,'Old' as  &quot;period&quot;,to_date('1-jan-1800') as &quot;startingdate&quot;   from dual

												order by &quot;startingdate&quot; desc
">
	</sqlTemplate>

   <!-- Added by Mou, for Property Tax -->
	<sqlTemplate  id="rptPeriodNamesNew" 
		template="select  a.financialyear,a.financialyear  from egf_tax_account_mapping a, egf_tax_code b  where a.taxcodeid=b.id and b.code='PT' order by ROWNUM desc">
	</sqlTemplate>
	

	<sqlTemplate  id="rptCessNames" 
		template="select financialyearid as &quot;pID&quot;,DECODE(FINANCIALYEARID,-1,'Old',(select financialyear from financialyear where id=FINANCIALYEARID)) as &quot;periodC&quot;,glcode
as &quot;accCode&quot;,name as &quot;accDesc&quot;,percentage as &quot;percentC&quot;,'' as fAmount,'c' as &quot;recordType&quot;,
DECODE(FINANCIALYEARID,-1,to_date('1-jan-1800'),(select startingdate from financialyear where id=FINANCIALYEARID)) as &quot;startingdate&quot;
from vegf_tax_cess
WHERE id=(SELECT id FROM EGF_TAX_CODE WHERE code='PT')

union

select a.id as &quot;pID&quot;,a.financialyear as &quot;periodC&quot;,glcode as &quot;accCode&quot;,d.name as &quot;accDesc&quot;,
0 as &quot;percentC&quot;,' ' as 
&quot;fAmount&quot;,'p' as &quot;recordType&quot;,a.startingdate as &quot;startingdate&quot;
from financialyear a ,egf_tax_code b,egf_tax_account_mapping c,chartofaccounts d
where 
  a.id=c.financialyearid and c.taxcodeid=b.id 
  and c.glcodeid=d.id
  and b.code='PT' and
startingdate&gt;= to_date(
to_char('1-apr-'||
(
case extract(month from  sysdate) 	 		   when 1 then extract(year from sysdate)-5  
	 			   							   when 2 then extract(year from sysdate)-5
											   when 3 then extract(year from sysdate)-5    		
											   else   	   extract(year from sysdate)-4
											   end 
											    )) )
												
and endingdate&lt;=to_date(to_char('31-mar-'||
(
case extract(month from sysdate)               when 1 then extract(year from sysdate)  
	 			   							   when 2 then extract(year from sysdate)
											   when 3 then extract(year from sysdate)    		
											   else   	   extract(year from sysdate)+1
											   end 
											    )) )

union 
select -1 as &quot;pID&quot;,'Old' as &quot;periodC&quot;,glcode as &quot;accCode&quot;,c.name as &quot;accDesc&quot;,
0 as &quot;percentC&quot;,' ' as 
&quot;fAmount&quot;,'p' as &quot;recordType&quot;,to_date('1-jan-1800') as &quot;startingdate&quot;
from dual a,egf_tax_account_mapping b,chartofaccounts c
						  where b.financialyearid=-1 and c.id=b.glcodeid
order by &quot;startingdate&quot; desc,&quot;recordType&quot; desc ">
</sqlTemplate>


<!-- <sqlTemplate  id="rptCessNamesNew" 
		template="select financialyearid as &quot;pID&quot;,DECODE(FINANCIALYEARID,-1,'Old',(select financialyear from financialyear where id=FINANCIALYEARID)) as &quot;periodC&quot;,glcode
as &quot;accCode&quot;,name as &quot;accDesc&quot;,percentage as &quot;percentC&quot;,'' as &quot;fAmount&quot;,'c' as &quot;recordType&quot;
from vegf_tax_cess
WHERE id=(SELECT id FROM EGF_TAX_CODE WHERE code='PT')

union

select a.id as &quot;pID&quot;,a.financialyear as &quot;periodC&quot;,glcode as &quot;accCode&quot;,d.name as &quot;accDesc&quot;,
0 as &quot;percentC&quot;,' ' as 
&quot;fAmount&quot;,'p' as &quot;recordType&quot;
from financialyear a ,egf_tax_code b,egf_tax_account_mapping c,chartofaccounts d
where 
   c.taxcodeid=b.id 
  and c.glcodeid=d.id
  and b.code='PT' 					  

union 
select -1 as &quot;pID&quot;,'Old' as &quot;periodC&quot;,glcode as &quot;accCode&quot;,c.name as &quot;accDesc&quot;,
0 as &quot;percentC&quot;,' ' as 
&quot;fAmount&quot;,'p' as &quot;recordType&quot;
from dual a,egf_tax_account_mapping b,chartofaccounts c
						  where  c.id=b.glcodeid
order by &quot;recordType&quot; desc ">
</sqlTemplate> -->



<sqlTemplate  id="rptCessNamesPPT" 
		template="select FINANCIALYEARID as &quot;periodC&quot;,glcode
as &quot;accCode&quot;,name as &quot;accDesc&quot;,percentage as &quot;percentC&quot;,'' as &quot;fAmount&quot;,'c' as &quot;recordType&quot;
from vegf_tax_cess
WHERE id=(SELECT id FROM EGF_TAX_CODE WHERE code='PT')

union

select c.financialyear as &quot;periodC&quot;,glcode as &quot;accCode&quot;,d.name as &quot;accDesc&quot;,
0 as &quot;percentC&quot;,' ' as 
&quot;fAmount&quot;,'p' as &quot;recordType&quot;
from egf_tax_code b,egf_tax_account_mapping c,chartofaccounts d
where 
   c.taxcodeid=b.id 
  and c.glcodeid=d.id
  and b.code='PT' order by  &quot;periodC&quot;desc, &quot;recordType&quot; desc ">

</sqlTemplate>
	<sqlTemplate  id="rptCessCount" 
		template="select financialyearid,count(*) from egf_cess_master 
where taxcodeid=(SELECT id FROM EGF_TAX_CODE WHERE code='PT')
group by financialyearid order by financialyearid">
	</sqlTemplate>

	<sqlTemplate  id="rptCessTotal" 
		template="select financialyearid,sum(percentage) from egf_cess_master 
where taxcodeid=(SELECT id FROM EGF_TAX_CODE WHERE code='PT')
group by financialyearid order by financialyearid
">
	</sqlTemplate>

	<sqlTemplate  id="jvsal_department" 
			template="SELECT  ID_dept, dept_name from eg_department order by dept_name">
	</sqlTemplate>

<sqlTemplate  id="jvsal_departmentNew" 
	template="SELECT ID_dept,dept_name from eg_department order by dept_name">
</sqlTemplate>

	<sqlTemplate  id="jvsal_fundName" 
				template="select id,name from fund where isactive=1 and isnotleaf!=1 order by name">
	</sqlTemplate>

	<sqlTemplate  id="billCollectorOnRegion" 
		template="select id, name from billCollector where 1=1 and isactive=1 {and regionId=@1}and type='@2'">
		<parameter dataSource="regionId" isRequired="false"/>
		<parameter dataSource="billCollector_type" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate  id="wardOnRegion" 
		template="select id, name from organizationStructure where 1=1 and isactive=1 and description='Ward' {and parentid=@1}">
		<parameter dataSource="regionId" isRequired="false"/>
	</sqlTemplate>


		
		<sqlTemplate id="bankBranchDetail" 
		template="SELECT a.ID as &quot;bankBranch_branchId&quot;, a.branchName as &quot;bankBranch_branchName&quot;, a.branchAddress1||' '||a.branchAddress2 
			as &quot;bankBranch_branchAddress&quot; , a.contactPerson as &quot;bankBranch_contactPerson&quot;, a.branchPhone as &quot;bankBranch_branchPhone&quot;,
			a.narration as &quot;bankBranch_narration&quot; FROM bankBranch a, bank b WHERE b.id=a.bankId and b.code='@1'">
		<parameter dataSource="bank_code" isRequired="true"/>
		</sqlTemplate>
		
		
		<sqlTemplate id="branchDetail" 
			template="SELECT branchCode as &quot;bankBranch_branchCode&quot;, branchName as &quot;bankBranch_branchName&quot;, branchAddress1 as &quot;bankBranch_branchAddress1&quot;, branchAddress2 as &quot;bankBranch_branchAddress2&quot;, branchCity as &quot;bankBranch_branchCity&quot;, branchPin as &quot;bankBranch_branchPin&quot;, MICR as &quot;bankBranch_branchMICR&quot;, branchPhone as &quot;bankBranch_branchPhone&quot;, branchFax as &quot;bankBranch_branchFax&quot;, contactPerson as &quot;bankBranch_contactPerson&quot;, narration as &quot;bankBranch_narration&quot;,isActive as &quot;bankBranch_isActive&quot; FROM bankBranch WHERE id=@1">		
			<parameter dataSource="bankBranch_branchId" isRequired="true"/>
		</sqlTemplate>
		
		<sqlTemplate id="brnchDetailSearch" 
			template="SELECT id as &quot;bankBranch_branchId&quot;, branchCode as &quot;bankBranch_branchCode&quot;, branchName as &quot;bankBranch_branchName&quot;, branchAddress1 as &quot;bankBranch_branchAddress1 &quot;, branchAddress2 as &quot;bankBranch_branchAddress2 &quot;, branchCity as &quot;bankBranch_branchCity&quot;, branchPin as &quot;bankBranch_branchPin&quot;, branchPhone as &quot;bankBranch_branchPhone&quot;, branchFax as &quot;bankBranch_branchFax&quot;, contactPerson as &quot;bankBranch_contactPerson&quot;, narration as &quot;bankBranch_narration&quot;,isActive as &quot;bankBranch_isActive&quot; FROM bankBranch WHERE branchCode='@1'">		
			<parameter dataSource="bankBranch_branchCode" isRequired="true"/>
		</sqlTemplate>	
	
		<sqlTemplate id="bankCodeVerification" 
			template="SELECT name FROM bank WHERE code='@1'">		
			<parameter dataSource="keyValue" isRequired="true"/>
		</sqlTemplate>
		
		<sqlTemplate id="branchCodeVerification" 
			template="SELECT branchName FROM bankBranch WHERE branchCode='@1'">		
			<parameter dataSource="keyValue" isRequired="true"/>
		</sqlTemplate>
		
		<sqlTemplate id="miscCashInHandId"
		template="SELECT c.ID, c.glcode as &quot;billCollector_cashInHand&quot; from billCollector b, chartOfAccounts c WHERE b.cashInHand = c.ID  AND b.ID='@1'">
	<parameter dataSource="billCollector_name" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="miscChequeInHandId"
		template="SELECT c.ID, c.glcode as &quot;billCollector_chequeInHand&quot; from billCollector b, chartOfAccounts c WHERE b.chequeInHand = c.ID  AND b.ID='@1'">
	<parameter dataSource="billCollector_name" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="accCodeDescription" 
		template="SELECT name FROM chartOfAccounts WHERE glCode='@1' and isactiveforposting = 1 and classification=4">		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="accCodeDescription_salarybill" 
		template="SELECT name,id FROM chartOfAccounts WHERE glCode='@1' and isactiveforposting = 1 and classification=4">		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="getSalaryPayableCode" 
		template="SELECT id,glcode FROM chartOfAccounts WHERE purposeid in @1 and isactiveforposting = 1 and classification=4">		
		<parameter dataSource="salaryBillPurposeIds" isRequired="true"/>
	</sqlTemplate>

	<!--<sqlTemplate id="accountCode" 
		template="SELECT id,glcode FROM chartOfAccounts WHERE purposeid in('31','36')">		
	</sqlTemplate> -->

	<sqlTemplate id="getDefaultCode" 
		template="SELECT glcode as &quot;defaultAccountCode&quot;,id as &quot;glCodeId_netPay&quot;,name as &quot;chartOfAccounts_namenetPay&quot; FROM chartOfAccounts WHERE purposeid = '@1'">	
		<parameter dataSource="keyValue" isRequired="true"/>	
	</sqlTemplate>

	<sqlTemplate id="contingencyAccountCode" 
		template="SELECT id,glcode FROM chartOfAccounts WHERE purposeid in(26,27,28)">		
	</sqlTemplate>

	<sqlTemplate id="worksAccountCode" 
		template="SELECT id,glcode FROM chartOfAccounts WHERE purposeid = 26">		
	</sqlTemplate>

<sqlTemplate id="journalSearchGeneral"
		template="SELECT  v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;, v.voucherDate AS &quot;colC&quot;,
		f.name AS &quot;colD&quot;,SUM(vd.debitamount) AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot; 
		FROM voucherHeader v, fund f, voucherDetail vd ,vouchermis mis 
		WHERE v.status!=4 AND vd.debitamount&gt;0 AND v.fundId=f.id AND v.id=vd.voucherHeaderId AND mis.voucherHeaderId=v.id AND v.type='Journal Voucher'  { AND  v.name in (@7) } 
		{AND v.voucherDate &gt;= '@1'}  {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber &gt;= '@3'}
		{AND v.voucherNumber &lt;='@4'} {AND v.status=@5} {AND v.isconfirmed=@6} { and v.fundid=@8 } { and mis.departmentid=@9 }
		GROUP BY v.cgn ,vouchernumber,voucherdate,v.status,v.isConfirmed,f.name ORDER BY &quot;colC&quot;,&quot;colB&quot;">
			
		<parameter dataSource="voucherDateFrom" isRequired="false"/>
		<parameter dataSource="voucherDateTo" isRequired="false"/>
		<parameter dataSource="voucherNumberFrom" isRequired="false"/>
		<parameter dataSource="voucherNumberTo" isRequired="false"/>
		<parameter dataSource="statusType" isRequired="false"/>
		<parameter dataSource="isConfirmed" isRequired="false"/>
		<parameter dataSource="name" isRequired="false"/>
		<parameter dataSource="fundID" isRequired="false"/>
		<parameter dataSource="deptId" isRequired="false"/>
</sqlTemplate>
	
	<sqlTemplate id="journalSearchSupplier"
		   template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, s.name AS &quot;colC&quot;,sbd.billNumber AS &quot;colD&quot;, sbd.billAmount AS &quot;colE&quot;, sbd.passedAmount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot; ,sbd.paidamount AS &quot;colJ&quot;     
		     FROM voucherHeader v, relation s, supplierBillDetail sbd   WHERE  v.id=sbd.voucherHeaderId AND sbd.supplierId=s.id AND
		     v.type='Journal Voucher' AND v.name='Supplier Journal' and 
		      sbd.id in (select sph.supplierbillid from subledgerpaymentheader sph,supplierBillDetail sb
		     where sb.ID=sph.supplierbillid and sph.supplierbillid is not null group by sph.supplierbillid)
		     {AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%'} {AND v.fundid =@4 }{AND v.status = @5}  {AND v.DEPARTMENTID = @16}
		     union 
		     SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, s.name AS &quot;colC&quot;,sbd.billNumber AS &quot;colD&quot;, sbd.billAmount AS &quot;colE&quot;, sbd.passedAmount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot; ,NULL AS &quot;colJ&quot;    
		     FROM voucherHeader v, relation s, supplierBillDetail sbd   WHERE  v.id=sbd.voucherHeaderId AND sbd.supplierId=s.id AND
		     v.type='Journal Voucher' AND v.name='Supplier Journal' and 
		      sbd.id not in (select sph.supplierbillid from subledgerpaymentheader sph where sph.supplierbillid is not null group by sph.supplierbillid)  {AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'}  {AND v.voucherNumber like '%' || '@8' || '%'} {AND v.fundid =@9 }{AND v.status = @10} {AND v.DEPARTMENTID = @17}
		     union   
		     SELECT mv.cgn AS &quot;colA&quot;, mv.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, 
		     s.name AS &quot;colC&quot;, sbd.billNumber AS &quot;colD&quot;, sbd.billAmount AS &quot;colE&quot;, sbd.passedAmount AS &quot;colF&quot;,decode(mv.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;colG&quot; ,NULL AS &quot;colJ&quot;
		     FROM voucherHeader v, relation s, supplierBillDetail sbd,voucherheader mv  WHERE  v.id=sbd.voucherHeaderId AND 
		     sbd.supplierId=s.id AND v.type='Journal Voucher' AND v.name='Supplier Journal'  and mv.originalvcid=v.id  
		     {AND v.voucherDate &gt;= '@11'} {AND v.voucherDate &lt;='@12'} {AND v.voucherNumber like '%' || '@13' || '%'} {AND v.fundid =@14 }{AND v.status = @15} {AND v.DEPARTMENTID = @18} ORDER BY &quot;colH&quot;,&quot;colB&quot; ">
		    
		   <parameter dataSource="voucherDateFrom" isRequired="false"/>
		   <parameter dataSource="voucherDateTo" isRequired="false"/>
		   <parameter dataSource="voucherNumber" isRequired="false"/>
		   <parameter dataSource="fundID" isRequired="false"/>
		   <parameter dataSource="statusNum" isRequired="false"/>
		   <parameter dataSource="voucherDateFrom" isRequired="false"/>
		   <parameter dataSource="voucherDateTo" isRequired="false"/>
		   <parameter dataSource="voucherNumber" isRequired="false"/>
		   <parameter dataSource="fundID" isRequired="false"/>
		   <parameter dataSource="statusNum" isRequired="false"/>
		   <parameter dataSource="voucherDateFrom" isRequired="false"/>
		   <parameter dataSource="voucherDateTo" isRequired="false"/>
		   <parameter dataSource="voucherNumber" isRequired="false"/>
		   <parameter dataSource="fundID" isRequired="false"/>
		   <parameter dataSource="statusNum" isRequired="false"/>
		   <parameter dataSource="deptId" isRequired="false"/>
		   <parameter dataSource="deptId" isRequired="false"/>
		   <parameter dataSource="deptId" isRequired="false"/>
	 </sqlTemplate>
	 
	  <sqlTemplate id="journalSearchSupplierModify"
	  	     template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, s.name AS &quot;colC&quot;,sbd.billNumber AS &quot;colD&quot;, sbd.billAmount AS &quot;colE&quot;, sbd.passedAmount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot; ,sbd.paidamount AS &quot;colJ&quot;    
	  	       FROM voucherHeader v, relation s, supplierBillDetail sbd   WHERE  v.id=sbd.voucherHeaderId AND sbd.supplierId=s.id AND
	  	       v.type='Journal Voucher' AND  v.name='Supplier Journal' and 
	  	        sbd.id in (select sph.supplierbillid from subledgerpaymentheader sph,supplierBillDetail sb
	  	       where sb.ID=sph.supplierbillid and sph.supplierbillid is not null group by sph.supplierbillid)
	  	       {AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber  like '%' || '@3' || '%' } {AND v.fundid = @4} {AND v.status = @5}  {AND v.isconfirmed = @16}   {AND sbd.PAIDAMOUNT=@19} 
	  	       union 
	  	       SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, s.name AS &quot;colC&quot;,sbd.billNumber AS &quot;colD&quot;, sbd.billAmount AS &quot;colE&quot;, sbd.passedAmount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot; ,NULL AS &quot;colJ&quot;    
	  	       FROM voucherHeader v, relation s, supplierBillDetail sbd   WHERE  v.id=sbd.voucherHeaderId AND sbd.supplierId=s.id AND
	  	       v.type='Journal Voucher'  AND v.name='Supplier Journal' and 
	  	        sbd.id not in (select sph.supplierbillid from subledgerpaymentheader sph where sph.supplierbillid is not null group by sph.supplierbillid)  {AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'}  {AND v.voucherNumber  like '%' || '@8' || '%' } {AND v.fundid = @9} {AND v.status = @10} {AND v.isconfirmed = @17} {AND sbd.PAIDAMOUNT=@20}
	  	       union   
	  	       SELECT mv.cgn AS &quot;colA&quot;, mv.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, 
	  	       s.name AS &quot;colC&quot;, sbd.billNumber AS &quot;colD&quot;, sbd.billAmount AS &quot;colE&quot;, sbd.passedAmount AS &quot;colF&quot;,decode(mv.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;colG&quot;,NULL AS &quot;colJ&quot; 
	  	       FROM voucherHeader v, relation s, supplierBillDetail sbd,voucherheader mv  WHERE  v.id=sbd.voucherHeaderId AND 
	  	       sbd.supplierId=s.id AND v.type='Journal Voucher' AND v.name='Supplier Journal'  and mv.originalvcid=v.id  
	  	       {AND v.voucherDate &gt;= '@11'} {AND v.voucherDate &lt;='@12'}  {AND v.voucherNumber  like '%' || '@13' || '%' } {AND v.fundid = @14} {AND v.status = @15} {AND v.isconfirmed = @18} ORDER BY &quot;colH&quot;,&quot;colB&quot; ">
	  	      
	  	     <parameter dataSource="voucherDateFrom" isRequired="false"/>
	  	     <parameter dataSource="voucherDateTo" isRequired="false"/>
	  	     <parameter dataSource="voucherNumber" isRequired="false"/>
	  	     <parameter dataSource="fundID" isRequired="false"/>
	  	     <parameter dataSource="statusNum" isRequired="false"/>
	  	     <parameter dataSource="voucherDateFrom" isRequired="false"/>
	  	     <parameter dataSource="voucherDateTo" isRequired="false"/>
	  	     <parameter dataSource="voucherNumber" isRequired="false"/>
	  	     <parameter dataSource="fundID" isRequired="false"/>
	  	     <parameter dataSource="statusNum" isRequired="false"/>
	  	     <parameter dataSource="voucherDateFrom" isRequired="false"/>
	  	     <parameter dataSource="voucherDateTo" isRequired="false"/>
	  	     <parameter dataSource="voucherNumber" isRequired="false"/>
	  	     <parameter dataSource="fundID" isRequired="false"/>
	  	     <parameter dataSource="statusNum" isRequired="false"/>
	  	     <parameter dataSource="isconfirmed" isRequired="false"/>
	  	     <parameter dataSource="isconfirmed" isRequired="false"/>
	  	     <parameter dataSource="isconfirmed" isRequired="false"/>
	  	     <parameter dataSource="paidAmount" isRequired="false"/>
	  	     <parameter dataSource="paidAmount" isRequired="false"/>
	 </sqlTemplate>
	 
	<sqlTemplate id="journalSearchContractor"
				template="SELECT v.cgn AS &quot;colA&quot;,v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;,c.name AS &quot;colC&quot;,wbd.name AS &quot;colD&quot;,wbd.code AS &quot;colI&quot;, cbd.billAmount AS &quot;colE&quot;, cbd.passedAmount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;, cbd.paidamount AS &quot;colJ&quot; FROM  voucherHeader v,relation c, contractorBillDetail cbd , worksdetail wbd
					WHERE  wbd.id=cbd.worksdetailid and  v.id=cbd.voucherHeaderId  and cbd.contractorId=c.id AND v.type='Journal Voucher' AND v.name='Contractor Journal' and cbd.id in (select sph.contractorbillid from subledgerpaymentheader sph,contractorBillDetail cb where cb.ID=sph.CONTRACTORBILLID and sph.CONTRACTORBILLID is not null group by sph.contractorbillid)
					{AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%' } {AND v.fundid=@4 }{AND v.status = @5} {AND v.isconfirmed = @16} {AND cbd.PAIDAMOUNT=@19} {AND v.status != @21} {AND v.DEPARTMENTID = @24}
					union
					SELECT v.cgn AS &quot;colA&quot;,v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;,c.name AS &quot;colC&quot;,wbd.name AS &quot;colD&quot;,wbd.code AS &quot;colI&quot;, cbd.billAmount AS &quot;colE&quot;, cbd.passedAmount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;,NULL AS &quot;colJ&quot; FROM  voucherHeader v,relation c, contractorBillDetail cbd , worksdetail wbd
					WHERE  wbd.id=cbd.worksdetailid and  v.id=cbd.voucherHeaderId  and cbd.contractorId=c.id AND v.type='Journal Voucher' AND v.name='Contractor Journal' and cbd.id  not in (select sph.contractorbillid from subledgerpaymentheader sph where  sph.CONTRACTORBILLID is not null group by sph.contractorbillid )
					{AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'}  {AND v.voucherNumber like '%' || '@8' || '%' } {AND v.fundid=@9 }{AND v.status = @10} {AND v.isconfirmed = @17} {AND cbd.PAIDAMOUNT=@20} {AND v.status != @22} {AND v.DEPARTMENTID = @25}
					union  
					SELECT mv.cgn AS &quot;colA&quot;,mv.voucherNumber AS &quot;colB&quot;,mv.voucherDate AS &quot;colH&quot;,c.name AS &quot;colC&quot;,wbd.name AS &quot;colD&quot;,wbd.code AS &quot;colI&quot;,  
					cbd.billAmount AS &quot;colE&quot;, cbd.passedAmount AS &quot;colF&quot;,decode(mv.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;colG&quot;,NULL AS &quot;colJ&quot; FROM voucherHeader v, relation c, contractorBillDetail cbd, worksdetail wbd,voucherheader mv WHERE  wbd.id=cbd.worksdetailid and  
					v.id=cbd.voucherHeaderId AND cbd.contractorId=c.id AND v.type='Journal Voucher' AND v.name='Contractor Journal' 
					and mv.originalvcid=v.id 
					{AND v.voucherDate &gt;= '@11'} {AND v.voucherDate &lt;='@12'}  {AND v.voucherNumber like '%' || '@13' || '%' } {AND v.fundid=@14 }
					{AND v.status = @15} {AND v.isconfirmed = @18} {AND v.status != @23} {AND v.DEPARTMENTID = @26} ORDER BY &quot;colH&quot;,&quot;colB&quot;">
					
				<parameter dataSource="voucherDateFrom" isRequired="false"/>
				<parameter dataSource="voucherDateTo" isRequired="false"/>
				<parameter dataSource="voucherNumber" isRequired="false"/>
				<parameter dataSource="fundID" isRequired="false"/>
				<parameter dataSource="statusNum" isRequired="false"/>
				<parameter dataSource="voucherDateFrom" isRequired="false"/>
				<parameter dataSource="voucherDateTo" isRequired="false"/>
				<parameter dataSource="voucherNumber" isRequired="false"/>
				<parameter dataSource="fundID" isRequired="false"/>
				<parameter dataSource="statusNum" isRequired="false"/>
				<parameter dataSource="voucherDateFrom" isRequired="false"/>
				<parameter dataSource="voucherDateTo" isRequired="false"/>
				<parameter dataSource="voucherNumber" isRequired="false"/>
				<parameter dataSource="fundID" isRequired="false"/>
				<parameter dataSource="statusNum" isRequired="false"/>
				<parameter dataSource="isconfirmed" isRequired="false"/>
				<parameter dataSource="isconfirmed" isRequired="false"/>
				<parameter dataSource="isconfirmed" isRequired="false"/>
				<parameter dataSource="paidAmount" isRequired="false"/>
				<parameter dataSource="paidAmount" isRequired="false"/>
				<parameter dataSource="vStatus" isRequired="false"/>
				<parameter dataSource="vStatus" isRequired="false"/>
				<parameter dataSource="vStatus" isRequired="false"/>
				<parameter dataSource="deptId" isRequired="false"/>
				<parameter dataSource="deptId" isRequired="false"/>
				<parameter dataSource="deptId" isRequired="false"/>
	</sqlTemplate>
	
		
	<sqlTemplate id="journalSearchContractorModify"
					template="SELECT v.cgn AS &quot;colA&quot;,v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;,c.name AS &quot;colC&quot;,wbd.name AS &quot;colD&quot;,wbd.code AS &quot;colI&quot;, cbd.billAmount AS &quot;colE&quot;, cbd.passedAmount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;, cbd.paidamount AS &quot;colJ&quot; FROM  voucherHeader v,relation c, contractorBillDetail cbd , worksdetail wbd
						WHERE  wbd.id=cbd.worksdetailid and  v.id=cbd.voucherHeaderId  and cbd.contractorId=c.id AND v.type='Journal Voucher' AND v.isconfirmed=0 AND v.name='Contractor Journal' and cbd.id in (select sph.contractorbillid from subledgerpaymentheader sph,contractorBillDetail cb where cb.ID=sph.CONTRACTORBILLID and sph.CONTRACTORBILLID is not null group by sph.contractorbillid)
						{AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%' } {AND v.fundid =@4 }{AND v.status = @5} 
						union
						SELECT v.cgn AS &quot;colA&quot;,v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;,c.name AS &quot;colC&quot;,wbd.name AS &quot;colD&quot;,wbd.code AS &quot;colI&quot;, cbd.billAmount AS &quot;colE&quot;, cbd.passedAmount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;,NULL AS &quot;colJ&quot; FROM  voucherHeader v,relation c, contractorBillDetail cbd , worksdetail wbd
						WHERE  wbd.id=cbd.worksdetailid and  v.id=cbd.voucherHeaderId  and cbd.contractorId=c.id AND v.type='Journal Voucher' AND v.isconfirmed=0 AND v.name='Contractor Journal' and cbd.id  not in (select sph.contractorbillid from subledgerpaymentheader sph where  sph.CONTRACTORBILLID is not null group by sph.contractorbillid )
						{AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'} {AND v.voucherNumber like '%' || '@8' || '%' } {AND v.fundid =@9 }{AND v.status = @10} 
						union  
						SELECT mv.cgn AS &quot;colA&quot;,mv.voucherNumber AS &quot;colB&quot;,mv.voucherDate AS &quot;colH&quot;,c.name AS &quot;colC&quot;,wbd.name AS &quot;colD&quot;,wbd.code AS &quot;colI&quot;,  
						cbd.billAmount AS &quot;colE&quot;, cbd.passedAmount AS &quot;colF&quot;,decode(mv.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;colG&quot;,NULL AS &quot;colJ&quot; FROM voucherHeader v, relation c, contractorBillDetail cbd, worksdetail wbd,voucherheader mv WHERE  wbd.id=cbd.worksdetailid and  
						v.id=cbd.voucherHeaderId AND cbd.contractorId=c.id AND v.type='Journal Voucher' AND v.isconfirmed=0 AND v.name='Contractor Journal' 
						and mv.originalvcid=v.id 
						{AND v.voucherDate &gt;= '@11'} {AND v.voucherDate &lt;='@12'} {AND v.voucherNumber like '%' || '@13' || '%' } {AND v.fundid =@14 }
						{AND v.status = @15} ORDER BY &quot;colH&quot;,&quot;colB&quot;">
						
					<parameter dataSource="voucherDateFrom" isRequired="false"/>
					<parameter dataSource="voucherDateTo" isRequired="false"/>
					<parameter dataSource="voucherNumber" isRequired="false"/>
					<parameter dataSource="fundID" isRequired="false"/>
					<parameter dataSource="statusNum" isRequired="false"/>
					<parameter dataSource="voucherDateFrom" isRequired="false"/>
					<parameter dataSource="voucherDateTo" isRequired="false"/>
					<parameter dataSource="voucherNumber" isRequired="false"/>
					<parameter dataSource="fundID" isRequired="false"/>
					<parameter dataSource="statusNum" isRequired="false"/>
					<parameter dataSource="voucherDateFrom" isRequired="false"/>
					<parameter dataSource="voucherDateTo" isRequired="false"/>
					<parameter dataSource="voucherNumber" isRequired="false"/>
					<parameter dataSource="fundID" isRequired="false"/>
					<parameter dataSource="statusNum" isRequired="false"/>
	</sqlTemplate>
	
	<sqlTemplate id="journalSearchSalary"
	  template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, decode(s.mmonth,1,'January',2,'February',3,'March',4,'April',5,'May',6,'June',7,'July',8,'August', 9,'September',10,'October',11,'November',12,'December') 
	  AS &quot;colE&quot;, s.netPay AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;,s.paidamount AS &quot;colJ&quot; 
	   FROM voucherHeader v,salaryBillDetail s WHERE  v.id=s.voucherHeaderId AND v.type='Journal Voucher' AND v.name='Salary Journal' {AND v.voucherDate  &gt;= '@1'} {AND v.voucherDate  &lt;='@2'} {AND v.voucherNumber &gt;= '@3'} 
	   {AND v.voucherNumber &lt;='@4'} {AND v.status = @5}  {AND v.isconfirmed = @11}  {AND v.status != @13} {and s.paidamount=@16} {and v.DEPARTMENTID =@17}
	   union
	   SELECT mv.cgn AS &quot;colA&quot;, mv.voucherNumber AS &quot;colB&quot;,mv.voucherDate  AS &quot;colH&quot;, decode(s.mmonth,1,'January',2,'February',3,'March',4,'April',5,'May',6,'June',7,'July',8,'August', 9,'September',10,'October',11,'November',12,'December') 
	   AS &quot;colE&quot;, s.netPay AS &quot;colF&quot;,decode(mv.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;colG&quot;,null AS &quot;colJ&quot;
	   FROM voucherHeader v,salaryBillDetail s,voucherheader mv WHERE  v.id=s.voucherHeaderId AND v.type='Journal Voucher' AND v.name='Salary Journal' and mv.originalvcid=v.id {AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'} {AND v.voucherNumber &gt;= '@8'} 
	   {AND v.voucherNumber &lt;='@9'} {AND v.status = @10} {AND v.isconfirmed = @12} {AND v.status != @14} {and s.paidamount =@15} {and v.DEPARTMENTID =@18} ORDER BY &quot;colH&quot;,&quot;colB&quot;">
	 
	   <parameter dataSource="voucherDateFrom" isRequired="false"/>
	   <parameter dataSource="voucherDateTo" isRequired="false"/>
	   <parameter dataSource="voucherNumberFrom" isRequired="false"/>
	   <parameter dataSource="voucherNumberTo" isRequired="false"/>
	   <parameter dataSource="statusNum" isRequired="false"/>
	   <parameter dataSource="voucherDateFrom" isRequired="false"/>
	   <parameter dataSource="voucherDateTo" isRequired="false"/>
	   <parameter dataSource="voucherNumberFrom" isRequired="false"/>
	   <parameter dataSource="voucherNumberTo" isRequired="false"/>
	   <parameter dataSource="statusNum" isRequired="false"/>
	   <parameter dataSource="isconfirmed" isRequired="false"/>
	   <parameter dataSource="isconfirmed" isRequired="false"/>
	   <parameter dataSource="vStatus" isRequired="false"/>
	   <parameter dataSource="vStatus" isRequired="false"/>
	   <parameter dataSource="paidamount" isRequired="false"/>
	   <parameter dataSource="paidamount" isRequired="false"/>
	   <parameter dataSource="deptId" isRequired="false"/>
	   <parameter dataSource="deptId" isRequired="false"/>
	 </sqlTemplate>

		
		<sqlTemplate id="journalSearchSalaryModify"
								template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, decode(s.mmonth,1,'January',2,'February',3,'March',4,'April',5,'May',6,'June',7,'July',8,'August', 9,'September',10,'October',11,'November',12,'December')
								AS &quot;colE&quot;, s.netPay AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;,s.paidamount AS &quot;colJ&quot;
									FROM voucherHeader v,salaryBillDetail s,eg_billregister br
									WHERE  
									v.id=s.voucherHeaderId AND v.type='Journal Voucher' 
									AND v.isconfirmed=0  AND v.name='Salary Journal' 
									AND br.ID=s.BILLID
									AND br.STATUSID=(select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Passed'))
									
									{AND v.voucherDate  &gt;= '@1'} {AND v.voucherDate  &lt;='@2'} 
									 {AND v.voucherNumber like '%' || '@3' || '%' }{AND v.fundid = @4 } {AND v.status = @5}  
									union
									SELECT mv.cgn AS &quot;colA&quot;, mv.voucherNumber AS &quot;colB&quot;,mv.voucherDate  AS &quot;colH&quot;, decode(s.mmonth,1,'January',2,'February',3,'March',4,'April',5,'May',6,'June',7,'July',8,'August', 9,'September',10,'October',11,'November',12,'December') 
									AS &quot;colE&quot;, s.netPay AS &quot;colF&quot;,decode(mv.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;colG&quot;,null AS &quot;colJ&quot;
									FROM voucherHeader v,salaryBillDetail s,voucherheader mv,eg_billregister br
									
									WHERE  v.id=s.voucherHeaderId AND v.isconfirmed=0  
									AND v.type='Journal Voucher' AND v.name='Salary Journal'
									and mv.originalvcid=v.id
									AND br.ID=s.BILLID
									AND br.STATUSID=(select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Passed'))
									
									{AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'}  
									 {AND v.voucherNumber like '%' || '@8' || '%' }{AND v.fundid = @9 } {AND v.status = @10} ORDER BY &quot;colH&quot;,&quot;colB&quot;">
					
								<parameter dataSource="voucherDateFrom" isRequired="false"/>
								<parameter dataSource="voucherDateTo" isRequired="false"/>
								<parameter dataSource="voucherNumber" isRequired="false"/>
								<parameter dataSource="fundID" isRequired="false"/>
								<parameter dataSource="statusNum" isRequired="false"/>
								<parameter dataSource="voucherDateFrom" isRequired="false"/>
								<parameter dataSource="voucherDateTo" isRequired="false"/>
								<parameter dataSource="voucherNumber" isRequired="false"/>
								<parameter dataSource="fundID" isRequired="false"/>
								<parameter dataSource="statusNum" isRequired="false"/>
		</sqlTemplate>

	<sqlTemplate id="journalSearchPayInSlip"
			template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colC&quot;,
			(SELECT b.name||' '||bb.branchName||' A/cNo.'||ba.accountNumber FROM
			BANK b, BANKBRANCH bb, BANKACCOUNT ba WHERE b.id=bb.bankid AND bb.id=ba.branchid
			AND ba.id=(SELECT MAX(accountnumberid) FROM CHEQUEDETAIL WHERE payinslipnumber=v.vouchernumber))       AS &quot;colE&quot;, gl.creditAmount &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;      
			FROM VOUCHERHEADER v,GENERALLEDGER gl
			WHERE  v.status!=4 and gl.voucherheaderid=v.id AND gl.creditamount !=0 AND v.vouchernumber         IN(SELECT payinslipnumber FROM CHEQUEDETAIL GROUP BY          payinslipnumber)
			{AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%'} {AND v.fundid = @4} {AND v.status ='@5'} {AND v.isconfirmed ='@11'}
		 UNION
			 SELECT vh.cgn AS &quot;colA&quot;, vh.voucherNumber AS &quot;colB&quot;,vh.voucherDATE AS &quot;colC&quot;,
			 (SELECT b.name||' '||bb.branchName||' A/cNo.'||ba.accountNumber FROM
			 BANK b, BANKBRANCH bb, BANKACCOUNT ba WHERE b.id=bb.bankid AND bb.id=ba.branchid
			 AND ba.id=(SELECT MAX(accountnumberid) FROM CHEQUEDETAIL WHERE payinslipnumber=vh1.vouchernumber))    AS &quot;colE&quot;,
			 gl.creditAmount &quot;colF&quot;,decode(vh.status,0,decode(vh.isconfirmed,0,'UnConfirmed','confirmed'),decode(vh.status,1,'Reversed',decode(vh.status,2,'Reversal',''))) AS &quot;colG&quot; 
			 FROM VOUCHERHEADER vh,VOUCHERHEADER vh1,GENERALLEDGER gl 
			 WHERE vh.status!=4 and vh.ORIGINALVCID=vh1.id  
			 AND gl.voucherheaderid=vh.id AND gl.creditamount !=0 AND 
			 vh1.vouchernumber IN(SELECT payinslipnumber FROM CHEQUEDETAIL where isdeposited=0 GROUP BY payinslipnumber)
			 {AND vh.voucherDate &gt;= '@6'} {AND vh.voucherDate &lt;='@7'} {AND vh.voucherNumber like '%' || '@8' || '%'} {AND vh.fundid = @9} {AND vh.status &lt;='@10'} {AND vh.isconfirmed ='@12'} ORDER BY &quot;colB&quot;">
				  
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="statusNum" isRequired="false"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="statusNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
		</sqlTemplate>
<sqlTemplate id="journalSearchPayInSlipForEdit"
				template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colC&quot;,
				(SELECT b.name||' '||bb.branchName||' A/cNo.'||ba.accountNumber FROM
				BANK b, BANKBRANCH bb, BANKACCOUNT ba WHERE b.id=bb.bankid AND bb.id=ba.branchid
				AND ba.id=(SELECT MAX(accountnumberid) FROM CHEQUEDETAIL WHERE payinslipnumber=v.vouchernumber))       AS &quot;colE&quot;, gl.creditAmount &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;      
				FROM VOUCHERHEADER v,GENERALLEDGER gl,CHEQUEDETAIL cd,bankreconciliation br
				WHERE  v.status!=4 and gl.voucherheaderid=v.id AND gl.creditamount !=0 AND v.vouchernumber IN(SELECT payinslipnumber FROM CHEQUEDETAIL GROUP BY payinslipnumber)
				AND cd.CHEQUENUMBER=br.CHEQUENUMBER AND br.ISRECONCILED!=1  
				AND cd.payinslipnumber=v.vouchernumber AND br.VOUCHERHEADERID=v.ID
				{AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%'} {AND v.fundid = @4} {AND v.status ='@5'} {AND v.isconfirmed ='@11'}
				UNION
				 SELECT vh.cgn AS &quot;colA&quot;, vh.voucherNumber AS &quot;colB&quot;,vh.voucherDATE AS &quot;colC&quot;,
				 (SELECT b.name||' '||bb.branchName||' A/cNo.'||ba.accountNumber FROM
				 BANK b, BANKBRANCH bb, BANKACCOUNT ba WHERE b.id=bb.bankid AND bb.id=ba.branchid
				 AND ba.id=(SELECT MAX(accountnumberid) FROM CHEQUEDETAIL WHERE payinslipnumber=vh1.vouchernumber))    AS &quot;colE&quot;,
				 gl.creditAmount &quot;colF&quot;,decode(vh.status,0,decode(vh.isconfirmed,0,'UnConfirmed','confirmed'),decode(vh.status,1,'Reversed',decode(vh.status,2,'Reversal',''))) AS &quot;colG&quot; 
				 FROM VOUCHERHEADER vh,VOUCHERHEADER vh1,GENERALLEDGER gl 
				 WHERE vh.status!=4 and vh.ORIGINALVCID=vh1.id  
				 AND gl.voucherheaderid=vh.id AND gl.creditamount !=0 AND 
				 vh1.vouchernumber IN(SELECT payinslipnumber FROM CHEQUEDETAIL where isdeposited=0 GROUP BY payinslipnumber)
				 {AND vh.voucherDate &gt;= '@6'} {AND vh.voucherDate &lt;='@7'} {AND vh.voucherNumber like '%' || '@8' || '%'} {AND vh.fundid = @9} {AND vh.status &lt;='@10'} {AND vh.isconfirmed ='@12'} ORDER BY &quot;colB&quot;">
		
					<parameter dataSource="voucherDateFrom" isRequired="false"/>
					<parameter dataSource="voucherDateTo" isRequired="false"/>
					<parameter dataSource="voucherNumber" isRequired="false"/>
					<parameter dataSource="fundID" isRequired="false"/>
					<parameter dataSource="statusNum" isRequired="false"/>
					<parameter dataSource="voucherDateFrom" isRequired="false"/>
					<parameter dataSource="voucherDateTo" isRequired="false"/>
					<parameter dataSource="voucherNumber" isRequired="false"/>
					<parameter dataSource="fundID" isRequired="false"/>
					<parameter dataSource="statusNum" isRequired="false"/>
					<parameter dataSource="confirmNum" isRequired="false"/>
					<parameter dataSource="confirmNum" isRequired="false"/>
</sqlTemplate>
	
	
			<sqlTemplate id="cjSearchBTB"
								template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;, v.voucherDate AS &quot;colH&quot;, b.name||' '||bb.branchName||' '||ba.accountNumber AS &quot;colC&quot;, bs.name||' '||bbs.branchName||' '||bas.accountNumber AS &quot;colD&quot;, cjv.fromChequeNumber AS &quot;colE&quot;, chq.amount AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
											FROM voucherHeader v, bank b, bank bs, bankBranch bb, bankBranch bbs, bankAccount ba, bankAccount bas, contraJournalVoucher cjv, chequeDetail chq 
											WHERE v.status!=4 and v.id=cjv.voucherHeaderId AND cjv.fromBankId=b.id AND cjv.fromBankBranchId=bb.id AND cjv.fromBankAccountId=ba.id 
											AND cjv.toBankId=bs.id AND cjv.toBankBranchId=bbs.id AND cjv.toBankAccountId=bas.id AND cjv.voucherHeaderId=chq.voucherHeaderId AND v.type='Contra' AND v.name='BankToBank'
											 {AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%'} {AND v.fundid = @4} {AND v.status ='@5'} {AND v.isconfirmed ='@11'}
											 
									 UNION
									
									SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;, v.voucherDate AS &quot;colH&quot;, b.name||' '||bb.branchName||' '||ba.accountNumber AS &quot;colC&quot;, bs.name||' '||bbs.branchName||' '||bas.accountNumber AS &quot;colD&quot;, cjv.fromChequeNumber AS &quot;colE&quot;, ABS(gl.debitamount-gl.creditamount) AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
											FROM GENERALLEDGER gl,VOUCHERHEADER v, BANK b, BANK bs, BANKBRANCH bb, BANKBRANCH bbs, BANKACCOUNT ba, BANKACCOUNT bas, CONTRAJOURNALVOUCHER cjv  
											WHERE  v.status!=4 and gl.voucherheaderid=v.id 	AND gl.voucherlineid IN (SELECT MIN(gl1.voucherlineid) FROM GENERALLEDGER gl1 WHERE gl1.voucherheaderid=v.id )  
											AND v.originalvcid=cjv.voucherHeaderId AND cjv.fromBankId=b.id AND cjv.fromBankBranchId=bb.id AND cjv.fromBankAccountId=ba.id 
											AND cjv.toBankId=bs.id AND cjv.toBankBranchId=bbs.id AND cjv.toBankAccountId=bas.id 
											AND v.TYPE='Contra' AND v.name='BankToBank' 
											{AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'} {AND v.voucherNumber like '%' || '@8' || '%'} {AND v.fundid = @9} {AND v.status ='@10'} {AND v.isconfirmed ='@12'} ORDER BY &quot;colH&quot;,&quot;colB&quot;">		 
											 
									
								<parameter dataSource="voucherDateFrom" isRequired="false"/>
								<parameter dataSource="voucherDateTo" isRequired="false"/>
								<parameter dataSource="voucherNumber" isRequired="false"/>
								<parameter dataSource="fundID" isRequired="false"/>
								<parameter dataSource="statusNum" isRequired="false"/>
								<parameter dataSource="voucherDateFrom" isRequired="false"/>
								<parameter dataSource="voucherDateTo" isRequired="false"/>
								<parameter dataSource="voucherNumber" isRequired="false"/>
								<parameter dataSource="fundID" isRequired="false"/>
								<parameter dataSource="statusNum" isRequired="false"/>
								<parameter dataSource="confirmNum" isRequired="false"/>
								<parameter dataSource="confirmNum" isRequired="false"/>
			</sqlTemplate>
			
<sqlTemplate id="cjSearchModifyBTB"
	template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;, v.voucherDate AS &quot;colH&quot;, b.name||' '||bb.branchName||' '||ba.accountNumber AS &quot;colC&quot;, bs.name||' '||bbs.branchName||' '||bas.accountNumber AS &quot;colD&quot;, cjv.fromChequeNumber AS &quot;colE&quot;, chq.amount AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
	FROM voucherHeader v, bank b, bank bs, bankBranch bb, bankBranch bbs, bankAccount ba, bankAccount bas, contraJournalVoucher cjv, chequeDetail chq,bankreconciliation br 
	WHERE v.status!=4 and v.id=cjv.voucherHeaderId AND cjv.fromBankId=b.id AND cjv.fromBankBranchId=bb.id AND cjv.fromBankAccountId=ba.id 
	AND cjv.toBankId=bs.id AND cjv.toBankBranchId=bbs.id AND cjv.toBankAccountId=bas.id AND cjv.voucherHeaderId=chq.voucherHeaderId AND v.type='Contra' AND v.name='BankToBank' AND chq.CHEQUENUMBER=br.CHEQUENUMBER AND br.ISRECONCILED!=1 AND br.VOUCHERHEADERID=v.ID
	 {AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%'} {AND v.fundid = @4} {AND v.status ='@5'} {AND v.isconfirmed ='@11'}

	UNION

	SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;, v.voucherDate AS &quot;colH&quot;, b.name||' '||bb.branchName||' '||ba.accountNumber AS &quot;colC&quot;, bs.name||' '||bbs.branchName||' '||bas.accountNumber AS &quot;colD&quot;, cjv.fromChequeNumber AS &quot;colE&quot;, ABS(gl.debitamount-gl.creditamount) AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
	FROM GENERALLEDGER gl,VOUCHERHEADER v, BANK b, BANK bs, BANKBRANCH bb, BANKBRANCH bbs, BANKACCOUNT ba, BANKACCOUNT bas, CONTRAJOURNALVOUCHER cjv  
	WHERE  v.status!=4 and gl.voucherheaderid=v.id 	AND gl.voucherlineid IN (SELECT MIN(gl1.voucherlineid) FROM GENERALLEDGER gl1 WHERE gl1.voucherheaderid=v.id )  
	AND v.originalvcid=cjv.voucherHeaderId AND cjv.fromBankId=b.id AND cjv.fromBankBranchId=bb.id AND cjv.fromBankAccountId=ba.id 
	AND cjv.toBankId=bs.id AND cjv.toBankBranchId=bbs.id AND cjv.toBankAccountId=bas.id 
	AND v.TYPE='Contra' AND v.name='BankToBank' 
	{AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'} {AND v.voucherNumber like '%' || '@8' || '%'} {AND v.fundid = @9} {AND v.status ='@10'} {AND v.isconfirmed ='@12'} ORDER BY &quot;colH&quot;,&quot;colB&quot;">		 


	<parameter dataSource="voucherDateFrom" isRequired="false"/>
	<parameter dataSource="voucherDateTo" isRequired="false"/>
	<parameter dataSource="voucherNumber" isRequired="false"/>
	<parameter dataSource="fundID" isRequired="false"/>
	<parameter dataSource="statusNum" isRequired="false"/>
	<parameter dataSource="voucherDateFrom" isRequired="false"/>
	<parameter dataSource="voucherDateTo" isRequired="false"/>
	<parameter dataSource="voucherNumber" isRequired="false"/>
	<parameter dataSource="fundID" isRequired="false"/>
	<parameter dataSource="statusNum" isRequired="false"/>
	<parameter dataSource="confirmNum" isRequired="false"/>
	<parameter dataSource="confirmNum" isRequired="false"/>
</sqlTemplate>
		
		
			<sqlTemplate id="cjSearchBTC"
								template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, b.name||' '||bb.branchName||' '||ba.accountNumber AS &quot;colD&quot;, coa.name AS &quot;colE&quot;, chq.amount AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
											FROM voucherHeader v, bank b, bankBranch bb, bankAccount ba,contraJournalVoucher cjv, chequeDetail chq, chartOfAccounts coa
											WHERE  v.status!=4 and v.id=cjv.voucherHeaderId AND cjv.fromBankId=b.id AND cjv.fromBankBranchId=bb.id AND cjv.fromBankAccountId=ba.id 
											AND cjv.toCashNameId=coa.id AND cjv.voucherHeaderId=chq.voucherHeaderId AND v.type='Contra' AND v.name='BankToCash'
											{AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%'} {AND v.fundid = @4} {AND v.status ='@5'} {AND v.isconfirmed ='@11'}
									union
									SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, b.name||' '||bb.branchName||' '||ba.accountNumber AS &quot;colD&quot;, coa.name AS &quot;colE&quot;, chq.amount AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
											FROM voucherHeader v, bank b, bankBranch bb, bankAccount ba,contraJournalVoucher cjv, chequeDetail chq, chartOfAccounts coa
											WHERE  v.status!=4 and v.originalvcid=cjv.voucherHeaderId AND cjv.fromBankId=b.id AND cjv.fromBankBranchId=bb.id AND cjv.fromBankAccountId=ba.id 
											AND cjv.toCashNameId=coa.id AND cjv.voucherHeaderId=chq.voucherHeaderId AND v.type='Contra' AND v.name='BankToCash'
											{AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'} {AND v.voucherNumber like '%' || '@8' || '%'} {AND v.fundid = @9} {AND v.status ='@10'} {AND v.isconfirmed ='@12'} ORDER BY &quot;colH&quot;,&quot;colB&quot;">
								<parameter dataSource="voucherDateFrom" isRequired="false"/>
								<parameter dataSource="voucherDateTo" isRequired="false"/>
								<parameter dataSource="voucherNumber" isRequired="false"/>
								<parameter dataSource="fundID" isRequired="false"/>
								<parameter dataSource="statusNum" isRequired="false"/>
								<parameter dataSource="voucherDateFrom" isRequired="false"/>
								<parameter dataSource="voucherDateTo" isRequired="false"/>
								<parameter dataSource="voucherNumber" isRequired="false"/>
								<parameter dataSource="fundID" isRequired="false"/>
								<parameter dataSource="statusNum" isRequired="false"/>
								<parameter dataSource="confirmNum" isRequired="false"/>
								<parameter dataSource="confirmNum" isRequired="false"/>
			</sqlTemplate>
						
<sqlTemplate id="cjSearchModifyBTC"
	template="SELECT distinct v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, b.name||' '||bb.branchName||' '||ba.accountNumber AS &quot;colD&quot;, coa.name AS &quot;colE&quot;, chq.amount AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
	FROM voucherHeader v, bank b, bankBranch bb, bankAccount ba,contraJournalVoucher cjv, chequeDetail chq, chartOfAccounts coa,bankreconciliation br 
	WHERE  v.id=cjv.voucherHeaderId AND cjv.fromBankId=b.id AND cjv.fromBankBranchId=bb.id AND cjv.fromBankAccountId=ba.id 
	AND cjv.toCashNameId=coa.id AND cjv.voucherHeaderId=chq.voucherHeaderId AND v.isconfirmed=0 AND v.status=0 AND v.type='Contra' AND v.name='BankToCash' AND chq.CHEQUENUMBER=br.CHEQUENUMBER AND br.ISRECONCILED!=1
	{AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%'} {AND v.fundid = @4} ORDER BY &quot;colH&quot;,&quot;colB&quot;">

	<parameter dataSource="voucherDateFrom" isRequired="false"/>
	<parameter dataSource="voucherDateTo" isRequired="false"/>
	<parameter dataSource="voucherNumber" isRequired="false"/>
	<parameter dataSource="fundID" isRequired="false"/>
</sqlTemplate>
		
		<sqlTemplate id="cjSearchCTB"
						template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;, v.voucherDate AS &quot;colH&quot;, coa.name AS &quot;colD&quot;, b.name||' '||bb.branchName||' '||ba.accountNumber AS &quot;colE&quot;, vd.creditAmount AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
									FROM voucherHeader v, bank b, bankBranch bb, bankAccount ba,contraJournalVoucher cjv, voucherDetail vd, chartOfAccounts coa
									WHERE v.status!=4 and  v.id=cjv.voucherHeaderId AND cjv.toBankId=b.id AND cjv.toBankBranchId=bb.id AND cjv.toBankAccountId=ba.id 
									AND cjv.fromCashNameId=coa.id AND v.id=vd.voucherHeaderId AND vd.creditAmount>0 AND v.type='Contra' AND v.name='CashToBank'
									{AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%'} {AND v.fundid = @4} {AND v.status ='@5'} {AND v.isconfirmed ='@11'}
							union
							SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;, v.voucherDate AS &quot;colH&quot;, coa.name AS &quot;colD&quot;, b.name||' '||bb.branchName||' '||ba.accountNumber AS &quot;colE&quot;, vd.creditAmount AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
									FROM voucherHeader v, bank b, bankBranch bb, bankAccount ba,contraJournalVoucher cjv, voucherDetail vd, chartOfAccounts coa
									WHERE v.status!=4 and  v.originalvcid=cjv.voucherHeaderId AND cjv.toBankId=b.id AND cjv.toBankBranchId=bb.id AND cjv.toBankAccountId=ba.id 
									AND cjv.fromCashNameId=coa.id AND v.id=vd.voucherHeaderId AND vd.creditAmount>0 AND v.type='Contra' AND v.name='CashToBank'
									{AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'} {AND v.voucherNumber like '%' || '@8' || '%'} {AND v.fundid = @9} {AND v.status ='@10'} {AND v.isconfirmed ='@12'}  ORDER BY &quot;colH&quot;,&quot;colB&quot;">
							
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="statusNum" isRequired="false"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="statusNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
		
	</sqlTemplate>

		<sqlTemplate id="cjSearchModifyCTB"
								template="SELECT distinct v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;, v.voucherDate AS &quot;colH&quot;, coa.name AS &quot;colD&quot;, b.name||' '||bb.branchName||' '||ba.accountNumber AS &quot;colE&quot;, vd.creditAmount AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
											FROM voucherHeader v, bank b, bankBranch bb, bankAccount ba,contraJournalVoucher cjv, voucherDetail vd, chartOfAccounts coa
											WHERE  v.id=cjv.voucherHeaderId AND cjv.toBankId=b.id AND cjv.toBankBranchId=bb.id AND cjv.toBankAccountId=ba.id 
											AND cjv.fromCashNameId=coa.id AND v.id=vd.voucherHeaderId AND vd.creditAmount>0 AND v.isconfirmed=0 AND v.status=0 AND v.type='Contra' AND v.name='CashToBank'
											{AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%' } {AND v.fundid =@4 } ORDER BY &quot;colH&quot;,&quot;colB&quot;">
									
								<parameter dataSource="voucherDateFrom" isRequired="false"/>
								<parameter dataSource="voucherDateTo" isRequired="false"/>
								<parameter dataSource="voucherNumber" isRequired="false"/>
								<parameter dataSource="fundID" isRequired="false"/>
	</sqlTemplate>
		
	<sqlTemplate id="cjSearchFTF"
					 template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;, v.voucherDate AS &quot;colH&quot;, f.name AS &quot;colD&quot;, fs.name AS &quot;colE&quot;, vd.creditAmount AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
					       FROM voucherHeader v,contraJournalVoucher cjv, voucherDetail vd, fund f, fund fs
					       WHERE  v.status!=4 and v.id=cjv.voucherHeaderId  
					       AND cjv.fromFundId=f.id AND cjv.toFundId=fs.id AND v.id=vd.voucherHeaderId AND vd.creditAmount>0 AND v.type='Payment' AND v.name='FundToFund'
					       {AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@2'} {AND v.voucherNumber like '%' || '@3' || '%'} {AND v.fundid = @4} {AND v.status = @5} {AND v.isconfirmed ='@11'}
					       union
					       SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;, v.voucherDate AS &quot;colH&quot;, f.name AS &quot;colD&quot;, fs.name AS &quot;colE&quot;, vd.creditAmount AS &quot;colF&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal','')))  AS &quot;colG&quot;
					       FROM voucherHeader v,contraJournalVoucher cjv, voucherDetail vd, fund f, fund fs
					       WHERE  v.status!=4 and v.originalvcid=cjv.voucherHeaderId  AND cjv.fromFundId=f.id AND cjv.toFundId=fs.id AND v.id=vd.voucherHeaderId AND vd.creditAmount>0 AND v.type='Payment' AND v.name='FundToFund' 
					       {AND v.voucherDate &gt;= '@6'} {AND v.voucherDate &lt;='@7'} {AND v.voucherNumber like '%' || '@8' || '%' } {AND v.fundid = @9} {AND v.status = @10} {AND v.isconfirmed ='@12'}
	       					ORDER BY &quot;colH&quot;,&quot;colB&quot;">
						
					<parameter dataSource="voucherDateFrom" isRequired="false"/>
					    <parameter dataSource="voucherDateTo" isRequired="false"/>
					    <parameter dataSource="voucherNumber" isRequired="false"/>
					    <parameter dataSource="fundID" isRequired="false"/>
					    <parameter dataSource="statusNum" isRequired="false"/>
					    <parameter dataSource="voucherDateFrom" isRequired="false"/>
					    <parameter dataSource="voucherDateTo" isRequired="false"/>
					    <parameter dataSource="voucherNumber" isRequired="false"/>
					    <parameter dataSource="fundID" isRequired="false"/>
					    <parameter dataSource="statusNum" isRequired="false"/>
					    <parameter dataSource="confirmNum" isRequired="false"/>
					    <parameter dataSource="confirmNum" isRequired="false"/>
	
		</sqlTemplate>

	

		<sqlTemplate id="bankName" 
		template="SELECT ID as &quot;bank_id&quot;, code as &quot;bank_code&quot;, name as &quot;bank_name&quot;, isActive as &quot;bank_isActive&quot; FROM bank WHERE code='@1'">		
		<parameter dataSource="bank_code" isRequired="true"/>
	</sqlTemplate>	
	<sqlTemplate id="branchDeatil" 
		template="SELECT branchCode as &quot;bankBranch_branchCode&quot;, branchName as &quot;bankBranch_branchName&quot;, branchAddress1 as &quot;bankBranch_branchAddress1 &quot;, branchAddress2 as &quot;bankBranch_branchAddress2 &quot;, branchCity as &quot;bankBranch_branchCity&quot;, branchPin as &quot;bankBranch_branchPin&quot;, branchPhone as &quot;bankBranch_branchPhone&quot;, branchFax as &quot;bankBranch_branchFax&quot;, contactPerson as &quot;bankBranch_contactPerson&quot;, narration as &quot;bankBranch_narration&quot;,isActive as &quot;bankBranch_isActive&quot; FROM bankBranch WHERE id=@1">		
		<parameter dataSource="bankBranch_branchId" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="branchDeatilNew" 
		template="SELECT branchCode as &quot;bankBranch_branchCode&quot;, branchName as &quot;bankBranch_branchName&quot;, branchAddress1 as &quot;bankBranch_branchAddress1 &quot;, branchAddress2 as &quot;bankBranch_branchAddress2 &quot;, branchCity as &quot;bankBranch_branchCity&quot;, branchPin as &quot;bankBranch_branchPin&quot;, branchPhone as &quot;bankBranch_branchPhone&quot;, branchFax as &quot;bankBranch_branchFax&quot;, contactPerson as &quot;bankBranch_contactPerson&quot;, narration as &quot;bankBranch_narration&quot;,isActive as &quot;bankBranch_isActive&quot; FROM bankBranch WHERE branchCode='@1'">		
		<parameter dataSource="bankBranch_branchCode" isRequired="true"/>
	</sqlTemplate>
	
	

	<sqlTemplate id="receiptSearch"
				template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,r.cashAmount as &quot;amount&quot;,
					'Cash' as  &quot;modeOfCollection&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.id  as &quot;scheme&quot;,mis.subschemeid as &quot;subscheme&quot;,f.id AS &quot;fundId&quot; 
					from voucherHeader v, receiptHeader r,vouchermis mis,fund f where  v.status!=4 and 
					 v.id=r.voucherHeaderId and MIS.VOUCHERHEADERID=V.ID and v.fundid=f.id AND r.chequeId is null AND v.type='Receipt' AND r.modeofcollection='Cash'  {AND v.name='@1'} {AND r.type='@2'} {AND v.voucherDate 
					 &gt;= '@3'} {AND v.voucherDate &lt;='@4'} {AND v.voucherNumber like '%' || '@5' || '%'}  {AND v.FUNDID=@6}
					{AND r.wardid =@7} {AND mis.DEPARTMENTID =@57}
			 UNION
				 select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,r.cashAmount as &quot;amount&quot;,
				'Bank' as  &quot;modeOfCollection&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid as &quot;scheme&quot;,mis.subschemeid as &quot;subscheme&quot;,f.id AS &quot;fundId&quot;   
				from voucherHeader v, receiptHeader r,vouchermis mis,fund f where MIS.VOUCHERHEADERID=V.ID and  v.status!=4 and v.id=r.voucherHeaderId and v.fundid=f.id AND r.chequeId is null AND v.type='Receipt' AND r.modeofcollection='Bank' {AND v.name='@8' }  {AND r.type='@9'} {AND v.voucherDate 
				 &gt;= '@10'} {AND v.voucherDate &lt;='@11'}  {AND v.voucherNumber like '%' || '@12' || '%'}   {AND v.FUNDID=@13}
				{AND r.wardid =@14} {AND mis.DEPARTMENTID =@58}
			UNION
			 	select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as       &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,
		   		r.cashAmount as &quot;amount&quot;, 'Others' as       &quot;modeOfCollection&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid as &quot;scheme&quot;,mis.subschemeid as &quot;subscheme&quot;,f.id AS &quot;fundId&quot;   
				from voucherHeader v, chequeDetail c, receiptHeader r,vouchermis mis,fund f where MIS.VOUCHERHEADERID=V.ID and v.fundid=f.id and v.status!=4 and 
				v.id=r.voucherHeaderId and r.chequeId>0 and c.id=r.chequeId  AND v.type='Receipt' AND r.modeofcollection='Others' {AND v.name='@15'} {AND r.type='@16'} 
			 	 {AND v.voucherDate &gt;='@17'} {AND v.voucherDate &lt;= '@18'}  {AND v.voucherNumber like '%' || '@19' || '%'}  {AND v.FUNDID=@20}  {AND r.wardid =@21} {AND mis.DEPARTMENTID =@59}
					
			 UNION
			 	select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as       &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,
		   		sum(c.amount) as &quot;amount&quot;, 'Cheque' as       &quot;modeOfCollection&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid as &quot;scheme&quot;,mis.subschemeid as &quot;subscheme&quot;,f.id AS &quot;fundId&quot;     
				from voucherHeader v, chequeDetail c, receiptHeader r,vouchermis mis,fund f where MIS.VOUCHERHEADERID=V.ID and v.fundid=f.id and v.status!=4 and 
				v.id=r.voucherHeaderId and r.chequeId>0 and c.id=r.chequeId  AND v.type='Receipt' AND r.modeofcollection='Cheque' {AND v.name='@22'} {AND r.type='@23'} 
			 	 {AND v.voucherDate &gt;='@24'} {AND v.voucherDate &lt;= '@25'}  {AND v.voucherNumber like '%' || '@26' || '%'}  {AND v.FUNDID=@27}  {AND r.wardid =@28}{AND mis.DEPARTMENTID =@60} group by v.cgn,v.voucherNumber,v.voucherDate,v.isconfirmed,v.status,mis.schemeid,mis.subschemeid,f.id  
			 UNION
				select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,r.cashAmount as &quot;amount&quot;, 
				'Cash' as &quot;modeOfCollection&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid as &quot;scheme&quot;,mis.subschemeid as &quot;subscheme&quot;,f.id AS &quot;fundId&quot;  
				from voucherHeader v, receiptHeader r,vouchermis mis,fund f where MIS.VOUCHERHEADERID=V.ID and v.status!=4 and v.originalvcid=r.voucherHeaderId and v.fundid=f.id AND r.chequeId is null 
				AND v.type='Receipt' AND v.status=2 AND r.modeofcollection='Cash' {AND v.name='@29'} {AND r.type='@30'} {AND v.voucherDate &gt;= '@31'} {AND v.voucherDate &lt;='@32'} 
				 {AND v.voucherNumber like '%' || '@33' || '%'}  {AND v.FUNDID=@34}	{AND r.wardid =@35} {AND mis.DEPARTMENTID =@61}
			 UNION
				 select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,r.cashAmount as &quot;amount&quot;, 
				'Bank' as &quot;modeOfCollection&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid as &quot;scheme&quot;,mis.subschemeid as &quot;subscheme&quot;,f.id AS &quot;fundId&quot;  
				from voucherHeader v, receiptHeader r,vouchermis mis,fund f where MIS.VOUCHERHEADERID=V.ID and v.fundid=f.id and v.status!=4 and 
				v.originalvcid=r.voucherHeaderId AND r.chequeId is null 
				AND v.type='Receipt' AND v.status=2 AND r.modeofcollection='Bank' {AND v.name='@36'}  {AND r.type='@37'} {AND v.voucherDate &gt;= '@38'} {AND v.voucherDate &lt;='@39'} 
				 {AND v.voucherNumber like '%' || '@40' || '%'}  {AND v.FUNDID=@41}	{AND r.wardid =@42} {AND mis.DEPARTMENTID =@62}
			 UNION
			 	select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as       &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;, r.cashAmount
				as &quot;amount&quot;, 'Others' as  &quot;modeOfCollection&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid as &quot;scheme&quot;,mis.subschemeid as &quot;subscheme&quot;,f.id AS &quot;fundId&quot;   
				from voucherHeader v, chequeDetail c, receiptHeader r,vouchermis mis,fund f where MIS.VOUCHERHEADERID=V.ID and v.fundid=f.id and v.status!=4 and 
				v.originalvcid=r.voucherHeaderId  and r.chequeId>0 
				and c.id=r.chequeId AND v.type='Receipt' AND v.status=2 AND r.modeofcollection='Others' {AND v.name='@43'} {AND	 r.type='@44'}
				{AND v.voucherDate &gt;='@45'} {AND v.voucherDate &lt;= '@46'}  {AND v.voucherNumber like '%' || '@47' || '%'}  {AND v.FUNDID=@48}
				{AND r.wardid =@49}{AND mis.DEPARTMENTID =@63}
			 
			 UNION
			 	select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as       &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;, sum(c.amount)
				as &quot;amount&quot;, 'Cheque' as  &quot;modeOfCollection&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid as &quot;scheme&quot;,mis.subschemeid as &quot;subscheme&quot;,f.id AS &quot;fundId&quot;   
				from voucherHeader v, chequeDetail c, receiptHeader r,vouchermis mis,fund f  where MIS.VOUCHERHEADERID=V.ID and v.fundid=f.id and v.status!=4 and 
				v.originalvcid=r.voucherHeaderId  and r.chequeId>0 
				and c.id=r.chequeId AND v.type='Receipt' AND v.status=2 AND r.modeofcollection='Cheque' {AND v.name='@50'} {AND	 r.type='@51'}
				{AND v.voucherDate &gt;='@52'} {AND v.voucherDate &lt;= '@53'}  {AND v.voucherNumber like '%' || '@54' || '%'}   {AND v.FUNDID=@55}
				{AND r.wardid =@56} {AND mis.DEPARTMENTID =@64} group by v.cgn,v.voucherNumber,v.voucherDate,v.isconfirmed,v.status,mis.schemeid,mis.subschemeid,f.id ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot; ">
			 				<parameter dataSource="receiptType" isRequired="false"/>
			 				<parameter dataSource="receiptMode" isRequired="false"/>
			 				<parameter dataSource="voucherDateFrom" isRequired="false"/>
			 				<parameter dataSource="voucherDateTo" isRequired="false"/>
			 				<parameter dataSource="voucherNumberFrom" isRequired="false"/>
			 				<parameter dataSource="fundID" isRequired="false"/>
			 				<parameter dataSource="wardid" isRequired="false"/>
							<parameter dataSource="receiptType" isRequired="false"/>
							<parameter dataSource="receiptMode" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="wardid" isRequired="false"/>
							<parameter dataSource="receiptType" isRequired="false"/>
							<parameter dataSource="receiptMode" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="wardid" isRequired="false"/>
							<parameter dataSource="receiptType" isRequired="false"/>
							<parameter dataSource="receiptMode" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="wardid" isRequired="false"/>
							<parameter dataSource="receiptType" isRequired="false"/>
							<parameter dataSource="receiptMode" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="wardid" isRequired="false"/>
							<parameter dataSource="receiptType" isRequired="false"/>
							<parameter dataSource="receiptMode" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="wardid" isRequired="false"/>
							<parameter dataSource="receiptType" isRequired="false"/>
							<parameter dataSource="receiptMode" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="wardid" isRequired="false"/>
							<parameter dataSource="receiptType" isRequired="false"/>
							<parameter dataSource="receiptMode" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="wardid" isRequired="false"/>
							<parameter dataSource="deptId" isRequired="false"/>
							<parameter dataSource="deptId" isRequired="false"/>
							<parameter dataSource="deptId" isRequired="false"/>
							<parameter dataSource="deptId" isRequired="false"/>
							<parameter dataSource="deptId" isRequired="false"/>
							<parameter dataSource="deptId" isRequired="false"/>
							<parameter dataSource="deptId" isRequired="false"/>
							<parameter dataSource="deptId" isRequired="false"/>
			 				
	</sqlTemplate>
	
	<sqlTemplate id="receiptSearchNew"
			 		template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,r.cashAmount as &quot;amount&quot;,
					'Cash' as  &quot;modeOfCollection&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid AS &quot;scheme&quot;,mis.subschemeid AS &quot;subscheme&quot;,f.id AS &quot;fundId&quot;   
					from voucherHeader v, receiptHeader r,vouchermis mis,fund f where MIS.VOUCHERHEADERID=V.ID and v.id=r.voucherHeaderId and v.fundid=f.id AND r.chequeId is null AND v.type='Receipt' AND v.status=0 and v.isconfirmed = 1 AND r.modeofcollection='Cash' {AND v.name='@1'} {AND r.type='@2'} {AND v.voucherDate &gt;= '@3'} 
					{AND v.voucherDate &lt;='@4'} {AND v.voucherNumber like '%' || '@5' || '%'} { AND v.fundid=@6 }
			 		{AND r.wardid =@7} 
			 		 UNION
			 		 select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,r.cashAmount as &quot;amount&quot;,
					'Bank' as  &quot;modeOfCollection&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid AS &quot;scheme&quot;,mis.subschemeid AS &quot;subscheme&quot;,f.id AS &quot;fundId&quot;   
					from voucherHeader v, receiptHeader r,vouchermis mis,fund f  where MIS.VOUCHERHEADERID=V.ID and v.id=r.voucherHeaderId and v.fundid=f.id AND r.chequeId is null AND v.type='Receipt' AND v.status=0 and v.isconfirmed = 1 AND r.modeofcollection='Bank'  {AND v.name='@8' }  {AND r.type='@9'} {AND v.voucherDate &gt;= '@10'} 
					{AND v.voucherDate &lt;='@11'} {AND v.voucherNumber like '%' || '@12' || '%'} { AND v.fundid=@13 }
					{AND r.wardid =@14} 
			 		 UNION
			 			select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as       &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,
		   				sum(c.amount) as &quot;amount&quot;, r.modeofcollection as       &quot;modeOfCollection&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid AS &quot;scheme&quot;,mis.subschemeid AS &quot;subscheme&quot;,f.id AS &quot;fundId&quot;  
					from voucherHeader v,chequeDetail c,receiptHeader r,vouchermis mis,fund f  where MIS.VOUCHERHEADERID=V.ID and v.id=r.voucherHeaderId and v.fundid=f.id and r.chequeId>0 and c.id=r.chequeId AND v.type='Receipt' AND v.status=0 and v.isconfirmed = 1 AND c.isdeposited=0 {AND v.name='@15'} {AND r.type='@16'} 
			 		 {AND v.voucherDate &gt;='@17'} {AND v.voucherDate &lt;= '@18'} {AND v.voucherNumber like '%' || '@19' || '%'} { AND v.fundid=@20 }  
			 		 {AND r.wardid =@21} group by v.cgn,v.voucherNumber,v.voucherDate,v.isconfirmed,v.status,r.modeofcollection,mis.schemeid,mis.subschemeid,f.id  ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot; ">
			 				
			 				<parameter dataSource="receiptType" isRequired="false"/>
			 				<parameter dataSource="receiptMode" isRequired="false"/>
			 				<parameter dataSource="voucherDateFrom" isRequired="false"/>
			 				<parameter dataSource="voucherDateTo" isRequired="false"/>
			 				<parameter dataSource="voucherNumberFrom" isRequired="false"/>
			 				<parameter dataSource="fundID" isRequired="false"/>
			 				<parameter dataSource="wardid" isRequired="false"/>
			 				<parameter dataSource="receiptType" isRequired="false"/>
							<parameter dataSource="receiptMode" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
			 				<parameter dataSource="wardid" isRequired="false"/>
			 				<parameter dataSource="receiptType" isRequired="false"/>
							<parameter dataSource="receiptMode" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
			 				<parameter dataSource="wardid" isRequired="false"/>
			 				
			 				
			 				
							
		</sqlTemplate>


			<sqlTemplate id="receiptSearchNewModify"
						template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,r.cashAmount as &quot;amount&quot;,
						'Cash' as  &quot;modeOfCollection&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid AS &quot;scheme&quot;,mis.subschemeid AS &quot;subscheme&quot;,f.id AS &quot;fundId&quot;     
						from voucherHeader v, receiptHeader r,vouchermis mis,fund f  where MIS.VOUCHERHEADERID=V.ID and v.id=r.voucherHeaderId and v.fundid=f.id AND r.chequeId is null AND v.type='Receipt' AND v.isconfirmed=0 AND v.status=0 AND r.modeofcollection='Cash' {AND v.name='@1'} {AND r.type='@2'} {AND v.voucherDate &gt;= '@3'} 
						{AND v.voucherDate &lt;='@4'} {AND v.voucherNumber like '%' || '@5' || '%' } {AND v.fundid =@6 }
						{AND r.wardid =@7} 
						UNION
						select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,r.cashAmount as &quot;amount&quot;,
						'Bank' as  &quot;modeOfCollection&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid AS &quot;scheme&quot;,mis.subschemeid AS &quot;subscheme&quot;,f.id AS &quot;fundId&quot;   
						from voucherHeader v, receiptHeader r,vouchermis mis,fund f  where MIS.VOUCHERHEADERID=V.ID and v.id=r.voucherHeaderId and v.fundid=f.id AND r.chequeId is null AND v.type='Receipt' AND v.isconfirmed=0 AND v.status=0 AND r.modeofcollection='Bank'  {AND v.name='@8' }  {AND r.type='@9'} {AND v.voucherDate &gt;= '@10'} 
						{AND v.voucherDate &lt;='@11'} {AND v.voucherNumber like '%' || '@12' || '%' } {AND v.fundid =@13 }
						{AND r.wardid =@14} 
						UNION
						select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as       &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,
						sum(c.amount) as &quot;amount&quot;, r.modeofcollection as       &quot;modeOfCollection&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;VoucherStatus&quot;,mis.schemeid AS &quot;scheme&quot;,mis.subschemeid AS &quot;subscheme&quot;,f.id AS &quot;fundId&quot;  
						from voucherHeader v,chequeDetail c,receiptHeader r,vouchermis mis,fund f  where MIS.VOUCHERHEADERID=V.ID and v.fundid=f.id and v.id=r.voucherHeaderId and r.chequeId>0 and c.id=r.chequeId AND v.type='Receipt' AND v.isconfirmed=0 AND v.status=0 AND c.ISDEPOSITED!=1 {AND v.name='@15'} {AND r.type='@16'} 
						{AND v.voucherDate &gt;='@17'} {AND v.voucherDate &lt;= '@18'} {AND v.voucherNumber like '%' || '@19' || '%' } {AND v.fundid =@20 }  
						{AND r.wardid =@21} group by v.cgn,v.voucherNumber,v.voucherDate,v.isconfirmed,v.status,r.modeofcollection,f.id,mis.schemeid,mis.subschemeid  ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot; ">
							 				
						<parameter dataSource="receiptType" isRequired="false"/>
						<parameter dataSource="receiptMode" isRequired="false"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumberFrom" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="wardid" isRequired="false"/>
							 				<parameter dataSource="receiptType" isRequired="false"/>
											<parameter dataSource="receiptMode" isRequired="false"/>
											<parameter dataSource="voucherDateFrom" isRequired="false"/>
											<parameter dataSource="voucherDateTo" isRequired="false"/>
											<parameter dataSource="voucherNumberFrom" isRequired="false"/>
											<parameter dataSource="fundID" isRequired="false"/>
							 				<parameter dataSource="wardid" isRequired="false"/>
							 				<parameter dataSource="receiptType" isRequired="false"/>
											<parameter dataSource="receiptMode" isRequired="false"/>
											<parameter dataSource="voucherDateFrom" isRequired="false"/>
											<parameter dataSource="voucherDateTo" isRequired="false"/>
											<parameter dataSource="voucherNumberFrom" isRequired="false"/>
											<parameter dataSource="fundID" isRequired="false"/>
							 				<parameter dataSource="wardid" isRequired="false"/>
							 				
											
	</sqlTemplate>
	
		<sqlTemplate id="paymentSearch"
					template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,m.paidTo as &quot;paidTo&quot;,m.passedAmount as &quot;passedAmount&quot;,m.amount as &quot;billAmount&quot;, 'Cash' as &quot;chequeNumber&quot; , v.status AS &quot;status&quot; from voucherHeader v, miscBillDetail m, paymentHeader p where v.id=p.voucherHeaderId AND m.id=p.miscBillDetailId AND v.type='Payment' AND p.chequeId is null { AND v.name='@1'} {AND v.voucherDate &gt;= '@2'} {AND v.voucherDate &lt;='@3'} {AND v.voucherNumber &gt;= '@4'} {AND v.voucherNumber &lt;='@5'} {AND v.status = @6} 
					UNION
					select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,m.paidTo as &quot;paidTo&quot;,m.passedAmount as &quot;passedAmount&quot;,m.amount as &quot;billAmount&quot;, 'Cash' as &quot;chequeNumber&quot; , mv.status AS &quot;status&quot; from voucherHeader v, miscBillDetail m, paymentHeader p,voucherheader mv where v.id=p.voucherHeaderId AND m.id=p.miscBillDetailId AND v.type='Payment' and mv.originalvcid=v.id AND p.chequeId is null { AND v.name='@7'} {AND v.voucherDate &gt;= '@8'} {AND v.voucherDate &lt;='@9'} {AND v.voucherNumber &gt;= '@10'} {AND v.voucherNumber &lt;='@11'} {AND v.status = @12} 
					union
					select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,m.paidTo as &quot;paidTo&quot;,m.passedAmount as &quot;passedAmount&quot;,m.amount as &quot;billAmount&quot;, c.chequeNumber as &quot;chequeNumber&quot;  , v.status AS &quot;status&quot;  from voucherHeader v, chequeDetail c, miscBillDetail m, paymentHeader p where v.id=p.voucherHeaderId AND m.id=p.miscBillDetailId AND v.type='Payment' AND c.id=p.chequeId AND p.chequeId>0 { AND v.name='@13'} {AND v.voucherDate &gt;= '@14'} {AND v.voucherDate &lt;='@15'} {AND v.voucherNumber &gt;= '@16'} {AND v.voucherNumber &lt;='@17'} {AND v.status = @18} 
					union
					select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,m.paidTo as &quot;paidTo&quot;,m.passedAmount as &quot;passedAmount&quot;,m.amount as &quot;billAmount&quot;, c.chequeNumber as &quot;chequeNumber&quot;  , mv.status AS &quot;status&quot;  from voucherHeader v, chequeDetail c, miscBillDetail m, paymentHeader p,voucherheader mv where v.id=p.voucherHeaderId AND m.id=p.miscBillDetailId AND v.type='Payment' AND mv.originalvcid=v.id AND c.id=p.chequeId AND p.chequeId>0 { AND v.name='@19'} {AND v.voucherDate &gt;= '@20'} {AND v.voucherDate &lt;='@21'} {AND v.voucherNumber &gt;= '@22'} {AND v.voucherNumber &lt;='@23'} {AND v.status = @24} ORDER BY &quot;voucherDate&quot; ,&quot;cgNumber&quot;">
					<parameter dataSource="paymentType" isRequired="false"/>
					<parameter dataSource="voucherDateFrom" isRequired="false"/>
					<parameter dataSource="voucherDateTo" isRequired="false"/>
					<parameter dataSource="voucherNumberFrom" isRequired="false"/>
					<parameter dataSource="voucherNumberTo" isRequired="false"/>
					<parameter dataSource="statusNum" isRequired="false"/>
					<parameter dataSource="paymentType" isRequired="false"/>
					<parameter dataSource="voucherDateFrom" isRequired="false"/>
					<parameter dataSource="voucherDateTo" isRequired="false"/>
					<parameter dataSource="voucherNumberFrom" isRequired="false"/>
					<parameter dataSource="voucherNumberTo" isRequired="false"/>
					<parameter dataSource="statusNum" isRequired="false"/>
					<parameter dataSource="paymentType" isRequired="false"/>
					<parameter dataSource="voucherDateFrom" isRequired="false"/>
					<parameter dataSource="voucherDateTo" isRequired="false"/>
					<parameter dataSource="voucherNumberFrom" isRequired="false"/>
					<parameter dataSource="voucherNumberTo" isRequired="false"/>
					<parameter dataSource="statusNum" isRequired="false"/>
					<parameter dataSource="paymentType" isRequired="false"/>
					<parameter dataSource="voucherDateFrom" isRequired="false"/>
					<parameter dataSource="voucherDateTo" isRequired="false"/>
					<parameter dataSource="voucherNumberFrom" isRequired="false"/>
					<parameter dataSource="voucherNumberTo" isRequired="false"/>
					<parameter dataSource="statusNum" isRequired="false"/>
	</sqlTemplate>

		
		<sqlTemplate id="paymentSearchModify"
							template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,m.paidTo as &quot;paidTo&quot;,m.passedAmount as &quot;passedAmount&quot;,m.amount as &quot;billAmount&quot;, 'Cash' as &quot;chequeNumber&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot; from voucherHeader v, miscBillDetail m, paymentHeader p where v.id=p.voucherHeaderId AND m.id=p.miscBillDetailId AND v.type='Payment' AND v.isconfirmed=0 AND p.chequeId is null { AND v.name='@1'} {AND v.voucherDate &gt;= '@2'} {AND v.voucherDate &lt;='@3'} {AND v.voucherNumber &gt;= '@4'} {AND v.voucherNumber &lt;='@5'} {AND v.status = @6} 
							UNION
							select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,m.paidTo as &quot;paidTo&quot;,m.passedAmount as &quot;passedAmount&quot;,m.amount as &quot;billAmount&quot;, 'Cash' as &quot;chequeNumber&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot; from voucherHeader v, miscBillDetail m, paymentHeader p,voucherheader mv where v.id=p.voucherHeaderId AND m.id=p.miscBillDetailId AND v.type='Payment' AND v.isconfirmed=0 and mv.originalvcid=v.id AND p.chequeId is null { AND v.name='@7'} {AND v.voucherDate &gt;= '@8'} {AND v.voucherDate &lt;='@9'} {AND v.voucherNumber &gt;= '@10'} {AND v.voucherNumber &lt;='@11'} {AND v.status = @12} 
							union
							select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,m.paidTo as &quot;paidTo&quot;,m.passedAmount as &quot;passedAmount&quot;,m.amount as &quot;billAmount&quot;, c.chequeNumber as &quot;chequeNumber&quot;  , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;  from voucherHeader v, chequeDetail c, miscBillDetail m, paymentHeader p where v.id=p.voucherHeaderId AND m.id=p.miscBillDetailId AND v.type='Payment' AND v.isconfirmed=0 AND c.id=p.chequeId AND p.chequeId>0 { AND v.name='@13'} {AND v.voucherDate &gt;= '@14'} {AND v.voucherDate &lt;='@15'} {AND v.voucherNumber &gt;= '@16'} {AND v.voucherNumber &lt;='@17'} {AND v.status = @18} 
							union
							select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,m.paidTo as &quot;paidTo&quot;,m.passedAmount as &quot;passedAmount&quot;,m.amount as &quot;billAmount&quot;, c.chequeNumber as &quot;chequeNumber&quot;  , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;  from voucherHeader v, chequeDetail c, miscBillDetail m, paymentHeader p,voucherheader mv where v.id=p.voucherHeaderId AND m.id=p.miscBillDetailId AND v.isconfirmed=0 AND v.type='Payment' AND mv.originalvcid=v.id AND c.id=p.chequeId AND p.chequeId>0 { AND v.name='@19'} {AND v.voucherDate &gt;= '@20'} {AND v.voucherDate &lt;='@21'} {AND v.voucherNumber &gt;= '@22'} {AND v.voucherNumber &lt;='@23'} {AND v.status = @24} ORDER BY &quot;voucherDate&quot; ,&quot;cgNumber&quot;">
							<parameter dataSource="paymentType" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="voucherNumberTo" isRequired="false"/>
							<parameter dataSource="statusNum" isRequired="false"/>
							<parameter dataSource="paymentType" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="voucherNumberTo" isRequired="false"/>
							<parameter dataSource="statusNum" isRequired="false"/>
							<parameter dataSource="paymentType" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="voucherNumberTo" isRequired="false"/>
							<parameter dataSource="statusNum" isRequired="false"/>
							<parameter dataSource="paymentType" isRequired="false"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumberFrom" isRequired="false"/>
							<parameter dataSource="voucherNumberTo" isRequired="false"/>
							<parameter dataSource="statusNum" isRequired="false"/>
	</sqlTemplate>
	<sqlTemplate id="billCollector_name"
		template="SELECT  ID, name from billCollector WHERE type='Counter'">
	</sqlTemplate>
	<sqlTemplate id="department_name"
		template="SELECT  ID_dept, dept_name from eg_department order by dept_name">
	</sqlTemplate>
	<sqlTemplate id="fund_name"
			template="SELECT  ID, name from fund where isactive=1 and isnotleaf!=1 order by name">
	</sqlTemplate>			
	<sqlTemplate id="companyDetailData" 
		template="SELECT ID as &quot;companyDetail_ID&quot;, name as &quot;companyDetail_name&quot;,  mobile as &quot;companyDetail_mobile&quot;,lastModified as &quot;companyDetail_lastModified&quot;, city as &quot;companyDetail_city&quot;, address1 as &quot;companyDetail_address1&quot;, address2 as &quot;companyDetail_address2&quot;, fax as &quot;companyDetail_fax&quot;, email as &quot;companyDetail_email&quot;, Pin as &quot;companyDetail_pin&quot;, phone as &quot;companyDetail_phone&quot;, contactPerson as &quot;companyDetail_contactPerson&quot;, narration as &quot;companyDetail_narration&quot; FROM companyDetail ">
	</sqlTemplate>
	<sqlTemplate id="fiscalPeriodList" 
		template="SELECT name, name  FROM fiscalPeriod">
	</sqlTemplate>
	<sqlTemplate id="departmentNameList" 
		template="SELECT  ID_dept, dept_name from eg_department order by dept_name">
	</sqlTemplate>
	

	<sqlTemplate id="regionNameId" 
		template="SELECT ID as &quot;billCollector_regionId&quot; FROM organizationStructure WHERE name='@1'">
		<parameter dataSource="organizationStructure_regionName" isRequired="true" />
	</sqlTemplate>

	
	<sqlTemplate id="cityNameList" 
		template="select a.ID_BNDRY,a.NAME from eg_boundary a,eg_boundary_type b where b.id_bndry_type=a.id_bndry_type and (b.name='city' or b.name='City')">
	</sqlTemplate>

	<sqlTemplate id="regionNameList"
		template="SELECT ID, name FROM organizationStructure WHERE description='region'">
	</sqlTemplate>

	<sqlTemplate id="wardNameId" 
		template="SELECT ID as &quot;billCollector_wardId&quot; FROM organizationStructure WHERE name='@1'">
		<parameter dataSource="billCollectorDetail_wardId" isRequired="true" />
	</sqlTemplate>

	<sqlTemplate id="wardNameList"
		template="SELECT ID, name FROM organizationStructure WHERE description='Ward'">
	</sqlTemplate>
	
		<sqlTemplate id="fundData" 
		template="SELECT a.id as &quot;fund_ID&quot;, a.code as &quot;fund_code&quot;,a.name as &quot;fund_name&quot;, b.name as &quot;fund_type&quot;   
		FROM fund a,fund b
		where a.parentid=b.id and a.parentid is not null 
		union
		SELECT a.id as &quot;fund_ID&quot;, a.code as &quot;fund_code&quot;,a.name as &quot;fund_name&quot;, '' as &quot;fund_type&quot;   
		FROM fund a where  a.parentid is null ">		
	</sqlTemplate>


	 <sqlTemplate id="fundList" 
			template="SELECT  c.name as &quot;pay_name&quot;,c.id as &quot;fund_payglcodeid&quot;, fund.ID AS &quot;fund_ID&quot;, fund.code AS &quot;fund_code&quot;,      fund.name AS &quot;fund_name&quot;,  
	 		fund.lastModified AS &quot;fund_lastModified&quot;, fund.llevel AS &quot;fund_llevel&quot;,
	 		fund.isnotleaf AS &quot;fund_isnotleaf&quot;,  parent.Id AS &quot;fund_parentID&quot;,
	 		fund.identifier AS &quot;fund_identifier&quot;, parent.name as &quot;fund_type&quot;,parent.code AS &quot;parent_parentFundCode&quot;, fund.isactive as &quot;fund_isactive&quot;  
			FROM    Fund fund left join Fund parent on  fund.parentId=parent.id, chartofaccounts c     
			WHERE   fund.code = '@1' and  c.id=fund.PAYGLCODEID
				union
			SELECT  '' as &quot;pay_name&quot;,null as &quot;fund_payglcodeid&quot;, fund.ID AS &quot;fund_ID&quot;, fund.code AS &quot;fund_code&quot;,      fund.name AS &quot;fund_name&quot;,  
	 		fund.lastModified AS &quot;fund_lastModified&quot;, fund.llevel AS &quot;fund_llevel&quot;,
	 		fund.isnotleaf AS &quot;fund_isnotleaf&quot;,  parent.Id AS &quot;fund_parentID&quot;,
	 		fund.identifier AS &quot;fund_identifier&quot;, parent.name as &quot;fund_type&quot;,parent.code AS &quot;parent_parentFundCode&quot;, fund.isactive as &quot;fund_isactive&quot;  
			FROM    Fund fund left join Fund parent on  fund.parentId=parent.id     
				WHERE   fund.code = '@2' and fund.PAYGLCODEID is null ">		
			<parameter dataSource="fund_code" isRequired="true"/>
			<parameter dataSource="fund_code" isRequired="true"/>
	</sqlTemplate>

	
	<sqlTemplate id="fundNameId" 
		template="SELECT ID  AS &quot;fund_parentId&quot;,
			    llevel AS &quot;fund_llevel&quot;, 
			    code as &quot;parent_parentFundCode&quot;
			    FROM fund WHERE name='@1'">
		<parameter dataSource="fundId" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="fundId" 
		template="SELECT ID as &quot;voucherHeader_fundId&quot;, name as &quot;fund_name&quot; FROM fund WHERE name='@1'">
		<parameter dataSource="fund_name" isRequired="true" />
	</sqlTemplate>
	
	<sqlTemplate id="departmentId" 
		template="SELECT ID_dept as &quot;voucherHeader_departmentId&quot;, dept_name as &quot;department_name&quot; FROM eg_department WHERE dept_name='@1'">
		<parameter dataSource="department_name" isRequired="true" />
	</sqlTemplate>

	<sqlTemplate id="fundNameLst" 
		template="SELECT distinct name as &quot;fund_type&quot;, name as &quot;fund_type&quot; FROM fund WHERE isActive=1">
	</sqlTemplate>

	<sqlTemplate id="fundNameList" 
			template="SELECT id, name FROM fund where isactive=1 and isnotleaf!=1 order by name">
	</sqlTemplate>
	
	<sqlTemplate id="voucherTypeList" 
			template="SELECT distinct type FROM voucherheader order by type">
	</sqlTemplate>
	
	<sqlTemplate id="voucherList" 
			template="SELECT DISTINCT name AS &quot;voucher_name&quot;,name as  &quot;voucher_name&quot; FROM voucherheader where upper(type)='JOURNAL VOUCHER' order by name">
	</sqlTemplate>

	<sqlTemplate id="departmentName"
		template="SELECT  ID_dept, dept_name from eg_department order by dept_name">
	</sqlTemplate>

	<sqlTemplate id="fundName"
			template="SELECT ID, name FROM fund where isactive=1 and isnotleaf!=1 order by name">
	</sqlTemplate>
	
	<sqlTemplate id="billCollectorNameList" 
		template="SELECT ID, name FROM billCollector WHERE lower(type) = 'cashier' and isactive=1">
	</sqlTemplate>
	<sqlTemplate id="branchDeatilSearch" 
		template="SELECT bb.id as &quot;bankBranch_branchId&quot;, bb.branchCode as &quot;bankBranch_branchCode&quot;, bb.branchName as &quot;bankBranch_branchName&quot;, bb.branchAddress1 as &quot;bankBranch_branchAddress1 &quot;, bb.branchAddress2 as &quot;bankBranch_branchAddress2 &quot;, bb.branchCity as &quot;bankBranch_branchCity&quot;, bb.branchPin as &quot;bankBranch_branchPin&quot;, bb.branchPhone as &quot;bankBranch_branchPhone&quot;, bb.branchFax as &quot;bankBranch_branchFax&quot;, bb.contactPerson as &quot;bankBranch_contactPerson&quot;, bb.narration as &quot;bankBranch_narration&quot;,bb.isActive as &quot;bankBranch_isActive&quot; FROM bankBranch bb WHERE branchCode='@1'">		
		<parameter dataSource="bankBranch_branchCode" isRequired="true"/>
	</sqlTemplate>	
	<sqlTemplate id="branchCodeAndDescription"
		template="SELECT branchCode as &quot;divCode&quot;, branchName as &quot;divDes&quot; FROM @1 where bankid=@2">
		<parameter dataSource="tableNameForCode" isRequired="true"/>
		<parameter dataSource="bank_id" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="taxesAccountId" 
		template="SELECT id as &quot;taxes_glCodeId&quot;,name as &quot;chartOfAccounts_name&quot; from chartOfAccounts	WHERE glCode = '@1' AND id not in (select glcodeId from taxes WHERE 1=1 {AND id != @2})">
		<parameter dataSource="code" isRequired="true"/>
		<parameter dataSource="id" isRequired="false"/>
	</sqlTemplate>
	
	
<sqlTemplate  id="subledgerPaymentSearchNew"
	template="select b.PassedAmount as &quot;amount&quot;,r.name as &quot;contractor&quot;,r.id as &quot;id&quot;,a.id as &quot;worksdetailid&quot;,a.code as &quot;wocode&quot;,
			f.id as &quot;fundid&quot;,f.name as &quot;fundname&quot;,a.fundsourceid as &quot;fundsourceid&quot;,decode(a.fundsourceid,null,' ',(select name from fundsource where id=a.fundsourceid)) as &quot;fundsource&quot;,
			rtype.name as &quot;type&quot;,vh.vouchernumber as &quot;Search_voucherNo&quot;,vh.cgn as &quot;cgnum&quot;,b.id as &quot;Search_billId&quot;
		 from worksdetail  a,contractorbilldetail  b,relation r,fund f, voucherheader vh,relationtype rtype
		where a.id = b.worksdetailid and a.relationid=r.id and  a.fundid=f.id
		and b.voucherheaderid=vh.id and  r.relationtypeid=rtype.id
		and b.passedamount>(b.paidamount+b.tdsamount+b.advadjamt+b.otherrecoveries) and vh.status=0
		
		{and r.id=@1}
		{and vh.vouchernumber &gt;='@2'} {and vh.vouchernumber &lt;='@3'}
		union
		select b.PassedAmount as &quot;amount&quot;,r.name as &quot;contractor&quot;,r.id as &quot;id&quot;,a.id as &quot;worksdetailid&quot;,a.code as &quot;wocode&quot;,
		f.id as &quot;fundid&quot;,f.name as &quot; fundname&quot;,a.fundsourceid as &quot;fundsourceid&quot;,decode(a.fundsourceid,null,' ',(select name from fundsource where id=a.fundsourceid)) as &quot;fundsource&quot;,
		rtype.name as &quot;type&quot;,vh.vouchernumber as &quot;Search_voucherNo&quot;,vh.cgn as &quot;cgnum&quot;,b.id as &quot;Search_billId&quot;
		 from worksdetail  a,supplierbilldetail  b,relation r,fund f,voucherheader vh,relationtype rtype
		where a.id = b.worksdetailid and a.relationid=r.id and  a.fundid=f.id
		and b.voucherheaderid=vh.id and  r.relationtypeid=rtype.id
		and b.passedamount>(b.paidamount+b.tdsamount+b.advadjamt+b.otherrecoveries) and vh.status=0
		{and r.id=@4}
		{and vh.vouchernumber &gt;='@5'} {and vh.vouchernumber &lt;='@6'}
		ORDER BY &quot;id&quot;,&quot;wocode&quot;,&quot;Search_voucherNo&quot;" >
		
		<parameter dataSource="conSupid" isRequired="false"/>
		<parameter dataSource="voucherNoFrom" isRequired="false"/>
		<parameter dataSource="voucherNoTo" isRequired="false"/>
		<parameter dataSource="conSupid" isRequired="false"/>
		<parameter dataSource="voucherNoFrom" isRequired="false"/>
		<parameter dataSource="voucherNoTo" isRequired="false"/>
		
</sqlTemplate>

	<sqlTemplate  id="contractorSubLedgerPayment" 
	template="select a.id as &quot;billNoId&quot;,billNumber as&quot;billNo&quot;,
	b.voucherdate as &quot;billDate&quot;,a.PassedAmount as &quot;passedAmount&quot;,
	advadjamt as &quot;advance&quot;,TDSamount as &quot;tds&quot;,OtherRecoveries as &quot;otherRecoveries&quot;,
	a.passedAmount-(a.advadjamt+a.tdsamount+a.otherrecoveries) as &quot;net&quot;,
	a.PaidAmount as &quot;earlierPayment&quot; ,(a.passedAmount-(a.advadjamt+a.tdsamount+a.otherrecoveries))-a.paidamount 
	as &quot;slph_paidAmount&quot;, rownum as &quot;slNo&quot;,vouchernumber AS 
	&quot;d_voucherNo&quot;, w.code as &quot;woCode&quot;, w.id as &quot;woId&quot;,
	a.CONTRACTORID as &quot;idsofcontractor&quot; 
	from contractorbilldetail a ,voucherheader b,worksdetail w    
	where w.id=a.worksdetailid and b.id=a.voucherheaderid and  b.status=0 
	{and contractorid=@1} and b.fundid=@4 {and voucherdate &gt;= '@2'} {and voucherdate &lt;='@3'}
	and worksdetailid IN (@5) and a.passedamount>(a.paidamount+a.tdsamount+a.advadjamt+a.otherrecoveries) 
	and a.id in(@6)
	order by b.voucherdate,w.code" >
			<parameter dataSource="id" isRequired="false"/>
			<parameter dataSource="fromDate" isRequired="false"/>
			<parameter dataSource="toDate" isRequired="false"/>
			<parameter dataSource="fundid" isRequired="true"/>
			<parameter dataSource="worksDetailId" isRequired="true"/>
			<parameter dataSource="Search_billId" isRequired="true"/>
		</sqlTemplate>


	<sqlTemplate  id="supplierSubLedgerPayment" 
	template="select a.id as &quot;billNoId&quot;,billNumber as &quot;billNo&quot;,
	b.voucherdate as &quot;billDate&quot;,a.PassedAmount as &quot;passedAmount&quot;,
	advadjamt as &quot;advance&quot;,TDSamount as &quot;tds&quot;,OtherRecoveries as &quot;otherRecoveries&quot;,
	a.passedAmount-(a.advadjamt+a.tdsamount+a.otherrecoveries) as &quot;net&quot;,
	a.PaidAmount as	&quot;earlierPayment&quot;,(a.passedAmount-(a.advadjamt+a.tdsamount+a.otherrecoveries))-a.paidamount
	as &quot;slph_paidAmount&quot;, rownum as &quot;slNo&quot;,vouchernumber AS 
	&quot;d_voucherNo&quot;,w.code as &quot;woCode&quot;, w.id as &quot;woId&quot;,
	a.SUPPLIERID as &quot;idsofcontractor&quot; 
	from supplierbilldetail a ,voucherheader b,worksdetail w 
	where w.id=a.worksdetailid AND b.id=a.voucherheaderid and b.status=0 
	{and supplierid=@1} and b.fundid=@4 {and voucherdate &gt;= '@2'} {and voucherdate &lt;='@3'} 
	and worksdetailid in(@5) and a.passedamount>(a.paidamount+a.tdsamount+a.advadjamt+a.otherrecoveries) 
	and a.id in(@6)
	order by b.voucherdate,w.code">
		<parameter dataSource="id" isRequired="false"/>
		<parameter dataSource="fromDate" isRequired="false"/>
		<parameter dataSource="toDate" isRequired="false"/>
		<parameter dataSource="fundid" isRequired="true"/>
		<parameter dataSource="worksDetailId" isRequired="true"/>
		<parameter dataSource="Search_billId" isRequired="true"/>
	</sqlTemplate>	

	<sqlTemplate id="branchId" 
		template="Select branch.ID as &quot;bankBranch_ID&quot;, bank.name||branch.branchName as &quot;bankAndBranch&quot; FROM bank bank , bankBranch branch WHERE branch.bankId=bank.ID AND bank.isActive = 1 AND branch.isActive = 1">		
	</sqlTemplate>
	<sqlTemplate id="taxDescription" template="SELECT ca.name FROM EGF_TAX_CODE tc, chartOfAccounts ca, EGF_TAX_ACCOUNT_MAPPING tm
		WHERE tm.taxcodeid=tc.id AND tm.isactive=1 AND tc.isactive=1 AND ca.id=tm.glcodeid AND tc.code='@1'">
		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="taxesCheck"
		template="SELECT  id as &quot;check_tax&quot; from taxes where code='@1' {AND id != @2}">
		<parameter dataSource="code" isRequired="true"/>
		<parameter dataSource="id" isRequired="false"/>
	</sqlTemplate>
	<sqlTemplate id="cashName"
		template="SELECT  c.ID, c.name from billCollector b, chartOfAccounts c WHERE c.ID=b.cashInHand ORDER BY ID">
	</sqlTemplate>
	<sqlTemplate id="chequeName"
		template="SELECT  c.ID, c.name from billCollector b, chartOfAccounts c WHERE c.ID=b.chequeInHand ORDER BY ID">
	</sqlTemplate>		
	<sqlTemplate id="billCollector"
		template="SELECT  ID, name from billCollector where isactive=1 {and type='@1'} order by name">
		<parameter dataSource="type" isRequired="false"/>
	</sqlTemplate>
	
	<sqlTemplate id="fund"
				template="SELECT  ID, name from fund where isactive=1 and isnotleaf!=1 order by name">
	</sqlTemplate>

	<sqlTemplate id="wards"
		template="SELECT o.id, o.name FROM organizationStructure o,billCollectorDetail b {WHERE billCollectorID='@1' }">
		<parameter dataSource="id" isRequired="false"/>
	</sqlTemplate>
	
	<sqlTemplate id="wardReg"
		template="SELECT ID, name as &quot;billCollectorDetail_ward&quot; FROM organizationStructure WHERE parentid  =@1 ">
		<parameter dataSource="organizationStructure_regionId" isRequired="true" />
	</sqlTemplate>
	
	
 <sqlTemplate id="accountDetail" 
		template="SELECT a.id as &quot;bankAccount_id&quot; , accountNumber as  &quot;bankAccount_accountNumber&quot;, accounttype as &quot;bankAccount_accountType&quot;, narration as  &quot;bankAccount_narration&quot;, a.isActive as &quot;bankAccount_isActive&quot; , b.parentid as &quot;accountHead_id&quot;, glcode as  &quot;chartOfAccounts_glCode&quot;,
a.isActive as &quot;bankAccount_isActiveCB&quot;,a.fundid as &quot;fund_id&quot;,
d.name as &quot;fund_name&quot;,a.PAYTO as  &quot;pay_To&quot;, a.type as&quot;bankAccount_type&quot;
FROM bankAccount a,chartofaccounts b ,fund d where  a.glcodeid=b.id and a.glcodeid!=0 and branchId=@1 and d.id=a.fundid">

<parameter dataSource="bankBranch_branchId" isRequired="true"/>

</sqlTemplate>

<!--<sqlTemplate id="accountDetailSearch" 
		template="SELECT ba.id as &quot;bankAccount_id&quot;, ba.accountNumber as &quot;bankAccount_accountNumber&quot;, ba.accountType as &quot;bankAccount_accountType&quot;, ba.narration as &quot;bankAccount_narration&quot;, ba.isActive as &quot;bankAccount_isActiveCB&quot; ,
  a.glcode as  &quot;chartOfAccounts_glCode&quot; FROM bankBranch bb, bankAccount ba,chartofaccounts a
 WHERE branchCode='@1' AND ba.branchId=bb.ID and a.id=ba.glcodeid ">		
		<parameter dataSource="bankBranch_branchCode" isRequired="true"/>
	</sqlTemplate>
	
	
	--><sqlTemplate id="wardForBC"
		template="SELECT     ID, name FROM organizationStructure
			WHERE     ID IN  (SELECT     wardid   FROM  billCollectordetail a, billcollector b    WHERE  billcollectorid = b.id AND b.code ='@1')">
			<parameter dataSource="billCollector_codeToSearch" isRequired="true" />
	</sqlTemplate>
		
	<sqlTemplate id="orgData" 
		template="select  org.code as &quot;code&quot;,
				org.name as &quot;name&quot;,
				org.description as &quot;description&quot;,
				org1.name as &quot;parentName&quot;
				FROM organizationStructure org, organizationStructure org1
				WHERE org.parentid = org1.id and org1.name != 'NA'
				GROUP BY org.name, org.code, org.id, org.description, org1.name
				UNION 
				select org.code as &quot;code&quot;,
				org.name as &quot;name&quot;,
				org.description as &quot;description&quot;,
				'' as &quot;parentName&quot;
				FROM organizationStructure org where description = 'Zone'">		
	</sqlTemplate>
 	
	 <sqlTemplate id="orgModData" 
		template="SELECT org.id as &quot;ID&quot;, org.code as &quot;code&quot;, org.name as &quot;name&quot;,
	    	  	org.description as &quot;description&quot;,org.cashInHand as &quot;cashInHand&quot;,
			org.chequeInHand as &quot;chequeInHand&quot;,org.lastModified as &quot;lastModified&quot;,
			ca1.glCode as &quot;cashInHandCode&quot;,	ca2.glCode as &quot;chequeInHandCode&quot;,
			org.parentId as &quot;parentId&quot;,
			org.isactive as &quot;isActive&quot;
			FROM  organizationStructure org left join chartOfAccounts ca1 on   org.cashInHand=ca1.id,  
			organizationStructure org1 left join chartOfAccounts ca2 on org1.chequeInHand=ca2.id 
			where org.code = '@1' and org.id = org1.id">		
		<parameter dataSource="organizationStructure_code" isRequired="true"/>
	</sqlTemplate>
	
	
	<sqlTemplate id="orgCodeVerification" 
		template="SELECT name  FROM organizationStructure  WHERE code ='@1'">		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="orgList" 
			template="select id, Name  from organizationStructure 
			where description = (select b.description
			from organizationStructure a, organizationStructure b
			where a.code = '@1' and a.parentid = b.id)">		
			<parameter dataSource="organizationStructure_code" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="selectOrgNames" 
		template="SELECT ID, name  FROM organizationStructure WHERE description ='@1'">		
		<parameter dataSource="organizationStructure_description1" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="cashInHand" 
		template="SELECT ca.glCode as &quot;chartOfAccounts_glCode_CInH&quot; FROM billCollector bc, chartOfAccounts ca
				WHERE bc.cashInHand = ca.id and bc.id = @1">
		<parameter dataSource="billCollector_id" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="departmentCodeVerification" 
		template="SELECT dept_name  FROM eg_department  WHERE dept_code ='@1'">		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="departmentVal" 
		template="SELECT id_dept AS &quot;eg_department_id_dept&quot;,dept_code AS &quot;eg_department_dept_code&quot;,dept_name AS &quot;eg_department_dept_name&quot;,
		dept_details as &quot;eg_department_dept_details&quot;
		FROM eg_department WHERE dept_code ='@1'">		
		<parameter dataSource="department_code" isRequired="true"/>
	</sqlTemplate>


	<sqlTemplate id="supplierCodeVerification" 
		template="SELECT name  FROM supplier  WHERE code ='@1'">		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate>

	
<sqlTemplate id="accCodeDescriptionNew" 
		template="SELECT id||'^'||name  FROM chartOfAccounts WHERE glCode='@1'">		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="getGenLedId" 
		template="SELECT id as &quot;glid&quot; FROM generalLedger WHERE glCode like '@1%'">		
		<parameter dataSource="chartOfAccounts_glCode" isRequired="true"/>
	</sqlTemplate>

		
	<sqlTemplate id="getChartOfAcctHead" 
		   template=" SELECT ag.name as &quot;chartOfAccounts_group&quot;, pcoa.name as &quot;chartOfAccounts_majorHead&quot;, coa.id as &quot;chartOfAccounts_ID&quot;,  coa.glcode as &quot;chartOfAccounts_glCode&quot;, coa.name as &quot;chartOfAccounts_name&quot;,coa.description as &quot;chartOfAccounts_description&quot;,  coa.parentId as &quot;chartOfAccounts_parentID&quot;,coa.purposeid as &quot;chartOfAccounts_purpose&quot;, DECODE(coa.purposeid,NULL,'',(SELECT  accCode_pur.NAME FROM EGF_ACCOUNTCODE_PURPOSE accCode_pur WHERE coa.purposeid=accCode_pur.ID)) AS &quot;purposeName&quot;,coa.type as &quot;chartOfAccounts_type&quot;,coa.classification as &quot;chartOfAccounts_classification&quot;,decode(coa.functionreqd,'1', 'Yes', 'No') as   &quot;chartOfAccounts_funcReqd&quot;,decode(coa.budgetcheckreq,'1', 'Yes', 'No') as   &quot;budgetCheckReqd&quot;,'' as &quot;chartOfAccounts_accType&quot;, 0 as &quot;chartOfAccounts_accTypeId&quot; FROM accountgroup ag, chartofaccounts pcoa, chartofaccounts coa  where coa.parentid = pcoa.id and coa.glcode = '@1' {and coa.classification='@3'} and coa.id not in(select glcodeid from chartofaccountdetail) 
		      union
		      SELECT ag.name as &quot;chartOfAccounts_group&quot;, pcoa.name as &quot;chartOfAccounts_majorHead&quot;, coa.id as &quot;chartOfAccounts_ID&quot;,  coa.glcode as &quot;chartOfAccounts_glCode&quot;, coa.name as &quot;chartOfAccounts_name&quot;,coa.description as &quot;chartOfAccounts_description&quot;,  coa.isActiveForPosting as &quot;isActiveForPosting&quot;, coa.parentId as &quot;chartOfAccounts_parentID&quot;,coa.purposeid as &quot;chartOfAccounts_purpose&quot;, DECODE(coa.purposeid,NULL,'',(SELECT  accCode_pur.NAME FROM EGF_ACCOUNTCODE_PURPOSE accCode_pur WHERE coa.purposeid=accCode_pur.ID)) AS &quot;purposeName&quot;,coa.type as &quot;chartOfAccounts_type&quot;,coa.classification as &quot;chartOfAccounts_classification&quot;,decode(coa.functionreqd,'1', 'Yes', 'No') as   &quot;chartOfAccounts_funcReqd&quot;,decode(coa.budgetcheckreq,'1', 'Yes', 'No') as   &quot;budgetCheckReqd&quot;,adt.name as &quot;chartOfAccounts_accType&quot;,adt.id as &quot;chartOfAccounts_accTypeId&quot; FROM accountgroup ag, chartofaccounts pcoa, chartofaccounts coa, chartofaccountdetail cad , accountdetailtype adt  where coa.parentid = pcoa.id and cad.glcodeid=coa.id and cad.detailtypeid=adt.id and coa.glcode = '@2'">  
		   
		   <parameter dataSource="chartOfAccounts_glCode" isRequired="true"/>
		   <parameter dataSource="chartOfAccounts_glCode" isRequired="true"/>
		   <parameter dataSource="classification" isRequired="false"/>
	 </sqlTemplate>
 
	<sqlTemplate id="getPurposeId"
	    template="select id,name from egf_accountcode_purpose">
	    </sqlTemplate>
		
		<sqlTemplate id="acct_type"
	    template="select id,name from accountdetailtype">
	    </sqlTemplate>
	<sqlTemplate id="getChartOfAcctGrid" 
		template="SELECT adt.id as &quot;accountdetailtype_ID&quot;, 
					adt.name as &quot;accountdetailtype_name&quot;,
					adt.description as &quot;accountdetailtype_description&quot;,
					adt.tableName as &quot;accountdetailtype_tableName&quot;, 
					'Yes' as &quot;req&quot;
				FROM accountdetailtype adt, chartofaccountdetail cad
				WHERE adt.id = cad.detailtypeid
				AND cad.glcodeid in (select id from chartofaccounts where glcode = '@1')
				UNION
				SELECT adt.id as &quot;accountdetailtype_ID&quot;, 
					adt.name as &quot;accountdetailtype_name&quot;,
					adt.description as &quot;accountdetailtype_description&quot;, 
					adt.tablename as &quot;accountdetailtype_tableName&quot;,
					'No' as &quot;req&quot;, 0 as &quot;ctrlCode&quot;,
					' ' as &quot;chartOfAccounts_realCode&quot;, 
					0 as &quot;dv&quot; 
				FROM accountdetailtype adt
				WHERE  adt.id not in (SELECT cad.detailtypeid FROM chartofaccountdetail cad
									WHERE glcodeid in (SELECT id from chartofaccounts WHERE glcode = '@2'))">		
		<parameter dataSource="chartOfAccounts_glCode" isRequired="true"/>
		<parameter dataSource="chartOfAccounts_glCode" isRequired="true"/>
	</sqlTemplate>



	
	<sqlTemplate id="getGLCodeID"
		template="SELECT  id AS &quot;chartOfAccountDetail_glCodeID&quot;  FROM  chartofaccounts WHERE   glcode='@1')">
		<parameter dataSource="chartOfAccounts_glCode" isRequired="true" />
	</sqlTemplate>
	
	<sqlTemplate id="getAcctDtlsAdd"
		template="SELECT ID as &quot;accountdetailtype_ID&quot;, 
			 name as &quot;accountdetailtype_name&quot;, 
	   		description as &quot;accountdetailtype_description&quot;, 
			tablename as &quot;accountdetailtype_tableName&quot;,
			' ' as &quot;required&quot;, ' ' as &quot;chartOfAccounts_realCode&quot;,
			' ' as &quot;dv&quot;
			FROM accountdetailtype">
	</sqlTemplate>
	
	<sqlTemplate id="regionCodeAndDescription"
		template="SELECT id AS &quot;divId &quot;, Code AS &quot;divCode &quot;, name AS &quot;divDes&quot; FROM organizationstructure WHERE  description='Region'">
	</sqlTemplate>
	<sqlTemplate id="wardCodeAndDescription"
		template="SELECT id AS &quot;divId &quot; ,code AS &quot;divCode&quot;, name AS &quot;divDes&quot; FROM organizationstructure WHERE  description='Ward'">
	</sqlTemplate>
	<sqlTemplate id="bankNameAndBranchName"
		template="SELECT  bb.id AS &quot;divId &quot;, b.name||bb.branchname  AS  &quot;divCode&quot;, a.accountnumber AS &quot;divDes&quot; FROM bank b,bankbranch bb,@1 a WHERE  a.branchID=bb.ID AND  bb.bankID=b.ID AND b.isActive = 1 AND bb.isActive = 1">
		<parameter dataSource="tableNameForCode" isRequired="true" />
	</sqlTemplate>


<sqlTemplate id="getChartOfAccountsData" 
	template="SELECT '' AS &quot;type&quot;, ID AS &quot;chartOfAccounts_ID&quot;, name AS &quot;chartOfAccounts_name&quot;, parentId AS &quot;chartOfAccounts_parentId&quot;, glcode AS &quot;chartOfAccounts_glCode&quot; FROM  chartOfAccounts order by id asc">
</sqlTemplate>

	<sqlTemplate id="accountHeadID" 
		template="select id as &quot;accountHead_id&quot; from chartOfAccounts where glCode = '@1' ORDER BY glCode">		
		<parameter dataSource="keyValue" isRequired="true"/>
	</sqlTemplate> 

<sqlTemplate id="sqlCashInHand"
		template="SELECT ca.id as &quot;billCollector_cashInHand&quot;, ca.glCode AS &quot;CA_cashAccountCode&quot; from chartOfAccounts ca, organizationStructure os 
			WHERE os.cashInHand = ca.id and os.id=@1">
		<parameter dataSource="region_id" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="sqlChequeInHand"
		template="SELECT ca.id &quot;billCollector_chequeInHand&quot;, ca.glCode AS &quot;CA_chequeAccountCode&quot; from chartOfAccounts ca, organizationStructure os 
			WHERE os.chequeInHand = ca.id and os.id=@1">
		<parameter dataSource="region_id" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="assetTypeData" 
		template="SELECT id as &quot;assetType_ID&quot;, code as &quot;assetType_code&quot;,name as &quot;assetType_name&quot;,lastModified as &quot;assetType_lastModified&quot; FROM assetType">
	</sqlTemplate>
	<sqlTemplate id="assetTypeMod" 
		template="SELECT id AS &quot;assetType_ID&quot;, lastModified AS &quot;assetType_lastModified&quot;,code AS &quot;assetType_code&quot;,name AS &quot;assetType_name&quot;,description AS &quot;assetType_description&quot;, isActive AS &quot;assetType_isActive&quot; FROM assetType WHERE code ='@1'">		
		<parameter dataSource="assetType_code" isRequired="true"/>
	</sqlTemplate>
<sqlTemplate id="assetCategoryList" 
	template="SELECT id, name from chartofaccounts where glcode like '41' || '@1' || '%' AND purposeid = 11">
	<parameter dataSource="assetType" isRequired="true"/>
</sqlTemplate>

<sqlTemplate id="assetTypeList" 
	template="SELECT  substr(glcode,4,2), name FROM chartofaccounts where glcode like '41%' and classification=1">
</sqlTemplate>
	<sqlTemplate id="typeNameId" 
		template="SELECT ID  AS &quot;assetCategory_assetTypeId&quot;
			    FROM assetTtpe WHERE name='@1'">
		<parameter dataSource="typeId" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="assetCategoryData" 
		template="select  ac1.Id as &quot;assetCategory_Id&quot;,
		 	  ac1.code as &quot;assetCategory_code&quot;,
				ac1.name as &quot;assetCategory_name&quot;,
				ac2.name as &quot;assetCategory_parent&quot;,
				at1.name as &quot;assetCategory_type&quot;
				FROM assetCategory ac1,assetCategory ac2,assetType at1
				WHERE ac1.parentid = ac2.id and at1.id=ac1.assetTypeId">		
	</sqlTemplate>
	<sqlTemplate id="assetCategoryMod" 
		template="SELECT ac1.id AS &quot;assetCategory_ID&quot;,
		 ac1.lastModified AS &quot;assetCategory_lastModified&quot;,
		 ac1.code AS &quot;assetCategory_code&quot;,
		ac1.name AS &quot;assetCategory_name&quot;,
		ac1.description AS &quot;assetCategory_description&quot;,
		ac1.isActive AS &quot;assetCategory_isActive&quot;,
		ac2.id AS &quot;assetCategory_parentId&quot;,
		at1.id AS &quot;assetCategory_assetTypeId&quot; 
		FROM assetCategory ac1,assetCategory ac2,assetType at1 
		WHERE ac1.parentId=ac2.Id AND ac1.assetTypeId=at1.id AND ac1.code ='@1'">		
		<parameter dataSource="assetCategory_code" isRequired="true"/>
	</sqlTemplate>

 <sqlTemplate id="assetsData" 
 		template="SELECT id AS &quot;assets_Id&quot;,
 			code AS &quot;assets_code&quot;,
 	   		name AS &quot;assets_name&quot;,
 			description AS &quot;assets_description&quot;,
 			(SELECT id FROM chartOfAccounts WHERE name = assetCategory and glcode like '41%' ) AS &quot;assets_assetCategoryId&quot;,
 	   		assetcategory AS &quot;assets_assetCategory&quot;,
 			(SELECT substr(glCode, 4, 2) FROM chartOfAccounts WHERE name = assetType and glcode like '41%' ) AS &quot;assets_assetTypeId&quot;,
 	   		assetType AS &quot;assets_assetType&quot;,
 			dateOfCapitalization AS &quot;assets_dateOfCapitalization&quot;,
 			bookValue AS &quot;assets_bookValue&quot;,
 			location AS &quot;assets_location&quot;,
 			depreciationRate AS &quot;assets_depreciationRate&quot;,
 			currentValue AS &quot;assets_currentValue&quot;,
 			isRevised AS &quot;assets_isRevised&quot;,
 	   		revisedValue AS &quot;assets_revisedValue&quot;,
 	   		revisedDate AS &quot;assets_revisedDate&quot;,
 			lastModified AS &quot;assets_lastModified&quot;
 			FROM  assets 
 			WHERE code='@1'">
 		<parameter dataSource="assets_codeToSearch" isRequired="true" />
</sqlTemplate>
	<sqlTemplate id="assetsModData" 
		template="SELECT id AS &quot;assets_ID&quot;,
			code AS &quot;assets_code&quot;,
	   		name AS &quot;assets_name&quot;,
			bookValue AS &quot;assets_bookValue&quot;,
			description AS &quot;assets_description&quot;,
			dateOfCapitalization AS &quot;assets_dateOfCapitalization&quot;,
			location AS &quot;assets_location&quot;,
			depreciationRate AS &quot;assets_depreciationRate&quot;,
			currentValue AS &quot;assets_currentValue&quot;,			
	   		isRevised AS &quot;assets_isRevised&quot;,
			isActive AS &quot;assets_isActive&quot;,
	   		revisedValue AS &quot;assets_revisedValue&quot;,
	   		revisedDate AS &quot;assets_revisedDate&quot;,
			lastModified AS &quot;assets_lastModified&quot;,
			assetcategory as &quot;assets_assetCategory&quot;,
			assettype as &quot;assets_assetType&quot;,
			glcodeid as  &quot;assets_glCodeId&quot;	
			FROM  assets 
			WHERE code='@1'">
		<parameter dataSource="assets_codeToSearch" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="assetsSearchData"
		template="select ast.code AS &quot;assets_code&quot;,
	  		 ast.name AS &quot;assets_name&quot;,
	  		 ast.bookValue AS &quot;assets_bookValue&quot;,
	   		ast.revisedValue AS &quot;assets_revisedValue&quot;,
	   		ast.revisedDate AS &quot;assets_revisedDate&quot;,
	  		astCat.id AS &quot;assets_assetCategoryId&quot;,
			astType.id AS &quot;assets_assetTypeId&quot;
	   		FROM assets ast, assetCategory astCat, assetType astType WHERE astCat.id=ast.assetCategoryId AND astType.id=ast.assetTypeId 
			 {AND ast.assetTypeId='@1' AND ast.assetCategoryId='@2'}
	  	 	  {AND ast.revisedValue between '@3' and '@4'}">
		<parameter dataSource="assets_assetType" isRequired="false" />
		<parameter dataSource="assets_assetCategory" isRequired="false" />
		<parameter dataSource="assets_assetsFrom" isRequired="false" />
		<parameter dataSource="assets_assetsTo"  isRequired="false" />
	</sqlTemplate>

	<sqlTemplate id="getRelationId" 
		template="SELECT  relationTypeId AS &quot;relationId&quot;  from relation where id=@1">
			<parameter dataSource="relationId" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="orderedTo" 
		template="SELECT  id ,name  FROM relation where isactive=1 order by name">
	</sqlTemplate>
	
	<sqlTemplate id="levelOfWork"
			template="SELECT  id_bndry_type , name FROM eg_boundary_type  WHERE ID_HEIRARCHY_TYPE =(SELECT ID_HEIRARCHY_TYPE FROM eg_heirarchy_type WHERE type_name ='ADMINISTRATION') ORDER BY name">
	</sqlTemplate>
	
	<sqlTemplate id="selectWards"
		template="select a.ID_BNDRY,a.NAME from eg_boundary a,eg_boundary_type b where a.ID_BNDRY_TYPE=b.ID_BNDRY_TYPE and (b.name='ward' or b.name='Ward')">
	</sqlTemplate>
	<sqlTemplate id="fundingFrom"
		template="SELECT id,name FROM scheme ">
	</sqlTemplate>
	<sqlTemplate id="selectTds"
		template="SELECT id, type FROM tds a WHERE effectivefrom >= (SELECT max(effectivefrom) FROM tds WHERE type = a.type) ORDER BY type ">
	</sqlTemplate>
	<sqlTemplate id="ordersSearch"
			template="SELECT wd.code AS &quot;worksDetail_code&quot;,wd.orderDate AS &quot;worksDetail_orderDate&quot;,
			wd.totalValue AS &quot;worksDetail_totalValue&quot;,wd.paidAmount AS &quot;worksDetail_paidAmount&quot;,
			rel.name AS &quot;worksDetail_orderedTo&quot; FROM worksDetail wd,relation rel   WHERE rel.id=wd.relationId {AND orderDate &gt;= '@1'}  {AND orderDate &lt;='@2'} 
			{ AND code &gt;= '@3'} {AND code &lt;='@4'} { AND totalValue &gt;= '@5'} {AND totalValue &lt;='@6'}">
		<parameter dataSource="orderDateFrom" isRequired="false"/>
		<parameter dataSource="orderDateTo" isRequired="false"/>
		<parameter dataSource="orderNumberFrom" isRequired="false"/>
		<parameter dataSource="orderNumberTo" isRequired="false"/>
		<parameter dataSource="orderAmountFrom" isRequired="false"/>
		<parameter dataSource="orderAmountTo" isRequired="false"/>
	</sqlTemplate>

	<sqlTemplate id="tdsData" 
		template="SELECT id AS &quot;tds_ID&quot;,type AS &quot;tds_type&quot;, rate AS &quot;tds_rate&quot;, effectivefrom AS &quot;tds_effectiveFrom&quot; from tds ORDER BY type">		
	</sqlTemplate>

	<sqlTemplate id="tdsModData" 
		template="SELECT t.id as &quot;tds_ID&quot;, t.lastModified as &quot;tds_lastModified&quot;, t.type as &quot;tds_type&quot;,
			t.rate as &quot;tds_rate&quot;,t.effectiveFrom as &quot;tds_effectiveFrom&quot;, glcode as &quot;tds_glCode&quot;,t.isactive as &quot;tds_isActive&quot;,t.glcodeid as &quot;tds_glCodeId&quot;
 				FROM tds t,chartofaccounts c where t.glcodeid=c.id and t.id=@1	">
		<parameter dataSource="tds_ID" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="checkForModify" 
		template="SELECT count(effectiveFrom) AS  &quot;count&quot;  from tds where effectiveFrom &gt;sysdate and type='@1'">
			<parameter dataSource="tds_type" isRequired="true"/>		
	</sqlTemplate>

	<sqlTemplate id="selectRelationType" 
		template="SELECT  id ,name  FROM relationType">
	</sqlTemplate>
<!-- added by iliyaraja  -->
	<sqlTemplate id="relationCodeId"	
			template="SELECT rel.ID as &quot;relation_ID&quot;,rel.code as &quot;relation_codeToSearch&quot;
			FROM  relation rel WHERE rel.code='@1' ">
			<parameter dataSource="relation_codeDetail" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="relationData" 
			template="SELECT rel.ID as &quot;relation_ID&quot;, rel.name as &quot;relation_name&quot;, rel.code as &quot;relation_codeToSearch&quot;, 
				rel.mobile as &quot;relation_mobile&quot;, rel.city as &quot;relation_city&quot;, rel.address1 as &quot;relation_address1&quot;, 
				rel.address2 as &quot;relation_address2&quot;, rel.fax as &quot;relation_fax&quot;, rel.email as &quot;relation_email&quot;,
				decode(rel.partytypeid,null,'',(select code from eg_partytype where id=rel.partytypeid)) as &quot;relation_partyTypeId&quot;,
				decode(rel.subtypeid,null,'',(select code from eg_partytype where id=rel.subtypeid)) as &quot;relation_subTypeId&quot;,
				 rel.Pin as &quot;relation_pin&quot;, rel.phone as &quot;relation_phone&quot;, rel.contactPerson as &quot;relation_contactPerson&quot;,
				 rel.narration as &quot;relation_narration&quot;, rel.isActive as &quot;relation_isActive&quot;, rel.lastModified as 
				&quot;relation_lastModified&quot;,relType.name AS &quot;relation_relationTypeId&quot;, t.type AS &quot;relation_tdsId&quot;,rel.panno as &quot;relation_panno&quot;,rel.tinno as &quot;relation_tinno&quot;, 
				decode(rel.partytypeid,null,'',(select code from eg_partytype where id=rel.partytypeid)) AS &quot;relation_partyTypeId&quot;, decode(rel.subtypeid,null,'',(select code from eg_partytype where id=rel.subtypeid)) AS &quot;relation_subTypeId&quot;  ,
				rel.bankName as &quot;relation_bankName&quot;,rel.bankAccount as &quot;relation_bankAccount&quot;,rel.ifsccode as &quot;relation_ifscCode&quot;
				  FROM relation rel left join tds t on rel.tdsId=t.id,relationType relType  WHERE  relType.id=rel.relationTypeId AND rel.id =@1">
			<parameter dataSource="relationcodeToSearch" isRequired="true" />
		</sqlTemplate>
		<sqlTemplate id="relationModData" 
			template="SELECT rel.ID as &quot;relation_ID&quot;, rel.name as &quot;relation_name&quot;, rel.code as &quot;relation_code&quot;, 
				rel.mobile as &quot;relation_mobile&quot;, rel.city as &quot;relation_city&quot;, rel.address1 as &quot;relation_address1&quot;, 
				rel.address2 as &quot;relation_address2&quot;, rel.fax as &quot;relation_fax&quot;, rel.email as &quot;relation_email&quot;,
				 rel.Pin as &quot;relation_pin&quot;, rel.phone as &quot;relation_phone&quot;, rel.contactPerson as &quot;relation_contactPerson&quot;,
				 rel.narration as &quot;relation_narration&quot;, rel.isActive as &quot;relation_isActive&quot;, rel.lastModified as 
				&quot;relation_lastModified&quot;,relType.id AS &quot;relation_relationTypeId&quot;, t.id AS &quot;relation_tdsId&quot;,rel.panno as &quot;relation_panno&quot;,rel.tinno as &quot;relation_tinno&quot;,
				rel.bankName as &quot;relation_bankName&quot;,rel.bankAccount as &quot;relation_bankAccount&quot;,
				rel.partytypeid AS &quot;relation_partyTypeId&quot;, rel.subtypeid AS &quot;relation_subTypeId&quot;,rel.ifsccode as &quot;relation_ifscCode&quot;
				FROM relation rel left join tds t on rel.tdsId=t.id,relationType relType  WHERE  relType.id=rel.relationTypeId AND rel.id = '@1'">
			<parameter dataSource="relationcodeToSearch" isRequired="true" />
	</sqlTemplate>

<sqlTemplate id="finYearIdAndName"
		template="SELECT ID as &quot;divId&quot;, id as &quot;divCode&quot;, financialyear as &quot;divDes&quot; FROM @1 WHERE isactive=1 order by id">
		<parameter dataSource="tableNameForCode" isRequired="true" />
	</sqlTemplate>

	
         <sqlTemplate id="sqlBankReconciliation" 
		template="SELECT rec.id as &quot;ID&quot;,
			rec.CHEQUEDATE as &quot;transactionDate&quot;,
			decode(rec.chequeNumber, null, 'NA', rec.chequeNumber)  as &quot;chequeNumber&quot;,
			decode(rec.transactionType, 'Dr', rec.amount) as &quot;debit&quot;,
			decode(rec.transactionType, 'Cr', rec.amount) as &quot;credit&quot;
			from bankReconciliation rec, bankAccount bank
			WHERE rec.isReconciled = 0 
			AND rec.isReversed = 0 
			AND rec.bankAccountId = bank.id
			AND bank.id = @1			
			ORDER BY rec.CHEQUEDATE DESC">
		<parameter dataSource="qAccountNumberId" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="sqlReconciliationView" 
			template="SELECT rec.id as &quot;ID&quot;,
				rec.CHEQUEDATE as &quot;transactionDate&quot;,
				decode(rec.chequeNumber, null, 'Direct', rec.chequeNumber) as &quot;chequeNumber&quot;,
				decode(rec.transactionType, 'Dr', rec.amount) as &quot;debit&quot;,
				decode(rec.transactionType, 'Cr', rec.amount) as &quot;credit&quot;,rec.type as &quot;type&quot;
				from bankReconciliation rec, bankAccount bank
				WHERE rec.isReconciled = 0 
				AND rec.isReversed = 0 
				AND	rec.bankAccountId = bank.id
				AND bank.id = @1
				{ AND CHEQUEDATE &lt;= to_date('@2' || ' 23:59:59','DD-MON-YYYY HH24:MI:SS') }
				ORDER BY rec.CHEQUEDATE DESC">
			<parameter dataSource="qAccountNumberId" isRequired="true"/>
			<parameter dataSource="qReconcileDate" isRequired="false"/>
	</sqlTemplate>

	<sqlTemplate id="bankAccCode"
			template=" SELECT c.glcode as &quot;glCode&quot; from chartofaccounts c,bankaccount b where b.glcodeid=c.id AND b.id=@1 ">
		<parameter dataSource="qAccountNumberId" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="sqlUnclearedDrCr"
			template="SELECT (sum(decode(rec.transactionType, 'Cr',decode(rec.type, 'C', rec.amount,0),0)))+
					(sum(decode(rec.transactionType, 'Cr',decode(rec.type, 'O', rec.amount,0),0)))+
					(sum(decode(rec.transactionType, 'Cr',decode(rec.type, 'D', rec.amount,0),0)))   AS &quot;brs_creditTotal&quot;,
					(sum(decode(rec.transactionType, 'Cr',decode(rec.type, 'R', rec.amount,0),0))) AS &quot;brs_creditTotalOthers&quot;,
					 (sum(decode(rec.transactionType, 'Dr',decode(rec.type, 'C', rec.amount,0),0)) )+
					(sum(decode(rec.transactionType, 'Dr',decode(rec.type, 'O', rec.amount,0),0)))+
					(sum(decode(rec.transactionType, 'Dr',decode(rec.type, 'D', rec.amount,0),0)))  AS &quot;brs_debitTotal&quot;,
					(sum(decode(rec.transactionType, 'Dr',decode(rec.type, 'P', rec.amount,0),0))) AS &quot;brs_debitTotalOthers&quot;
					FROM bankReconciliation rec, bankAccount bank WHERE rec.bankAccountId = bank.id AND bank.id = @1 AND rec.isReconciled = 0 AND rec.isReversed = 0 
					{AND (rec.reconciliationDate &gt; to_date('@2'  || ' 23:59:59','DD-MON-YYYY HH24:MI:SS') }
					{OR (rec.isReconciled = 0 AND rec.transactionDate &lt;= to_date('@3'  || ' 23:59:59','DD-MON-YYYY HH24:MI:SS')))}">
		<parameter dataSource="qAccountNumberId" isRequired="true"/>
		<parameter dataSource="qReconcileDate" isRequired="false"/>
		<parameter dataSource="qReconcileDate1" isRequired="false"/>
	</sqlTemplate>	

	<sqlTemplate id="bankAndBranchList" 
		template="Select branch.ID as &quot;bankBranch_ID&quot;, bank.name||branch.branchName as &quot;bankAndBranch&quot; FROM bank bank , bankBranch branch WHERE branch.bankId=bank.ID AND bank.isActive=1 AND branch.isActive = 1 {and branch.id in(select branchid from bankaccount where fundid=@1)} order by &quot;bankAndBranch&quot;">		
		<parameter dataSource="fundForBank"  isRequired="false"/>
	</sqlTemplate>
	<sqlTemplate id="reconciledTransactions" 
		template="SELECT rec.id as &quot;ID&quot;,
			rec.transactionDate as &quot;transactionDate&quot;,
			decode(rec.chequeNumber, null, ' ', rec.chequeNumber)  as &quot;chequeNumber&quot;,
			decode(rec.transactionType, 'Dr', rec.amount) as &quot;debit&quot;,
			decode(rec.transactionType, 'Cr', rec.amount) as &quot;credit&quot;,
			rec.reconciliationDate as &quot;clearanceDate&quot;
			from bankReconciliation rec, bankAccount bank
			WHERE rec.isReconciled = 1
			AND	rec.bankAccountId = bank.id
			AND bank.id = @1 
			{ AND rec.transactionDate &gt;= '@2' } 
			{ AND rec.transactionDate &lt;= '@3' } 
			ORDER BY rec.transactionDate DESC">
		<parameter dataSource="bankAccount_id" isRequired="true"/>		
		<parameter dataSource="startDate" isRequired="false"/>
		<parameter dataSource="endDate" isRequired="false"/>		
	</sqlTemplate>


	<sqlTemplate id="budgetEnquiry" 
		template="select b.id as 
&quot;budget_id&quot;,
a.id as &quot;chartOfAccounts_id&quot;,glcode as &quot;chartOfAccounts_code&quot;,a.name as &quot;chartOfAccounts_name&quot; ,amount
		as &quot;budget_Amount&quot;,revisedamount as &quot;budget_revisedAmount&quot; ,
c.name as &quot;fund_name&quot;,d.name as &quot;department_name&quot;,
c.id as &quot;fund_id&quot;,d.id as &quot;department_id&quot;
from chartOfAccounts a,budget b,fund c,department d  where a.id = b.glcodeid and c.id=b.fundid and d.id=b.departmentid and financialyearid=@1  and c.id=@2 and d.id=@3">		
		<parameter dataSource="finYearID" isRequired="true"/>
		<parameter dataSource="fundID" isRequired="true"/>
		<parameter dataSource="deptID" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="getFundName"
			template="SELECT name AS &quot;fund_name &quot;  FROM fund where id=@1">
			<parameter dataSource="fundID" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="getDeptName"
			template="SELECT dept_name AS &quot;department_name &quot;  FROM eg_department where id_dept=@1">
			<parameter dataSource="deptID" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="financialYearIDandName" 
		template="select id as &quot;budget_financialYearID&quot;,financialyear as &quot;budget_financialYearName&quot;  
	from financialyear where 1=1 AND isActive=1 { and  id=@1 } order by id">		
		<parameter dataSource="finYearID" isRequired="false"/>
	</sqlTemplate> 


	<sqlTemplate id="budgetModData" 
		template="
select b.id as &quot;budget_id&quot;,a.id as &quot;chartOfAccounts_id&quot;,glcode as &quot;chartOfAccounts_code&quot;,name as &quot;chartOfAccounts_name&quot;,b.amount
		as &quot;budget_Amount&quot;,b.revisedamount as &quot;budget_revisedAmount&quot; from chartOfAccounts a,budget b where a.id=b.glcodeid and financialyearid=@1">		
	<parameter dataSource="finYearID" isRequired="true"/>
	</sqlTemplate> 


	<sqlTemplate id="budgetNewData" 
		template="
select id as &quot;chartOfAccounts_id&quot;,glcode as &quot;chartOfAccounts_code&quot;,name as &quot;chartOfAccounts_name&quot; ,0
		as &quot;budget_Amount&quot;,0 as &quot;budget_revisedAmount&quot; from chartOfAccounts a
where a.id not in (select glcodeid from budget) and isactiveforposting=1 and classification=4{and glcode like '@1'||'%'}">		
	<parameter dataSource="filter" isRequired="false"/>
	</sqlTemplate>


	<sqlTemplate id="workOrderList" 
		template="select a.id,a.name from worksdetail a,relation b where  a.relationid=b.id and a.totalvalue&gt;a.passedamount and  b.code='@1' and a.isactive=1 order by a.name">		
		<parameter dataSource="supplierCode" isRequired="true"/>
	</sqlTemplate> 

	<sqlTemplate id="workOrderData" 
		template="select to_char(orderdate,'dd-Mon-yyyy') as &quot;worksDetail_orderDate&quot;,totalvalue as
&quot;worksDetail_totalValue&quot;,type AS &quot;worksDetail_type&quot;,
passedAmount as &quot;worksDetail_totalPassedAmount&quot;,advanceamount-advanceadj as &quot;worksDetail_advanceAmount&quot;
from worksDetail where id=@1">		
		<parameter dataSource="workOrderID" isRequired="true"/>
	</sqlTemplate>
	

	<sqlTemplate id="schemeName"
		template="SELECT ID, name FROM scheme where isactive=1">
	</sqlTemplate>


	<sqlTemplate id="tdsPercent"
		template="SELECT a.rate as &quot;supplier_tds&quot; FROM tds a,relation b where a.id=b.tdsid and b.code='@1' AND b.isActive=1" >
		<parameter dataSource="supplierCode" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="contractorTdsPercent"
		template="SELECT a.rate as &quot;contractor_tds&quot; FROM tds a,relation b where a.id=b.tdsid and b.code='@1' AND b.isActive = 1">
		<parameter dataSource="supplierCode" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="maxAdvance" 
		template="select  advancepayable as &quot;worksDetail_advancePayable&quot; , advanceAmount as &quot;worksDetail_advanceAmount&quot; from worksDetail where id=@1">			
		<parameter dataSource="workOrderID" isRequired="true"/>
	</sqlTemplate> 

	<sqlTemplate id="workOrderListForPayment" 
		template="select a.id,a.name from worksdetail a,relation b where  a.isactive=1 and a.relationid=b.id  and  b.id=@1">		
		<parameter dataSource="relationId" isRequired="true"/>
	</sqlTemplate> 
	<sqlTemplate id="idAndName"
		template="SELECT ID, name FROM @1 where 1=1 AND isActive =1 {and relationtypeid=@2}">
		<parameter dataSource="tableNameForId" isRequired="true" />
		<parameter dataSource="relationTypeId" isRequired="false" />
	</sqlTemplate>
	<sqlTemplate id="depreciationData" 
		template="SELECT id as &quot;depreciation_ID&quot;, category as &quot;depreciation_category&quot;, rate as &quot;depreciation_rate&quot; FROM depreciation">		
	</sqlTemplate>
	<sqlTemplate id="depreciationModData" 
		template="SELECT id as &quot;depreciation_ID&quot;, lastModified as &quot;depreciation_lastModified&quot;, category as &quot;depreciation_category&quot;, rate as &quot;depreciation_rate&quot; FROM depreciation where id=@1">		
		<parameter dataSource="depreciation_id" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="bankAccountType" template=" SELECT  a.ID, a.name from chartofaccounts a   where   a.name like  (select '%' ||type||'%' from bank where levelnumber=4 and code='@1') ">
		<parameter dataSource="bank_code" isRequired="true"/>
	</sqlTemplate>			

	<sqlTemplate id="payChequeDetails"
	  template="SELECT vh.vouchernumber as &quot;vNumber&quot;, c.id AS &quot;chequeDetail_Id&quot;,
	  c.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;, c.chequeNumber AS &quot;chequeNumber&quot;,
	  c.chequeDate AS &quot;chequeDetail_chequeDate&quot;, c.chequeDate AS &quot;chequeDate&quot;,
	 c.receiptDate AS &quot;chequeDetail_receiptDate&quot;,c.amount AS &quot;chequeDetail_amount&quot;,
	 (SELECT name FROM  fundsource WHERE id=vh.fundsourceid) AS &quot;FundSrcName&quot;
	 FROM receiptheader rh,chequedetail c,voucherheader vh
	 WHERE rh.voucherheaderid=vh.id AND c.id=rh.chequeid AND 
	c.isdeposited=0 and (c.isreversed is null or c.isreversed=0) and c.ispaycheque=0 and
	 vh.fundid=@1 {and vh.fundsourceid=@2} and vh.status!=4 order by c.chequeDate ">
	  <parameter dataSource="fund_Id" isRequired="true"/>
	  <parameter dataSource="fSource_Id" isRequired="false"/>
      </sqlTemplate>

<!-- <sqlTemplate id="payChequeDetails1"
 	  template="SELECT vh.vouchernumber as &quot;vNumber&quot;, c.id AS &quot;chequeDetail_Id&quot;,
 	  c.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;, c.chequeNumber AS &quot;chequeNumber&quot;,
 	  c.chequeDate AS &quot;chequeDetail_chequeDate&quot;, c.chequeDate AS &quot;chequeDate&quot;,
 	 c.receiptDate AS &quot;chequeDetail_receiptDate&quot;,c.amount AS &quot;chequeDetail_amount&quot;,
 	 (SELECT name FROM eg_boundary WHERE id_bndry=e.divisionid) AS &quot;field_name&quot;
 	 FROM receiptheader rh,chequedetail c,voucherheader vh ,vouchermis e 
 	 WHERE rh.voucherheaderid=vh.id AND c.id=rh.chequeid AND  e.VOUCHERHEADERID =vh.ID AND
 	c.isdeposited=0 and (c.isreversed is null or c.isreversed=0) and c.ispaycheque=0 and
 	 vh.fundid=@1 {and e.divisionid=@2} {and e.divisionid @3} 
 	 {and c.chequeDate between '@4'} {and '@5'} and vh.status!=4  order by c.chequeDate ">
 	 
 	  <parameter dataSource="fund_Id" isRequired="true"/>
 	  <parameter dataSource="field_Id" isRequired="false"/>
 	  <parameter dataSource="field_Idnull" isRequired="false"/>
 	  <parameter dataSource="chqDateFrom" isRequired="false"/>
 	  <parameter dataSource="chqDateTo" isRequired="false"/>
      </sqlTemplate>
 -->
 
 <sqlTemplate id="payChequeDetails1"
  	  template="SELECT vh.vouchernumber as &quot;vNumber&quot;, c.id AS &quot;chequeDetail_Id&quot;,
  	  c.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;, c.chequeNumber AS &quot;chequeNumber&quot;,
  	  c.chequeDate AS &quot;chequeDetail_chequeDate&quot;, c.chequeDate AS &quot;chequeDate&quot;,
  	 c.receiptDate AS &quot;chequeDetail_receiptDate&quot;,c.amount AS &quot;chequeDetail_amount&quot;,
  	 (SELECT name FROM eg_boundary WHERE id_bndry=e.divisionid) AS &quot;field_name&quot;,vh.fiscalperiodid as &quot;fiscalPeriodId&quot;
  	 FROM receiptheader rh,chequedetail c,voucherheader vh ,vouchermis e 
  	 WHERE rh.voucherheaderid=vh.id AND c.id=rh.chequeid AND  e.VOUCHERHEADERID =vh.ID AND
  	c.isdeposited=0 and (c.isreversed is null or c.isreversed=0) and c.ispaycheque=0 and
  	 vh.fundid=@1 {and e.divisionid=@2} {and e.divisionid @3} 
  	 {and vh.vouchernumber &gt;='@4'} { and vh.vouchernumber &lt;='@5' }
  	 {and vh.voucherdate &gt;= to_date('@6','dd/MM/yyyy')} {and vh.voucherdate &lt;= to_date('@7','dd/MM/yyyy') } 
  	 { and vh.fundsourceid=@8 } { and e.schemeid=@9} {and e.departmentid=@10} {and e.functionaryid=@11} and vh.status!=4  order by c.chequeDate ">
  	 
  	  <parameter dataSource="fund_Id" isRequired="true"/>
  	  <parameter dataSource="field_Id" isRequired="false"/>
  	  <parameter dataSource="field_Idnull" isRequired="false"/>
  	  <parameter dataSource="voucherNoFrom" isRequired="false"/>
  	  <parameter dataSource="voucherNoTo" isRequired="false"/>
  	  <parameter dataSource="voucherDateFrom" isRequired="false"/>
 	  <parameter dataSource="voucherDateTo" isRequired="false"/>
 	  <parameter dataSource="fundSourceId" isRequired="false"/>
 	  <parameter dataSource="schemeId" isRequired="false"/>
 	   <parameter dataSource="department" isRequired="false"/>
 	   <parameter dataSource="functionary" isRequired="false"/>
 	     </sqlTemplate>

<sqlTemplate  id="payCqInHand" 
		template="select glcode as &quot;chequeInHandId&quot;,a.name as &quot;chequeInHandName&quot;
		FROM chartofaccounts a,organizationStructure  b where a.id = b.chequeinhand and b.id=(select regionid from  eg_user where id_user=@1)">
		<parameter dataSource="egUser_id" isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="period"
		template="SELECT  id as &quot;id&quot;,financialyear as &quot;otherTaxDetail_period&quot; from financialyear where rownum&lt;5 and isactiveforposting = 1 and isactive=1 union select -1 as &quot;id&quot;,'old' from dual order by &quot;id&quot; desc">
	</sqlTemplate>	

<sqlTemplate id="selectFinancialYear" 
template="SELECT  distinct a.financialyear,a.financialyear as &quot;otherTaxDetail_period&quot;  FROM egf_tax_account_mapping a,egf_tax_code b WHERE a.taxcodeid=b.id AND b.code&lt;&gt;'PT' order by a.financialyear desc">
</sqlTemplate>

	<sqlTemplate id="selectFinancialYearNew" 
template="select a.id, a.financialyear from EGF_TAX_ACCOUNT_MAPPING a, egf_tax_code b where a.taxcodeid=b.id and b.code&lt;&gt;'PT' order by financialyear desc">
</sqlTemplate>

<sqlTemplate id="selectYear" 
template="select id,financialyear from egf_tax_account_mapping">
</sqlTemplate>


	<sqlTemplate id="getFinancialYearID" 
		template="select id AS  &quot;financialYear_id&quot; from financialYear where financialYear ='@1'">
			<parameter dataSource="fiscalPeriod" isRequired="true"/>			
	</sqlTemplate>
	<sqlTemplate id="propertyTaxData" 
		template="SELECT  id as &quot;propertyTaxCess_ID&quot;, lastModified as &quot;propertyTaxCess_lastModified&quot;, 
		 percentage as &quot;propertyTaxCess_percentage&quot;, accountHead as &quot;propertyTaxCess_accountHead&quot;,
		 creditGlCodeId as &quot;creditGlCodeId&quot;,debitGlCodeId as &quot;debitGlCodeId&quot;,receivablesGlCodeId as &quot;receivablesGlCodeId&quot;
		 FROM propertyTaxCess   WHERE fiscalPeriod='@1'
		 
		 union

		select  0 as &quot;propertyTaxCess_ID&quot;,
		sysdate as &quot;propertyTaxCess_lastModified&quot;,
		0 as &quot;propertyTaxCess_percentage&quot;, 
		b.name as &quot;propertyTaxCess_accountHead&quot;, a.id as &quot;creditGlCodeId&quot;,  
		b.id as &quot;debitGlCodeId&quot;, c.id as &quot;receivablesGlCodeId&quot; 
		from chartofaccounts a, chartofaccounts b,chartOfAccounts c  
		where b.glcode like '4319%' and c.glcode like '4312%' and a.glcode like '35030%' 
		and a.classification=4 and b.classification=4 
		and c.classification=4 and instr(a.name,'Cess')>0 and instr(b.name,'Cess')>0 and instr(c.name,'Cess')>0
		and a.id != b.id  and  c.id !=b.id 		
		and b.id not in(select debitGlCodeId from propertytaxcess where fiscalperiod = '@2')	
		and c.name like '%'||b.name||'%' and a.name like '%'||b.name||'%'">
		<parameter dataSource="fiscalPeriod"  isRequired="true"/>
		<parameter dataSource="fiscalPeriod"  isRequired="true"/>
	</sqlTemplate>

	<sqlTemplate id="financialYearList" 
		template="SELECT id,financialYear FROM financialYear order by financialYear desc">
	</sqlTemplate>
	<sqlTemplate id="financialYearData" 
			template="SELECT   startingDate AS &quot;financialYear_startingDate&quot;, endingDate AS &quot;financialYear_endingDate&quot;,isactiveforposting as &quot;posting&quot;,isclosed as &quot;isclosed&quot; from financialYear where id=@1">
			<parameter dataSource="financialYear_ID" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="fiscalPeriodData" 
		template="SELECT  name AS &quot;fiscalPeriod_name&quot;, startingDate AS &quot;fiscalPeriod_startingDate&quot;, endingDate AS &quot;fiscalPeriod_endingDate&quot; from fiscalPeriod where financialYearId=@1  order by &quot;fiscalPeriod_startingDate&quot; asc">
		<parameter dataSource="financialYear_ID" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="financialYearModData" 
			template="SELECT  id  &quot;financialYear_ID&quot;,lastModified AS &quot;financialYear_lastModified&quot;,financialYear AS &quot;financialYear_financialYear&quot;, startingDate AS &quot;financialYear_startingDate&quot;, endingDate AS &quot;financialYear_endingDate&quot;,isactiveforposting as &quot;posting&quot; from financialYear where id=@1">
			<parameter dataSource="financialYear_ID" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="fiscalPeriodModData" 
		template="SELECT id  &quot;fiscalPeriod_ID&quot;, name AS &quot;fiscalPeriod_name&quot;, startingDate AS &quot;fiscalPeriod_startingDate&quot;, endingDate AS &quot;fiscalPeriod_endingDate&quot; from fiscalPeriod where financialYearId=@1  order by &quot;fiscalPeriod_startingDate&quot; asc">
		<parameter dataSource="financialYear_ID" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="checkForModification" 
		template="SELECT    Id AS &quot;isUsedInPosting&quot; from GeneralLedgerDetail where detailTypeId=@1 and detailKeyid=@2">
		<parameter dataSource="detlTypeId" isRequired="true"/>
		<parameter dataSource="detlKeyId" isRequired="true"/>
	</sqlTemplate>
    	<sqlTemplate id="getStartingDate" 
		template="SELECT  max(endingdate)+1 AS &quot;startDate&quot;  from financialyear">
	</sqlTemplate>

<sqlTemplate id="fiscalPeriod"
		template="SELECT  id, name from fiscalPeriod WHERE financialYearId=@1 ORDER BY ID">
		<parameter dataSource="financialYearId" isRequired="true" />
	</sqlTemplate>

	<!--  >sqlTemplate id="periodToOpen"
		template="SELECT id, startingDate || ' to ' || endingDate AS &quot;range&quot; 
					FROM closedPeriods 
					WHERE isClosed=0 AND 
					startingDate > (SELECT decode(max(endingDate), null, '1-Jan-2000', max(endingDate)) 
					FROM closedPeriods WHERE isClosed = 1)">
	</sqlTemplate-->
	
	<sqlTemplate id="periodToOpen"
		template="SELECT id, startingDate || ' to ' || endingDate AS &quot;range&quot; 
					FROM closedPeriods 
					WHERE isClosed=1">
	</sqlTemplate>
		
	<sqlTemplate id="fiscalPeriodToOpen"
		template="SELECT fp.id AS &quot;fiscalPeriod_id&quot;,
						fp.name AS &quot;fiscalPeriod_name&quot;,
						fp.startingDate &quot;fiscalPeriod_startingDate&quot;,
						fp.endingDate AS &quot;fiscalPeriod_endingDate&quot;
						FROM fiscalPeriod fp LEFT JOIN voucherHeader vh ON fp.id = vh.fiscalPeriodId
						WHERE fp.financialYearId=@1
						AND fp.isActiveForPosting = 0
						AND vh.fiscalPeriodId IS NULL
						ORDER BY fp.startingDate">
		<parameter dataSource="financialYearId" isRequired="true" />
	</sqlTemplate>	
	<sqlTemplate id="financialYearToOpen"
		template="SELECT id, financialYear FROM financialYear WHERE isActiveForPosting = 0 AND isActive = 1 AND isClosed=0">
	</sqlTemplate>	
	<sqlTemplate id="fiscalPeriodToClose"
		template="SELECT id AS &quot;fiscalPeriod_id&quot;,
						name AS &quot;fiscalPeriod_name&quot;,
						startingDate &quot;fiscalPeriod_startingDate&quot;,
						endingDate AS &quot;fiscalPeriod_endingDate&quot;
						FROM fiscalPeriod
						WHERE financialYearId=@1
						AND isActiveForPosting = 1
						ORDER BY startingDate">
		<parameter dataSource="financialYearId" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="financialYearToClose"
		template="SELECT id, financialYear FROM financialYear WHERE isActiveForPosting = 1 AND isActive = 1 AND isClosed=0">
	</sqlTemplate>
	<sqlTemplate id="financialYearToCB"
		template="SELECT id, financialYear FROM financialYear 
				WHERE startingDate > (
					SELECT decode(max(startingDate),null,'01-Jan-2000',max(startingDate)) 
					FROM financialYear WHERE isClosed=1
				) ORDER BY startingDate">
	</sqlTemplate>


	<sqlTemplate id="depreciationRate"
			template="SELECT id AS &quot;divId &quot; ,category AS &quot;divCode&quot;, rate AS &quot;divDes&quot; FROM depreciation ">
	</sqlTemplate>

	<sqlTemplate id="getTdsRate"
			template="SELECT  id  AS &quot;divId &quot;, type AS &quot;divCode&quot;, rate AS &quot;divDes&quot;  from tds a where   effectivefrom &lt;=sysdate 
			and effectivefrom &gt;=(select max(effectivefrom) from tds where type=a.type and effectivefrom &lt;=sysdate )">
	</sqlTemplate>

<sqlTemplate id="getFinancialYrData" 
		template="SELECT   id AS &quot;fID&quot;, startingDate AS &quot;financialYear_startingDate&quot;, endingDate AS &quot;financialYear_endingDate&quot; from financialYear where financialYear='@1'">		
		<parameter dataSource="fin_year" isRequired="true"/>
	</sqlTemplate> 

	<sqlTemplate id="getTitle"
		template="SELECT name AS &quot;title&quot; FROM companyDetail">		
	</sqlTemplate>	

	<sqlTemplate id="ReportCriteria"
		template="SELECT unique adt.attributeName AS &quot;tableName&quot;, gld.detailKeyId AS &quot;detailKey&quot;
				FROM generalLedger gl, generalLedgerDetail gld, accountDetailType adt
				WHERE gl.glCode='@1'
				AND gl.id = gld.generalLedgerId
				AND adt.id = gld.detailTypeId
				ORDER BY adt.attributeName">
		<parameter dataSource="glCode" isRequired="true" />
	</sqlTemplate>	
	<sqlTemplate id="rBankAccount"
		template="SELECT id, accountNumber FROM bankAccount WHERE id in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="rOrganizationStructure"
		template="SELECT id, name FROM organizationStructure WHERE id in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="rFund"
		template="SELECT id, name FROM fund WHERE id in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="rDepartment"
		template="SELECT id_dept, dept_name FROM department WHERE id_dept in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="rFinancialYear"
		template="SELECT id, financialYear FROM financialYear WHERE id in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="rRegionCash"
		template="SELECT id, name FROM organizationStructure WHERE id in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="rRegionCheque"
		template="SELECT id, name FROM organizationStructure WHERE id in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>	
	<sqlTemplate id="rAssets"
		template="SELECT id, name FROM assets WHERE id in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="rRelation"
		template="SELECT id, name FROM relation WHERE id in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="rWorksDetail"
		template="SELECT id, name FROM worksdetail WHERE id in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="rBillCollector"
		template="SELECT id, name FROM billcollector WHERE id in (@1)">
		<parameter dataSource="ids" isRequired="true" />
	</sqlTemplate>

	<sqlTemplate id="getPageData"
		template="SELECT c.glcode as &quot;glCode&quot; from chartofaccounts c,bankaccount b where b.glcodeid=c.id {AND b.id=@1} and 1=@2">
		<parameter dataSource="bankAccountID" isRequired="false" />
		<parameter dataSource="condition" isRequired="true" />
	</sqlTemplate>

	<sqlTemplate id="getMonth"
		template="SELECT 'Jan' as &quot;divCode&quot;, 'January' as &quot;divDes&quot;, 1 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'Feb' as &quot;divCode&quot;, 'February' as &quot;divDes&quot;, 2 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'Mar' as &quot;divCode&quot;, 'March' as &quot;divDes&quot;, 3 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'Apr' as &quot;divCode&quot;, 'April' as &quot;divDes&quot;, 4 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'May' as &quot;divCode&quot;, 'May' as &quot;divDes&quot;, 5 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'Jun' as &quot;divCode&quot;, 'June' as &quot;divDes&quot;, 6 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'Jul' as &quot;divCode&quot;, 'July' as &quot;divDes&quot;, 7 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'Aug' as &quot;divCode&quot;, 'August' as &quot;divDes&quot;, 8 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'Sep' as &quot;divCode&quot;, 'September' as &quot;divDes&quot;, 9 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'Oct' as &quot;divCode&quot;, 'October' as &quot;divDes&quot;, 10 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'Nov' as &quot;divCode&quot;, 'November' as &quot;divDes&quot;, 11 as &quot;divId&quot; FROM DUAL
					UNION SELECT 'Dec' as &quot;divCode&quot;, 'December' as &quot;divDes&quot;, 12 as &quot;divId&quot; FROM DUAL
					ORDER BY &quot;divId&quot;">
	</sqlTemplate>

	<sqlTemplate id="glCodeAndDescriptionOtherTaxes"
			template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE glcode like '11%' AND isactiveforposting=1 AND classification=4 ORDER BY id">
	</sqlTemplate>
<sqlTemplate id="glCodeAndDescriptionMiscReceipts"
	template=" SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE glcode not like '11%' AND glcode like '1%' AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
</sqlTemplate>
	<sqlTemplate id="glCodeAndDescriptionDirectPayment"
		template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE glcode not like '211%' AND glcode not like '212%' AND glcode like '2%' and glcode not in ('2131','2141','2142') AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
</sqlTemplate>
<sqlTemplate id="glCodeAndDescriptionGeneralJV"
	template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE (glcode not like '47%' OR glcode = '4712')
						AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
</sqlTemplate>
<sqlTemplate id="glCodeAndDescriptionSupplierJV"
	template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE (glcode like '232%' OR glcode like '371%'OR glcode like '4511') AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
</sqlTemplate>

	<sqlTemplate id="glCodeAndDescriptionContractorJVOrgWorks"
		template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE (glcode like '371%' OR glcode in ('3845', '3847', '3848', '4833') or glcode like '44%') AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
</sqlTemplate>
<sqlTemplate id="glCodeAndDescriptionContractorJVRepWorks"
	template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE (glcode like '371%' OR glcode in ('3845', '3847', '3848', '4833') or glcode between '2351' and '2359') AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
</sqlTemplate>
	<sqlTemplate id="glCodeAndDescriptionSalaryJVEarnings"
		template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE (glcode like '211%' OR glcode like '212%' OR glcode in ('4641', '4642', '4643', '2131','2141','2142') ) AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
	</sqlTemplate>

	<sqlTemplate id="glCodeAndDescriptionSalaryJVDeductions"
		template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE (glcode between '3841'AND '3844') OR glcode like '3846' OR glcode like '3849' OR glcode like '481%' AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
</sqlTemplate>
	<sqlTemplate id="cashBook"
		template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE glcode = '4711' AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
</sqlTemplate>
<sqlTemplate id="bankBook"
	template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE glcode like '47%' AND glcode not like '471%' AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
</sqlTemplate>

	<sqlTemplate id="reportOut"
		template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartofaccounts WHERE glcode not in (select glcode from chartofaccounts where glcode like '47%' AND glcode not like '471%' AND glcode != '4741') AND glcode not in (select glcode from chartofaccounts where glcode='471%') AND isactiveforposting=1 AND classification=4 ORDER BY glcode">
</sqlTemplate>

	
	<sqlTemplate id="coaWorksDetail"
		template="select id,name from worksdetail">
	</sqlTemplate>
	<sqlTemplate id="coaRelationDetail"
		template="select id,name from relation where isActive=1">
	</sqlTemplate>
	<sqlTemplate id="coaAssetsDetail"
		template="select id,name from assets">

	</sqlTemplate>
		<sqlTemplate id="screenList"
		template="select id,name from screens">
	</sqlTemplate>

	<sqlTemplate id="filterServiceList"
		template="select id,name from filterservices order by name">
	</sqlTemplate>
	
	<sqlTemplate id="loadMajorHeads"
			template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;  FROM chartofaccounts WHERE
					  classification=1  and type='@1' order by glcode">
			<parameter dataSource="type" isRequired="true" />
	</sqlTemplate>

	<sqlTemplate id="loadMinorHeads"
		template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;  FROM chartofaccounts WHERE
				  classification=2 and glcode like @1||'%' order by glcode">
		<parameter dataSource="majorCode" isRequired="true" />
	</sqlTemplate>

	<sqlTemplate id="loadGLCodes"
			template="SELECT  ID as &quot;divId&quot;,glCode as &quot;divCode&quot;  FROM chartofaccounts WHERE
					classification=4 {and    glcode like '@1'||'%'} {and    type like '@2'||'%'} order by glcode">
			<parameter dataSource="minorCode" isRequired="false" />
			<parameter dataSource="type" isRequired="false" />
	</sqlTemplate>

	<sqlTemplate id="loadServiceData"
		template="SELECT  b.glCodeid,a.glcode   FROM chartofaccounts a,codeservicemap b WHERE
				a.id=b.glcodeid and serviceid=@1 order by glcode">
		<parameter dataSource="typeOfCode" isRequired="true" />
	</sqlTemplate>
<sqlTemplate id="mappedCodes" template="SELECT a.glCode as &quot;divCode&quot;, a.name as &quot;divDes&quot;, a.ID as &quot;divId&quot;, fuct.name as &quot;divFunDes&quot; FROM chartofaccounts a codeservicemap b where a.id=b.glcodeid and b.serviceid=@1 order by a.glCode">
	  <parameter dataSource="filterServiceID" isRequired="true" /> 
	  </sqlTemplate>
	<sqlTemplate id="mappedCodesAll" 
	  	template="SELECT a.glCode as &quot;divCode&quot;, a.name as &quot;divDes&quot;, a.ID as &quot;divId&quot;, fuct.name as &quot;divFunDes&quot; FROM chartofaccounts a 
	  	where a.isactiveforposting=1 AND classification=4 order by a.glCode">
	</sqlTemplate>  

	<sqlTemplate id="mappedCodes1"
		template="SELECT a.glCode as &quot;divCode&quot;, a.name as &quot;divDes&quot;, a.ID as &quot;divId&quot; FROM chartofaccounts a  where a.purposeid=@1 order by a.glCode">
		<parameter dataSource="cashCode" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="mappedCodes2"
			template="SELECT a.glCode, a.glcode||'--'||a.name ,a.id FROM CHARTOFACCOUNTS a,EG_BOUNDARY b WHERE id=(SELECT chequeinhand FROM CODEMAPPING WHERE EG_BOUNDARYID=@1 )  AND b.ID_BNDRY_TYPE=@2 GROUP BY a.glCode,a.name,a.id HAVING COUNT(ID_BNDRY_TYPE )=1  ">
			<parameter dataSource="boundaryLevelId" isRequired="true" />
			<parameter dataSource="boundaryTypeId" isRequired="true" />
	</sqlTemplate>

	<sqlTemplate  id="jvsal_Period" 
		template="select id,name from fiscalperiod where isactiveforposting=1">
	</sqlTemplate>

	<sqlTemplate id="getAccName"
			template="SELECT name as &quot;accName&quot; FROM chartOfAccounts WHERE glCode='@1'">
			<parameter dataSource="glCode" isRequired="true" />			
	</sqlTemplate>
	

			<sqlTemplate id="getMiscDetails"
					template="select vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
					vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,
					 decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) AS &quot;fundSource_name&quot;,vh.fundSourceid AS &quot;fundSourceId&quot;,f.id AS &quot;fund_name&quot;,
					rh.counterId AS &quot;billCollector_name&quot;,
					cd.chequeDate AS &quot;chequeDetail_chequeDate&quot;,cd.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,
					vh.description AS &quot;voucherHeader_narration&quot;,rh.modeOfcollection AS &quot;modeOfCollection&quot;,
					vd.glcode AS &quot;glCode&quot;,rh.wardId AS &quot;billCollectorDetail_wardId&quot;,
					decode(rh.chequeid,null,cashamount,cd.amount) AS &quot;chequeDetail_passedAmount&quot;,vh.id as &quot;voucherHeader_id&quot;, 
					CONCAT(CONCAT(rh.bankId, '-'),rh.bankBranchid)   as &quot;bank_id&quot;,rh.BANKACCOUNTNUMBERID as &quot;bankAccount_accountNumber&quot; from voucherheader vh ,voucherDetail vd, fund f,chartofaccounts coa,
					chequeDetail cd right join receiptHeader rh on cd.id=rh.chequeId  and cd.isreversed!=1
					where f.id=vh.fundid and  vh.cgn='@1'
					and rh.voucherheaderId=vh.id and  vd.debitAmount!=0 and
					vh.id=vd.voucherHeaderId and  
					coa.glcode=vd.glcode and coa.purposeid in(select id from  egf_accountcode_purpose 
					where (name='Cash In Hand'  or name ='Cheque In Hand'))
					union
					select vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
					vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,
					 decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) AS &quot;fundSource_name&quot;,vh.fundsourceid AS &quot;fundSourceId&quot;,f.id AS &quot;fund_name&quot;,
					rh.counterId AS &quot;billCollector_name&quot;,
					cd.chequeDate AS &quot;chequeDetail_chequeDate&quot;,cd.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,
					vh.description AS &quot;voucherHeader_narration&quot;,rh.modeOfcollection AS &quot;modeOfCollection&quot;,
					vd.glcode AS &quot;glCode&quot;,rh.wardId AS &quot;billCollectorDetail_wardId&quot;,
					decode(rh.chequeid,null,cashamount,cd.amount) AS &quot;chequeDetail_passedAmount&quot;,vh.id as &quot;voucherHeader_id&quot;,
					CONCAT(CONCAT(rh.bankId, '-'),rh.bankBranchid)   as &quot;bank_id&quot;,rh.BANKACCOUNTNUMBERID as &quot;bankAccount_accountNumber&quot; from voucherheader vh ,voucherDetail vd, fund f,chartofaccounts coa,
					chequeDetail cd right join receiptHeader rh on cd.id=rh.chequeId and cd.isreversed!=1
					where f.id=vh.fundid and  vh.cgn='@2'
					and rh.voucherheaderId=vh.originalvcid and  vd.debitAmount!=0 and
					vh.originalvcid=vd.voucherHeaderId and  vh.status=2 AND
					coa.glcode=vd.glcode and coa.purposeid in(select id from  egf_accountcode_purpose 
					where (name='Cash In Hand'  or name ='Cheque In Hand'))">
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
	

		<sqlTemplate id="getMiscDetailsNew"
				template="select MIS.divisionid AS &quot;field_name&quot;,vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,vh.voucherDate
					AS &quot;voucherHeader_voucherDate&quot;,vh.fundSourceid AS &quot;fundSource_name&quot;,f.id AS &quot;fund_name&quot;,rh.counterId AS &quot;billCollector_name&quot;,
					cd.chequeDate AS &quot;chequeDetail_chequeDate&quot;,cd.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,
					vh.description AS &quot;voucherHeader_narration&quot;,vh.id as &quot;voucherHeader_id&quot;,rh.modeOfcollection AS &quot;modeOfCollection&quot;,vd.glcode AS &quot;glCode&quot;,
					rh.wardId AS &quot;billCollectorDetail_wardId&quot;,      decode(rh.chequeid,null,cashamount,cd.amount) AS
					&quot;chequeDetail_passedAmount&quot;,'' as &quot;bank_id&quot;,0 as &quot;bankAccount_accountNumber&quot;,(select id from scheme where id=mis.schemeid) as &quot;scheme&quot;,(select id from SUB_SCHEME where id=mis.subschemeid) as &quot;subscheme&quot; 
					,mis.departmentid  as &quot;department&quot;,mis.functionaryid as &quot;functionary&quot; from vouchermis mis RIGHT OUTER JOIN voucherheader vh ON MIS.VOUCHERHEADERID=VH.ID,voucherDetail vd, fund f,chartofaccounts coa,
					 chequeDetail cd right join receiptHeader rh on cd.id=rh.chequeId      where  f.id=vh.fundid
					 and vh.cgn='@1'      and rh.voucherheaderId=vh.id and  vd.debitAmount!=0 and  (rh.modeofcollection ='Others'  or rh.modeofcollection ='Cash')
					and vh.id=vd.voucherHeaderId and coa.glcode=vd.glcode and coa.purposeid in(select id from  egf_accountcode_purpose
					 where (name='Cash In Hand'  or name ='Cheque In Hand'))
					union
					select MIS.divisionid AS &quot;field_name&quot;,vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
					vh.voucherDate  AS &quot;voucherHeader_voucherDate&quot;,vh.fundSourceid AS &quot;fundSource_name&quot;,f.id AS &quot;fund_name&quot;,rh.counterId AS
					&quot;billCollector_name&quot;,     br.chequeDate AS &quot;chequeDetail_chequeDate&quot;,br.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,
					vh.description AS &quot;voucherHeader_narration&quot;,vh.id as &quot;voucherHeader_id&quot;,rh.modeOfcollection AS &quot;modeOfCollection&quot;,vd.glcode AS &quot;glCode&quot;,
					rh.wardId AS &quot;billCollectorDetail_wardId&quot;,rh.cashamount AS &quot;chequeDetail_passedAmount&quot;,
					CONCAT(CONCAT(rh.bankId, '-'),rh.bankBranchid)   as &quot;bank_id&quot;,rh.BANKACCOUNTNUMBERID as &quot;bankAccount_accountNumber&quot;,(select id from scheme where id=mis.schemeid) as &quot;scheme&quot;,(select id from SUB_SCHEME where id=mis.subschemeid) as &quot;subscheme&quot; 
					,mis.departmentid  as &quot;department&quot;,mis.functionaryid as &quot;functionary&quot; from vouchermis mis RIGHT OUTER JOIN voucherheader vh ON MIS.VOUCHERHEADERID=VH.ID,voucherDetail vd, fund f,chartofaccounts coa,bankreconciliation br,receiptheader rh
					 where f.id=vh.fundid  and vh.cgn='@2' and br.voucherheaderid=vh.id
					and rh.voucherheaderId=vh.id and  vd.debitAmount!=0 and  rh.modeofcollection ='Bank' and vh.id=vd.voucherHeaderId and
					coa.glcode=vd.glcode
					union
					select MIS.divisionid AS &quot;field_name&quot;,vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,vh.voucherDate
					AS &quot;voucherHeader_voucherDate&quot;,vh.fundSourceid AS &quot;fundSource_name&quot;,f.id AS &quot;fund_name&quot;,rh.counterId AS &quot;billCollector_name&quot;,
					to_date('') AS &quot;chequeDetail_chequeDate&quot;,'' AS &quot;chequeDetail_chequeNumber&quot;,
					vh.description AS &quot;voucherHeader_narration&quot;,vh.id as &quot;voucherHeader_id&quot;,rh.modeOfcollection AS &quot;modeOfCollection&quot;,vd.glcode AS &quot;glCode&quot;,
					rh.wardId AS &quot;billCollectorDetail_wardId&quot;,     sum(cd.amount) AS
					&quot;chequeDetail_passedAmount&quot;,'' as &quot;bank_id&quot;,0 as &quot;bankAccount_accountNumber&quot;,(select id from scheme where id=mis.schemeid) as &quot;scheme&quot;,(select id from SUB_SCHEME where id=mis.subschemeid) as &quot;subscheme&quot; ,mis.departmentid  as &quot;department&quot;,mis.functionaryid as &quot;functionary&quot;   from vouchermis mis RIGHT OUTER JOIN voucherheader vh ON MIS.VOUCHERHEADERID=VH.ID,voucherDetail vd, fund f,chartofaccounts coa,
					 chequeDetail cd right join receiptHeader rh on cd.id=rh.chequeId      where  f.id=vh.fundid  and vh.cgn='@3'      and rh.voucherheaderId=vh.id and  vd.debitAmount!=0 and rh.modeofcollection='Cheque'
					and vh.id=vd.voucherHeaderId and coa.glcode=vd.glcode and coa.purposeid in(select id from  egf_accountcode_purpose
					 where (name='Cash In Hand'  or name ='Cheque In Hand'))  group by MIS.divisionid,vh.cgn,vh.cgvn,vh.voucherNumber,vh.voucherDate ,vh.id,
					 vh.fundSourceid,f.id,rh.counterId,vh.description,rh.modeOfcollection,vd.glcode,rh.wardId,mis.schemeid,mis.subschemeid ,mis.departmentid,mis.functionaryId 
					union
					select mis.divisionid AS &quot;field_name&quot;,vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,vh.voucherDate AS
					&quot;voucherHeader_voucherDate&quot;,vh.fundSourceid AS &quot;fundSource_name&quot;,f.id AS &quot;fund_name&quot;,rh.counterId AS &quot;billCollector_name&quot;,
					cd.chequeDate AS &quot;chequeDetail_chequeDate&quot;,cd.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,
					 vh.description AS &quot;voucherHeader_narration&quot;,vh.id as &quot;voucherHeader_id&quot;,rh.modeOfcollection AS &quot;modeOfCollection&quot;,vd.glcode AS &quot;glCode&quot;,
					 rh.wardId AS &quot;billCollectorDetail_wardId&quot;,      decode(rh.chequeid,null,cashamount,cd.amount) AS
					&quot;chequeDetail_passedAmount&quot;,'' as &quot;bank_id&quot;,0 as &quot;bankAccount_accountNumber&quot;,(select id from scheme where id=mis.schemeid) as &quot;scheme&quot;,(select id from SUB_SCHEME where id=mis.subschemeid) as &quot;subscheme&quot; 
					,mis.departmentid  as &quot;department&quot;,mis.functionaryid as &quot;functionary&quot; from vouchermis mis RIGHT OUTER JOIN voucherheader vh ON MIS.VOUCHERHEADERID=VH.ID,voucherDetail vd, fund f,chartofaccounts coa,
					chequeDetail cd right join receiptHeader rh on cd.id=rh.chequeId
					where f.id=vh.fundid
					and vh.cgn='@4'      and rh.voucherheaderId=vh.originalvcid and  vd.debitAmount!=0 and   (rh.modeofcollection ='Others'  or rh.modeofcollection ='Cash') and
					 vh.originalvcid=vd.voucherHeaderId and vh.status=2 AND      coa.glcode=vd.glcode and coa.purposeid in(select id from egf_accountcode_purpose
					 where (name='Cash In Hand'  or name ='Cheque In Hand'))
					 union
					select MIS.divisionid AS &quot;field_name&quot;,vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
					vh.voucherDate  AS &quot;voucherHeader_voucherDate&quot;,vh.fundSourceid AS &quot;fundSource_name&quot;,f.id AS &quot;fund_name&quot;,rh.counterId AS
					&quot;billCollector_name&quot;,     br.chequeDate AS &quot;chequeDetail_chequeDate&quot;,br.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,
					vh.description AS &quot;voucherHeader_narration&quot;,vh.id as &quot;voucherHeader_id&quot;,rh.modeOfcollection AS &quot;modeOfCollection&quot;,vd.glcode AS &quot;glCode&quot;,
					rh.wardId AS &quot;billCollectorDetail_wardId&quot;,rh.cashamount AS &quot;chequeDetail_passedAmount&quot;,
					CONCAT(CONCAT(rh.bankId, '-'),rh.bankBranchid)   as &quot;bank_id&quot;,rh.BANKACCOUNTNUMBERID as &quot;bankAccount_accountNumber&quot;,(select id from scheme where id=mis.schemeid) as &quot;scheme&quot;,(select id from SUB_SCHEME where id=mis.subschemeid) as &quot;subscheme&quot; 
					,mis.departmentid  as &quot;department&quot;,mis.functionaryid as &quot;functionary&quot; from vouchermis mis RIGHT OUTER JOIN voucherheader vh ON MIS.VOUCHERHEADERID=VH.ID,voucherDetail vd, fund f,chartofaccounts coa,bankreconciliation br,receiptheader rh
					where f.id=vh.fundid  and vh.cgn='@5' and br.voucherheaderid=vh.originalvcid
					and rh.voucherheaderId=vh.originalvcid and  vd.debitAmount!=0 and  rh.modeofcollection ='Bank' and vh.originalvcid=vd.voucherHeaderId and vh.status=2
					and coa.glcode=vd.glcode
	 				union
					 select mis.divisionid AS &quot;field_name&quot;,vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,vh.voucherDate AS
					&quot;voucherHeader_voucherDate&quot;,vh.fundSourceid AS &quot;fundSource_name&quot;,f.id AS &quot;fund_name&quot;,rh.counterId AS &quot;billCollector_name&quot;,
					to_date('') AS &quot;chequeDetail_chequeDate&quot;,'' AS &quot;chequeDetail_chequeNumber&quot;,
					 vh.description AS &quot;voucherHeader_narration&quot;,vh.id as &quot;voucherHeader_id&quot;,rh.modeOfcollection AS &quot;modeOfCollection&quot;,vd.glcode AS &quot;glCode&quot;,
					 rh.wardId AS &quot;billCollectorDetail_wardId&quot;,      sum(cd.amount) AS
					&quot;chequeDetail_passedAmount&quot;,'' as &quot;bank_id&quot;,0 as &quot;bankAccount_accountNumber&quot;,(select id from scheme where id=mis.schemeid) as &quot;scheme&quot;,(select id from SUB_SCHEME where id=mis.subschemeid) as &quot;subscheme&quot; 
					,mis.departmentid  as &quot;department&quot;,mis.functionaryid as &quot;functionary&quot; from vouchermis mis RIGHT OUTER JOIN voucherheader vh ON MIS.VOUCHERHEADERID=VH.ID,voucherDetail vd, fund f,chartofaccounts coa,
					chequeDetail cd right join receiptHeader rh on cd.id=rh.chequeId      where f.id=vh.fundid
					and vh.cgn='@6'      and rh.voucherheaderId=vh.originalvcid and  vd.debitAmount!=0 and  rh.modeofcollection='Cheque' and
					 vh.originalvcid=vd.voucherHeaderId and vh.status=2 AND      coa.glcode=vd.glcode and coa.purposeid in(select id from egf_accountcode_purpose
					 where (name='Cash In Hand'  or name ='Cheque In Hand')) group by MIS.divisionid,vh.cgn,vh.cgvn,vh.voucherNumber,vh.voucherDate,vh.id,				 vh.fundSourceid,f.id,rh.counterId,vh.description,rh.modeOfcollection,vd.glcode,rh.wardId,mis.schemeid,mis.subschemeid ,mis.departmentid,mis.functionaryId">
				<parameter dataSource="cgNumber" isRequired="true" />
				<parameter dataSource="cgNumber" isRequired="true" />
				<parameter dataSource="cgNumber" isRequired="true" />
				<parameter dataSource="cgNumber" isRequired="true" />
				<parameter dataSource="cgNumber" isRequired="true" />
				<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>



		<sqlTemplate id="getChequeDetails"
			template="select cd.id AS &quot;chequeGrid_chequeId&quot;, chequenumber as &quot;chequeGrid_chequeNo&quot;,amount as &quot;chequeGrid_chequeAmount&quot;,chequedate as &quot;chequeGrid_chequeDate&quot;,payto as &quot;chequeGrid_payTo&quot; from chequedetail cd, voucherheader vh where
			cd.voucherheaderid=vh.id AND cd.isreversed=0 and vh.cgn='@1' and chequeType='C'
			UNION
			     select cd.id AS &quot;chequeGrid_chequeId&quot;, chequenumber as &quot;chequeGrid_chequeNo&quot;,amount as &quot;chequeGrid_chequeAmount&quot;,chequedate as &quot;chequeGrid_chequeDate&quot;,payto as &quot;chequeGrid_payTo&quot; from chequedetail cd, voucherheader vh where
			cd.voucherheaderid=vh.ORIGINALVCID AND cd.isreversed=1 and vh.cgn='@2' and chequeType='C'
			UNION
			    select cd.id AS &quot;chequeGrid_chequeId&quot;, chequenumber as &quot;chequeGrid_chequeNo&quot;,amount as &quot;chequeGrid_chequeAmount&quot;,chequedate as &quot;chequeGrid_chequeDate&quot;,payto as &quot;chequeGrid_payTo&quot; from chequedetail cd, voucherheader vh where
			cd.voucherheaderid=vh.ID AND cd.isreversed=1 and vh.cgn='@3' and chequeType='C' AND vh.status=1
			">
			<parameter dataSource="cgNumber" isRequired="true" />
			<parameter dataSource="cgNumber" isRequired="true" />
			<parameter dataSource="cgNumber" isRequired="true" />
	</sqlTemplate>	
		
	<sqlTemplate id="getOTODetails"
			template="select vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
					vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,
					fs.id AS &quot;fundSource_name&quot; ,f.id AS &quot;fund_name&quot;,
					b.id AS &quot;billCollector_name&quot;,
					rh.revenueSource AS &quot;receiptHeader_revenueSource&quot;,
					cd.chequeDate AS &quot;chequeDetail_chequeDate&quot;,cd.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,
					vh.description AS &quot;voucherHeader_description&quot;,rh.modeOfcollection AS &quot;modeOfCollection&quot;,
					vd.glcode AS &quot;glCode&quot;,rh.wardId AS &quot;billCollectorDetail_wardId&quot; 
					from voucherheader vh ,voucherDetail vd,fundSource fs, fund f,billCollector b,chequeDetail cd right join receiptHeader rh on cd.id=rh.chequeId
					where f.id=vh.fundid and fs.id=vh.fundSourceid and vh.cgn='@1'
					and rh.voucherheaderId=vh.id and b.id=rh.counterId  and vd.debitAmount!=0 and vh.id=vd.voucherHeaderId">
			<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>
	
		<sqlTemplate id="getMiscGlCode"
		    template="select fuct.name AS &quot;function_code&quot;,fuct.id AS &quot;cv_fromFunctionCodeId&quot;,a.glcode AS &quot;voucherDetail_glCode&quot;,a.accountName
				      AS &quot;voucherDetail_accountName&quot;,a.debitAmount as &quot;voucherDetail_debitAmount&quot;,a.creditAmount AS &quot;voucherDetail_creditAmount&quot;,
				      a.narration AS &quot;voucherDetail_narration&quot; from generalledger gl left join  function fuct ON  gl.functionid=fuct.id,voucherDetail a,chartofaccounts b where a.id=gl.VOUCHERLINEID and
				      a.voucherHeaderId=(select id from voucherHeader where cgn='@1') and b.glcode=a.glcode and b.glcode not like '450%'
				      and gl.glcodeid NOT IN(select id from chartOfAccounts where purposeid  IN(4,5))">
			<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>

		 <sqlTemplate id="getOTFDetails"
				template="select vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
						vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;, fs.name AS &quot;fundSource_name&quot;,fs.id AS &quot;fundSourceId&quot;,f.id AS &quot;fund_name&quot;,
						rh.BILLCOLLECTORID  AS &quot;billCollector_name&quot;,vh.description AS &quot;voucherHeader_description&quot;,rh.modeOfcollection AS &quot;modeOfCollection&quot;,vd.glcode AS &quot;glCode&quot;,
						cd.chequeDate AS &quot;chequeDetail_chequeDate&quot;,cd.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,rh.wardid AS &quot;billCollectorDetail_wardId&quot;,vh.id as &quot;voucherHeader_id&quot; ,
						CONCAT(CONCAT(rh.bankId, '-'),rh.bankBranchid)   as &quot;bank_id&quot;,rh.BANKACCOUNTNUMBERID as &quot;bankAccount_accountNumber&quot;
						from voucherHeader vh,fundSource fs, fund f,voucherDetail vd,chequeDetail cd right join receiptHeader rh on cd.id=rh.chequeId and cd.isreversed!=1 
						where f.id=vh.fundid and fs.id=vh.fundSourceid  and vd.debitAmount!=0 and vh.id=vd.voucherHeaderId
						and rh.voucherheaderId=vh.id and vh.cgn='@1'">
				<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>


		<sqlTemplate id="getOTFGlCode"
			template="select distinct ca.glcode AS &quot;glCode&quot; ,b.code AS &quot;taxCode&quot; ,ca.name AS &quot;accountHead&quot;,
			ot.interest AS &quot;interest&quot;, ot.penalty AS &quot;penalty&quot;,egf.financialyear AS &quot;otherTaxDetail_period&quot;,
			ot.totalamount AS &quot;totalAmount&quot;
			from otherTaxDetail ot,chartOfAccounts ca,voucherDetail vd,egf_tax_account_mapping egf ,EGF_TAX_CODE b where egf.isactive=1 AND egf.GLCODEID=ca.ID AND egf.taxcodeid=b.id AND egf.taxcodeid=b.id AND 
			ot.glcodeid=ca.id and egf.financialyear=ot.period and ot.voucherHeaderid=(select id from voucherHeader vh where 
			vh.cgn=	(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn)
			from voucherheader vp where vp.cgn='@1'))
	    	and vd.creditAmount=0 and ot.voucherHeaderid=vd.voucherheaderId">
			<parameter dataSource="cgNumber" isRequired="true" />
	</sqlTemplate>
	
	<sqlTemplate id="getPTFDetails"
			template="select vh.cgn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;, fn.name AS &quot;function_name&quot;,f.name AS &quot;fund_name&quot;,fs.name AS &quot;fundSource_name&quot;,b.name AS &quot;billCollector_id&quot;,vh.description AS &quot;voucherHeader_description&quot;,rh.modeOfcollection 
AS &quot;modeOfCollection&quot;,vd.glcode AS &quot;glCode&quot;,cd.chequeDate AS &quot;chequeDetail_chequeDate&quot;,cd.chequeNumber AS 
&quot;chequeDetail_chequeNumber&quot;,org.name AS &quot;organizationStructure_id&quot; from voucherHeader vh,function fn, fund f,fundSource fs, billCollector b,organizationStructure org,voucherDetail vd,chequeDetail cd right join receiptHeader rh 
on cd.id=rh.chequeId where f.id=vh.fundid and fs.id=vh.fundSourceid and fn.id=vh.functionid and rh.wardid=org.id and 
vd.debitAmount!=0 and vh.id=vd.voucherHeaderId and b.id=rh.billCollectorId and rh.voucherheaderId=vh.id and 
vh.cgn='@1'">
			<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>	


	<sqlTemplate id="getPTFGrid"
		template="select fy.id, amount AS &quot;totalAmount&quot;,interest AS &quot;interest&quot;,
		penalty AS &quot;penalty&quot;,rebate AS &quot;rebate&quot;,fy.financialyear as &quot;period&quot;
		from financialyear fy LEFT JOIN propertytaxIntermediate pt ON fy.id=pt.period 
		WHERE (voucherheaderid=(select id from voucherheader where cgn='@1' and vouchernumber like '%A%') OR pt.period = null)
		UNION
		select fy.id, -1 AS totalAmount,-1 AS interest,
		-1 AS penalty,-1 AS rebate,fy.financialyear as period from financialyear fy where 
		id between (select max(id)-3 from financialyear where isactiveforposting=1) 
		and  (select max(id)-1 from financialyear where isactiveforposting=1) 
		and isactive=1  
		UNION ALL 
		select 0, -1 AS totalAmount,-1 AS interest,-1 AS penalty,-1 AS rebate,'Old' as period from dual order by id desc">
		<parameter dataSource="cgNumber" isRequired="true" />
	</sqlTemplate>
	

   <sqlTemplate id="getDBPDetails"
 template="select vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,cd.chequetype AS &quot;cv_fromchq&quot;, 
    vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,vh.fundsourceid AS &quot;fundSource_id&quot;,f.id AS &quot;fund_id&quot;,
     f.name as &quot;fund_name&quot;,decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) as &quot;fundSource_name&quot;, 
    cd.AccountNumberId AS &quot;accountGroup_accountNumberId&quot;,
    CONCAT(CONCAT(cd.bankId, '-'),cd.branchID) AS &quot;bank_id&quot;,cd.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,
    cd.chequeDate AS &quot;chequeDetail_chequeDate&quot;,cd.narration AS &quot;voucherHeader_narration&quot;,
    cd.paidById AS &quot;billCollector_id&quot;,cd.payTo AS &quot;chequeDetail_paidTo&quot;,
    mbd.amount AS &quot;miscBillDetail_billAmount&quot;,mbd.passedAmount AS &quot;chequeDetail_passedAmount&quot;,
    mbd.billDate AS &quot;miscBillDetail_billDate&quot;,mbd.billNumber AS &quot;miscBillDetail_billNumber&quot;,
    vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;,eg.user_name as &quot;voucherHeader_createdby&quot;,vh.id as &quot;voucherHeader_id&quot;, 'false' as &quot;isBankEntry&quot;
    ,egv.divisionid as &quot;field_name&quot;,mbd.billvhid AS &quot;BillVhID&quot;,(select id from scheme where id=egv.schemeid) as &quot;scheme&quot;,(select id from sub_scheme where id=egv.subschemeid) as &quot;subscheme&quot;
    ,egv.departmentid as &quot;department&quot;,egv.functionaryid as &quot;functionary&quot; from fund f, chequeDetail cd, paymentHeader ph,voucherHeader vh left join EG_USER eg ON vh.createdby=eg.id_user ,MiscBillDetail mbd ,vouchermis egv
    where ph.chequeId=cd.id and vh.ID=egv.VOUCHERHEADERID AND f.id=vh.fundid and ph.voucherHeaderid=vh.id and ph.MiscBillDetailId = mbd.id and vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from voucherheader vp where vp.cgn='@1')
    UNION
    select vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,'--' AS &quot;cv_fromchq&quot;,     
    vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,vh.fundsourceid AS &quot;fundSource_id&quot;,f.id AS &quot;fund_id&quot;,      
    f.name as &quot;fund_name&quot;,decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) as 
    &quot;fundSource_name&quot;,      ph.bankaccountnumberid AS &quot;accountGroup_accountNumberId&quot;,     
    CONCAT(CONCAT(ph.bankId, '-'),ph.bankbranchID) AS &quot;bank_id&quot;,rec.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,     
    rec.chequeDate AS &quot;chequeDetail_chequeDate&quot;,vh.description AS &quot;voucherHeader_narration&quot;,     
    mbd.paidById AS &quot;billCollector_id&quot;,mbd.paidTo AS &quot;chequeDetail_paidTo&quot;,     
    mbd.amount AS &quot;miscBillDetail_billAmount&quot;,mbd.passedAmount AS &quot;chequeDetail_passedAmount&quot;,     
    mbd.billDate AS &quot;miscBillDetail_billDate&quot;,mbd.billNumber AS &quot;miscBillDetail_billNumber&quot;,     
    vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;,eg.user_name as 
    &quot;voucherHeader_createdby&quot;,vh.id as &quot;voucherHeader_id&quot;, 'true' as &quot;isBankEntry&quot;,egv.divisionid as &quot;field_name&quot;,mbd.billvhid AS &quot;BillVhID&quot;,(select id from scheme where id=egv.schemeid) as &quot;scheme&quot;,(select id from sub_scheme where id=egv.subschemeid) as &quot;subscheme&quot;     
     ,egv.departmentid as &quot;department&quot;,egv.functionaryid as &quot;functionary&quot; from fund f, bankreconciliation rec, paymentHeader ph,vouchermis egv,
    voucherHeader vh left join EG_USER eg ON vh.createdby=eg.id_user ,MiscBillDetail mbd 
    where ph.chequeId is null 
    and f.id=vh.fundid and vh.ID=egv.VOUCHERHEADERID AND ph.voucherHeaderid=vh.id and ph.MiscBillDetailId = mbd.id and  rec.voucherHeaderid=vh.id and
    vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from 
    voucherheader vp where vp.cgn='@2') ">
 <parameter dataSource="cgNumber" isRequired="true" />
 <parameter dataSource="cgNumber" isRequired="true" />
 </sqlTemplate>


	
	<sqlTemplate id="getDBPDetailsOW"
						template="select vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
					vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.status as &quot;voucherHeader_status&quot;
					from voucherHeader vh where cgn='@1'">
						<parameter dataSource="cgNumber" isRequired="true" />
				</sqlTemplate>
			
		<sqlTemplate id="getDBPGlCode"
			template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;,fuct.name AS &quot;function_code&quot;, vd.glcode AS &quot;chartOfAccounts_glCode&quot;,
				vd.accountName AS &quot;chartOfAccounts_name&quot;,vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,
				vd.creditAmount AS &quot;voucherDetail_creditAmount&quot;,vd.narration AS &quot;voucherDetail_narration&quot; from generalledger gl 
	 			left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd where vd.voucherHeaderId=(select id from voucherHeader 
				where cgn='@1') and gl.voucherheaderid=vd.voucherheaderid AND vd.id=gl.voucherlineid 
				and  vd.glcode not in(select glcode from chartOfAccounts  where chartOfAccounts.id=(select unique glcodeId from bankAccount 
				where id=(select bankAccountNumberId from paymentHeader where paymentHeader.voucherHeaderid=(select id from voucherHeader where cgn='@2'))) )">
				<parameter dataSource="cgNumber" isRequired="true" />
				<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>
		<sqlTemplate id="getDCPGlCode"
			template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;,fuct.name AS &quot;function_code&quot;, vd.glcode AS &quot;chartOfAccounts_glCode&quot;,
				vd.accountName AS &quot;chartOfAccounts_name&quot;,vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,
				vd.creditAmount AS &quot;voucherDetail_creditAmount&quot;,vd.narration AS &quot;voucherDetail_narration&quot; from generalledger gl 
	 			left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd where vd.voucherHeaderId=(select id from voucherHeader 
				where cgn='@1') and gl.voucherheaderid=vd.voucherheaderid AND vd.id=gl.voucherlineid 
				and  vd.glcode not in(select glcode from chartOfAccounts  where chartOfAccounts.id=(select id from chartofaccounts where purposeid=4) )">
				<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>

		
			<sqlTemplate id="getPTBDetails"
				template="select vh.cgn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
						vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;, d.name AS &quot;department_name&quot;,f.name AS &quot;fund_name&quot;,
						vh.description AS &quot;voucherHeader_description&quot;,CONCAT(CONCAT(rh.bankId, '-'),rh.bankbranchID) AS &quot;bank_id&quot;,
						rh.bankAccountNumberId AS &quot;bankAccount_accountNumber&quot;,rh.wardid AS &quot;organizationStructure_id&quot;
						from voucherHeader vh,department d, fund f,receiptHeader rh
						where f.id=vh.fundid and d.id=vh.departmentid  
						 and rh.voucherheaderId=vh.id and vh.cgn='@1'">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>

<sqlTemplate id="getSupplierDetails"
    template="select vh.cgn as &quot;cgnNum&quot;,vhmis.departmentid as &quot;department_id&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
       vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,r.code AS &quot;supplier_code&quot;,r.subtypeid as &quot;partytypeid&quot;,r.id as &quot;supplier_id&quot;,
       wd.name AS &quot;worksdetail_name&quot;,wd.code AS &quot;worksdetail_code&quot;,r.name AS &quot;supplier_name&quot;,wd.WORKCATEGORY as &quot;doctypeid&quot; ,wd.SUBCATEGORY as &quot;subdoctypeid&quot;,
       vh.fundSourceId AS &quot;fundSource_id&quot;,vh.fundid AS &quot;fund_id&quot;,r.id AS &quot;relation_id&quot;, 
       fd.name as  &quot;fund_name&quot;,decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) as  &quot;fundSource_name&quot;, 
       sbd.billDate AS &quot;supplierBillDetail_billDate&quot;,sbd.billNumber AS &quot;supplierBillDetail_billNumber&quot;,
       sbd.mrnNumber AS &quot;supplierBillDetail_mrnNumber&quot;,sbd.mrnDate AS &quot;supplierBillDetail_mrnDate&quot;,
       sbd.billAmount AS &quot;supplierBillDetail_billAmount&quot;,sbd.advadjamt AS &quot;worksDetail_adjustmentAmount&quot;,
       wd.advanceAmount-wd.advanceadj+sbd.advadjamt AS &quot;worksDetail_advanceAmount&quot;,sbd.passedAmount AS &quot;supBillDetail_passedAmount&quot;,
       wd.advanceamount AS &quot;wsDetail_totalAdvanceAmount&quot;,  
       sbd.ApprovedBy AS &quot;supplierBillDetail_approvedBy&quot;,sbd.narration AS &quot;voucherHeader_narration&quot;,
       sbd.worksDetailId AS &quot;worksDetail_id&quot;,wd.orderDate AS &quot;worksDetail_orderDate&quot;,
       vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;,
      	eg.user_name as &quot;voucherHeader_createdby&quot;,vh.id as &quot;voucherHeader_id&quot;,wd.type as  &quot;worksDetail_type&quot;,
      	vhmis.divisionid AS &quot;field_id&quot;,vhmis.functionaryid AS &quot;functionary_id&quot;,(SELECT name  FROM EG_BOUNDARY WHERE vhmis.divisionid=EG_BOUNDARY.ID_BNDRY)
		AS &quot;field_name&quot;,sbd.BILLID AS &quot;oldBillid&quot;,sbd.BILLID AS &quot;billid&quot;,(select id from scheme where id=vhmis.SCHEMEID) AS &quot;scheme&quot;,(select id from SUB_SCHEME where id=vhmis.SUBSCHEMEID) AS &quot;subscheme&quot;,(select name from scheme where id=vhmis.SCHEMEID) AS &quot;schemeid&quot;,(select name from SUB_SCHEME where id=vhmis.SUBSCHEMEID) AS &quot;subschemeid&quot;,   (SELECT first_name FROM eg_user WHERE bill.createdBy=eg_user.ID_USER) AS &quot;bill_createdBy&quot;
		from voucherHeader vh left join EG_USER eg ON vh.createdby=eg.id_user ,relation r,supplierBillDetail sbd,worksDetail wd ,fund fd,vouchermis vhmis,eg_billRegister bill
        where r.id=sbd.supplierId and fd.id=vh.fundid and vhmis.voucherheaderid=vh.id 
		 AND bill.id=sbd.billid AND sbd.voucherHeaderId=vh.id and wd.id=sbd.worksDetailId and vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from voucherheader vp where vp.cgn='@1') ">
   <parameter dataSource="cgNumber" isRequired="true" />
  </sqlTemplate>
  
		<sqlTemplate id="getSupplierDetailsOW"
				template="select vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
			vh.voucherDate AS &quot;voucher@eader_voucherDate&quot;,vh.status as &quot;voucherHeader_status&quot;
			from voucherHeader vh where cgn='@1'">
				<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>
		
		<sqlTemplate id="getSchedDetails"
			template=" SELECT id AS &quot;Id&quot; ,glcode AS &quot;glcodeId1&quot;,OPERATION AS &quot;operation1&quot; FROM CHARTOFACCOUNTS WHERE SCHEDULEID='@1'">
			<parameter dataSource="schedule" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="getSupplierGrid"
				template="select fuct.name AS &quot;function_code&quot;,vd.glcode AS &quot;chartOfAccounts_glCode&quot;,accountName AS &quot;chartOfAccounts_name&quot;,
						vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,vd.creditAmount AS &quot;voucherDetail_creditAmount&quot;,narration AS &quot;voucherDetail_narration&quot;
						from generalledger gl left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd, voucherheader vh where  
						vd.voucherheaderId=vh.id and gl.VOUCHERHEADERID=vh.ID and vd.id=gl.VOUCHERLINEID and  vh.cgn='@1'">
					<parameter dataSource="cgNumber" isRequired="true" />
	</sqlTemplate>

	<sqlTemplate id="getSupplierGrid1"
		template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;,fuct.name AS &quot;function_code&quot;,vd.glcode AS &quot;chartOfAccounts_glCode&quot;,accountName AS &quot;chartOfAccounts_name&quot;,
				vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,vd.creditAmount AS &quot;voucherDetail_creditAmount&quot;,narration AS &quot;voucherDetail_narration&quot;
				from generalledger gl left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd, voucherheader vh where  
				vd.voucherheaderId=vh.id and gl.VOUCHERHEADERID=vh.ID and vd.id=gl.VOUCHERLINEID and  vh.cgn='@1'AND vd.glcode IN (SELECT b.glcode FROM codeservicemap a,chartofaccounts b WHERE (serviceid=8 OR serviceid=12) AND b.id=a.GLCODEID)
 AND  vd.glcode NOT IN (SELECT b.glcode FROM tds a,chartofaccounts b WHERE  b.id=a.GLCODEID)
				">
			<parameter dataSource="cgNumber" isRequired="true" />
	</sqlTemplate>

<sqlTemplate id="getSupplierGridNew"
   template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;,fuct.name AS &quot;function_code&quot;,vd.glcode AS &quot;chartOfAccounts_glCode&quot;,accountName AS &quot;chartOfAccounts_name&quot;,
     vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,vd.creditAmount AS &quot;voucherDetail_creditAmount&quot;,narration AS &quot;voucherDetail_narration&quot;
     from generalledger gl left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd, voucherheader vh where  
     vd.creditAmount=0 AND vd.voucherheaderId=vh.id and gl.VOUCHERHEADERID=vh.ID and vd.id=gl.VOUCHERLINEID and  vh.cgn='@1' 
     { AND GL.GLCODEID NOT IN(SELECT id FROM CHARTOFACCOUNTS WHERE purposeid in (@2) ) }
	 { AND GL.GLCODEID NOT IN(SELECT id FROM CHARTOFACCOUNTS WHERE purposeid in (@3) ) }	">
    <parameter dataSource="cgNumber" isRequired="true" />
    <parameter dataSource="ConPayCode" isRequired="false" />
    <parameter dataSource="SupPayCode" isRequired="false" />
    
 </sqlTemplate>
 <sqlTemplate id="getJvGeneralGrid"
    template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;,fuct.name AS &quot;function_code&quot;,vd.glcode AS &quot;chartOfAccounts_glCode&quot;,accountName AS &quot;chartOfAccounts_name&quot;,
      vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,vd.creditAmount AS &quot;voucherDetail_creditAmount&quot;,narration AS &quot;voucherDetail_narration&quot;
      from generalledger gl left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd, voucherheader vh where  
      vd.voucherheaderId=vh.id and gl.VOUCHERHEADERID=vh.ID and vd.GLCODE = gl.GLCODE and  vh.cgn='@1' ">
     <parameter dataSource="cgNumber" isRequired="true" />
      
     
  </sqlTemplate>
		<sqlTemplate id="getSupplierGridCS"
		 template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;,fuct.name AS &quot;function_code&quot;,vd.glcode AS &quot;chartOfAccounts_glCode&quot;,accountName AS &quot;chartOfAccounts_name&quot;,
		  vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,vd.creditAmount AS &quot;voucherDetail_creditAmount&quot;,narration AS &quot;voucherDetail_narration&quot;
		  from generalledger gl left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd, voucherheader vh where  
		  vd.voucherheaderId=vh.id and gl.VOUCHERHEADERID=vh.ID and vd.id=gl.VOUCHERLINEID and  vh.cgn='@1'  and (accountName &lt;&gt;'Creditors-Contractors Payable' and accountName &lt;&gt;'Creditors-Suppliers Payable')">
		  <parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>
		
	<sqlTemplate id="getDedcDetails"
		template="select fuct.id AS &quot;cv_fromFunctionCodeId1&quot;,fuct.name AS &quot;function_code1&quot;,c.glcode AS &quot;gl_Code&quot;,a.TYPE  AS &quot;tds_Code&quot;,
				c.name AS &quot;coa_name&quot;,vd.creditamount AS &quot;dedAmount&quot;
				from generalledger gl left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd,voucherHeader vh,tds a,chartofaccounts c WHERE  vd.glcode=c.glcode  AND c.id=a.glcodeid AND  vd.voucherheaderId=vh.id AND  vh.cgn='@1'  AND  vd.id=gl.VOUCHERLINEID and a.effectivefrom &gt;=(select max(effectivefrom) from tds where type=a.type) AND c.glcode IN (SELECT b.glcode FROM tds a,chartofaccounts b WHERE  b.id=a.GLCODEID) ">
			<parameter dataSource="cgNumber" isRequired="true" />
	</sqlTemplate>
<sqlTemplate id="getContractorDetails"
		  template="select vh.cgn as &quot;cgnNum&quot;,vhmis.departmentid as &quot;department_id&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
		   vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,r.name AS &quot;contractor_name&quot;,r.code AS &quot;contractor_code&quot;,r.id AS &quot;relation_id&quot;,r.id as  &quot;contractor_id&quot;,r.subtypeid AS &quot;partytypeid&quot;,
		   wd.name AS &quot;worksdetail_name&quot;,wd.code AS &quot;worksdetail_code&quot;,wd.workcategory AS &quot;doctypeid&quot;,
       wd.subcategory AS &quot;subdoctypeid&quot;,
		     vh.fundSourceId AS &quot;fundSource_id&quot;,vh.fundid AS &quot;fund_id&quot;, 
		   fd.name as  &quot;fund_name&quot;,decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) as  &quot;fundSource_name&quot;,         
		   cbd.billAmount AS &quot;contBillDetail_billAmount&quot;,cbd.billNumber AS &quot;contBillDetail_billnumber&quot;,cbd.billdate AS &quot;contBillDetail_billDate&quot;,cbd.advadjamt AS &quot;worksDetail_adjustmentAmount&quot;,
		   (wd.advanceAmount-wd.advanceadj+cbd.advadjamt) AS &quot;worksDetail_advanceAmount&quot;,cbd.passedAmount AS &quot;contBillDetail_passedAmount&quot;,
		   cbd.ApprovedBy AS &quot;contBillDetail_approvedBy&quot;,cbd.narration AS &quot;voucherHeader_narration&quot;,
		   wd.name as &quot;worksDetail_name&quot;,cbd.worksDetailId AS &quot;worksDetail_id&quot;,wd.orderDate AS &quot;worksDetail_orderDate&quot;,tdsAmount AS &quot;worksDetail_tdsAmount&quot;,
		   vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;,
		   eg.user_name as &quot;voucherHeader_createdby&quot;,vh.id as &quot;voucherHeader_id&quot;,wd.type as  &quot;worksDetail_type&quot;,(select id from scheme where id=vhmis.SCHEMEID) AS &quot;scheme&quot;,(select id from SUB_SCHEME where id=vhmis.SUBSCHEMEID) AS &quot;subscheme&quot;,(select name from scheme where id=vhmis.SCHEMEID) AS &quot;schemeid&quot;,(select name from SUB_SCHEME where id=vhmis.SUBSCHEMEID) AS &quot;subschemeid&quot;  
		   ,vhmis.divisionid AS &quot;field_id&quot;,vhmis.functionaryid AS &quot;functionary_id&quot;,(SELECT name  FROM EG_BOUNDARY WHERE vhmis.divisionid=EG_BOUNDARY.ID_BNDRY)
		   AS &quot;field_name&quot;,cbd.BILLID AS &quot;oldBillid&quot;,cbd.BILLID AS &quot;billid&quot; ,(SELECT first_name FROM eg_user WHERE bill.createdBy=eg_user.ID_USER) AS &quot;bill_createdBy&quot; 
		   from voucherHeader vh left join EG_USER eg ON vh.createdby=eg.id_user ,relation r,contractorBillDetail cbd,worksDetail wd ,fund fd,vouchermis vhmis,eg_billRegister bill
		   where r.id=cbd.contractorId and fd.id=vh.fundid 
		      AND bill.id=cbd.billid
			  and vhmis.voucherheaderid=vh.id AND
		   cbd.voucherHeaderId=vh.id and wd.id=cbd.worksDetailId and vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from voucherheader vp where vp.cgn='@1') ">
		   <parameter dataSource="cgNumber" isRequired="true" />
		 </sqlTemplate>


			
			<sqlTemplate id="getContractorDetailsOW"
				template="select vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
			vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.status as &quot;voucherHeader_status&quot;
			from voucherHeader vh where cgn='@1'">
				<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			
			
			<sqlTemplate id="getSalaryDetails"
							template="select sbd.BILLID AS &quot;billid&quot;,sbd.BILLID AS &quot;oldBillid&quot;,br.billnumber AS &quot;salaryBill_Number1&quot;,br.BILLDATE AS &quot;salaryBill_Date&quot;,bmis.DEPARTMENTID AS &quot;department_id&quot;,egv.divisionid AS &quot;field_name&quot; , vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;, vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.fundId AS &quot;fund_id&quot;,vh.fundSourceId AS &quot;fundSource_id&quot;,vh.description AS &quot;voucherDetail_narration&quot;,sbd.mmonth AS &quot;month_id&quot;,sbd.totalDeductions AS &quot;dedTotalAmount&quot;,
					sbd.grossPay AS &quot;ernTotalAmount&quot;,sbd.netPay AS &quot;netPay&quot;,sbd.financialYearId AS &quot;financialYear_id&quot;,vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;,eg.user_name as &quot;voucherHeader_createdby&quot;,vh.id as &quot;voucherHeader_id&quot;
					,egv.schemeid as &quot;scheme&quot;,egv.functionaryid as &quot;functionary_id&quot;,egv.subschemeid as&quot;subscheme&quot;
					from vouchermis egv,voucherHeader vh left join EG_USER eg ON vh.createdby=eg.id_user, 
					salaryBillDetail sbd,eg_billregister br,eg_billregistermis bmis,eg_department edept 
					
					where vh.id=sbd.voucherHeaderId and  vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from voucherheader	vp where vp.cgn='@1') 
					AND egv.VOUCHERHEADERID=vh.ID 
					AND sbd.BILLID=br.ID
					AND bmis.BILLID=br.ID 
					AND bmis.DEPARTMENTID=edept.ID_DEPT
			  		AND br.EXPENDITURETYPE='Salary' ">
			  		
							<parameter dataSource="cgNumber" isRequired="true" />
				</sqlTemplate>
		<sqlTemplate id="getSalaryDetailsOW"
				template="select vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
			vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.status as &quot;voucherHeader_status&quot;
			from voucherHeader vh where cgn='@1'">
				<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			
		<sqlTemplate id="getEarningDetails"
		  template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;, fuct.name AS &quot;function_code&quot;,vd.glcode AS &quot;chartOfAccounts_glCodeearning&quot;,accountName AS &quot;chartOfAccounts_nameearning&quot;,vd.debitAmount AS &quot;earningAmount&quot;,vd.Id AS &quot;earning_voucherLineId&quot;
		    from voucherdetail vd,generalledger gl left join function fuct on gl.functionid=fuct.id where vd.creditAmount=0
		    and gl.VOUCHERLINEID=vd.ID
		    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@1')">
		   <parameter dataSource="cgNumber" isRequired="true" />
		 </sqlTemplate>

		<sqlTemplate id="getDeductionDetails"
		  template="select fuct.id AS &quot;cv_fromFunctionCodeId1&quot;,fuct.name AS &quot;function_code1&quot;,vd.glcode AS &quot;chartOfAccounts_glCodeduction&quot;,accountName AS &quot;chartOfAccounts_namededuction&quot;,vd.creditAmount AS &quot;deductionAmount&quot;,vd.Id AS &quot;deduction_voucherLineId&quot;
		    from voucherdetail vd,generalledger gl,function fuct where vd.debitAmount=0 and gl.functionid(+)=fuct.id
		    and gl.VOUCHERLINEID=vd.ID
		      AND vd.glcode not in (select glcode from chartofaccounts where purposeid in @3 )
		    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@1')
		    union
		   select fuct.id AS &quot;cv_fromFunctionCodeId1&quot;,fuct.name AS &quot;function_code1&quot;,vd.glcode AS &quot;chartOfAccounts_glCodeduction&quot;,accountName AS &quot;chartOfAccounts_namededuction&quot;,vd.creditAmount AS &quot;deductionAmount&quot;,vd.Id AS &quot;deduction_voucherLineId&quot;
		    from voucherdetail vd,generalledger gl,function fuct where vd.debitAmount=0 and gl.functionid=fuct.id(+)
		    and gl.VOUCHERLINEID=vd.ID
		      AND vd.glcode not in (select glcode from chartofaccounts where purposeid in @4 )
		    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@2')
		    ">    
		   <parameter dataSource="cgNumber" isRequired="true" />
		   <parameter dataSource="cgNumber" isRequired="true" />
		   <parameter dataSource="salaryBillPurposeIds" isRequired="true" />
		   <parameter dataSource="salaryBillPurposeIds" isRequired="true" />
 		</sqlTemplate>
		
 		
 		<!-- added for vmc salary bill register -->
 		<sqlTemplate id="getEarningGrid"
				  template="select scode.ID AS &quot;salary_CodeIdEar&quot;,scode.HEAD AS &quot;salary_accountHeadEar&quot;,ca.GLCODE AS &quot;chartOfAccounts_glCodeearning&quot;,ca.NAME AS &quot;chartOfAccounts_nameearning&quot;,scode.GLCODEID AS &quot;glCodeId_Earning&quot;
 				from eg_salarycodes scode,chartofaccounts ca
 				where  scode.GLCODEID=ca.ID  and scode.SALTYPE='Earnings' order by &quot;salary_CodeIdEar&quot; ">
		</sqlTemplate>
		
		<sqlTemplate id="getSalaryCodesMaster"
			  template="select scode.ID AS &quot;salary_CodeId&quot;,scode.HEAD AS &quot;salary_accountHead&quot;,scode.GLCODEID AS &quot;glCode_Id&quot;,
					scode.SALTYPE AS &quot;salary_Type&quot;,ca.GLCODE AS &quot;chartOfAccounts_glCode&quot;,ca.NAME AS &quot;chartOfAccounts_name&quot;
					from eg_salarycodes scode,chartofaccounts ca 
					where  scode.GLCODEID=ca.ID  
					order by &quot;salary_Type&quot;,&quot;chartOfAccounts_name&quot;">
		</sqlTemplate>
		
		<sqlTemplate id="getDeductionGridTable"
				  template="select scode.ID AS &quot;salary_CodeIdDed&quot;,scode.HEAD AS &quot;salary_accountHeadDed&quot;,ca.GLCODE AS &quot;chartOfAccounts_glCodeduction&quot;,ca.NAME AS &quot;chartOfAccounts_namededuction&quot;,scode.GLCODEID AS &quot;glCodeId_Ded&quot;
				  from eg_salarycodes scode,chartofaccounts ca
				  where  scode.GLCODEID=ca.ID  and scode.SALTYPE='Deduction' order by &quot;salary_CodeIdDed&quot; ">
		</sqlTemplate>
		
		
		 <sqlTemplate id="salBillNoList"
		   	  template="SELECT eg.id,eg.BILLNUMBER as &quot;billNoList&quot;FROM EG_BILLREGISTER eg where EXPENDITURETYPE='Salary' ORDER BY eg.BILLNUMBER">
		   </sqlTemplate>
		  <sqlTemplate id="salBillNoListModify"
 		  
 	template="SELECT eg.id,eg.BILLNUMBER FROM EG_BILLREGISTER  eg,eg_department egdept,
 	eg_employee emp,eg_billregistermis bmis       
 	where EXPENDITURETYPE='Salary' and eg.STATUSID =(select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Created')) 
 	and bmis.BILLID=eg.ID 
 	and bmis.DEPARTMENTID=egdept.ID_DEPT 
 	and EXISTS(select id_user from EG_USERROLE r
 		where ((r.id_role not like 5 and emp.ID_DEPT=egdept.ID_DEPT and r.ID_USER=@1)
 		or(r.id_role like 5 AND r.ID_USER =@2)))  
 	and emp.ID_USER=@3  ORDER BY BILLNUMBER">
 
 		<parameter dataSource="eg_userId" isRequired="true"/>
 		<parameter dataSource="eg_userId" isRequired="true"/>
 		<parameter dataSource="eg_userId" isRequired="true"/>
  		</sqlTemplate>
  		
  		<sqlTemplate id="salBillRegisterSearchId" 
		     template="select distinct br.ID as &quot;colA&quot;,br.BILLNUMBER as &quot;colB&quot;,br.BILLDATE as &quot;colC&quot;,br.BILLAMOUNT as &quot;colG&quot;,
		     bmis.DEPARTMENTID as &quot;colD&quot;,egdept.DEPT_NAME as &quot;colE&quot;,
		     decode(bmis.MONTH,1,'January',2,'February',3,'March',4,'April',5,'May',6,'June',7,'July',8,'August',9,'September',10,'October',11,'November',12,'December') as &quot;colF&quot;,br.BILLSTATUS as &quot;colI&quot;
		     
		     from eg_billregister br,eg_billregistermis bmis,eg_department egdept
 				where bmis.BILLID=br.ID and bmis.DEPARTMENTID=egdept.ID_DEPT and br.EXPENDITURETYPE='Salary'
 
		      {AND br.id='@1'}{AND br.BILLDATE  &gt;= '@2'} {AND br.BILLDATE  &lt;='@3'}
		      {AND bmis.MONTH = @4 }{AND bmis.DEPARTMENTID = @5 }
		      order by br.BILLDATE">
		      
		       		<parameter dataSource="billNo" isRequired="false"/>
		     		<parameter dataSource="billDateFrom" isRequired="false"/>
		     		<parameter dataSource="billDateTo" isRequired="false"/>
		     		<parameter dataSource="monthId" isRequired="false"/>
		     		<parameter dataSource="deptId" isRequired="false"/>
		</sqlTemplate>
		
  		<sqlTemplate id="salBillRegisterSearchModify" 
				     template="select distinct br.ID as &quot;colA&quot;,br.BILLNUMBER as &quot;colB&quot;,br.BILLDATE as &quot;colC&quot;,br.BILLAMOUNT as &quot;colG&quot;,
				     bmis.DEPARTMENTID as &quot;colD&quot;,egdept.DEPT_NAME as &quot;colE&quot;,
				     decode(bmis.MONTH,1,'January',2,'February',3,'March',4,'April',5,'May',6,'June',7,'July',8,'August',9,'September',10,'October',11,'November',12,'December') as &quot;colF&quot;,br.BILLSTATUS as &quot;colI&quot;
	 from eg_billregister br,eg_billregistermis bmis,eg_department egdept 				     	     
	 where bmis.BILLID=br.ID and bmis.DEPARTMENTID=egdept.ID_DEPT 
	 and br.EXPENDITURETYPE='Salary' and br.STATUSID =(select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Created'))

	 {AND br.id='@1'}{AND br.BILLDATE  &gt;= '@2'} {AND br.BILLDATE  &lt;='@3'}
	 {AND bmis.MONTH = @4 }{AND bmis.DEPARTMENTID = @5 }
				      order by br.BILLDATE">
				      
		<parameter dataSource="billNo" isRequired="false"/>
		<parameter dataSource="billDateFrom" isRequired="false"/>
		<parameter dataSource="billDateTo" isRequired="false"/>
		<parameter dataSource="monthId" isRequired="false"/>
		<parameter dataSource="deptId" isRequired="false"/>
	</sqlTemplate>
	
	<sqlTemplate id="getSalaryDetailsView"
				template="SELECT DISTINCT br.id AS &quot;bill_Id&quot;,br.BILLNUMBER AS &quot;salaryBill_Number&quot;,br.BILLDATE AS &quot;salaryBill_Date&quot;,br.BILLDATE AS &quot;oldbill_Date&quot;,br.STATUSID AS &quot;salaryBill_status&quot;,
	 bmis.MONTH AS &quot;month_id&quot;,bmis.FINANCIALYEARID AS &quot;financialYear_id&quot;,br.FIELDID AS &quot;field_name&quot;,bmis.DEPARTMENTID AS &quot;department_id&quot;,
	fucn.name AS &quot;function_code&quot;,ebill.functionid AS &quot;fnctionCodeId&quot;,br.BILLAMOUNT as &quot;netPay&quot;,bmis.FUNCTIONARYID as &quot;functionary_id&quot;             
                        
	 FROM eg_billregister br,eg_billregistermis bmis,eg_department edept,chartofaccounts ca,
	 eg_billdetails ebill left outer join FUNCTION fucn ON ebill.functionid=fucn.id
          
          WHERE 
			  	ebill.BILLID=br.ID 
			  
			  	AND bmis.BILLID=br.ID 
			  	AND bmis.DEPARTMENTID=edept.ID_DEPT
			  	AND br.EXPENDITURETYPE='Salary'
				AND ebill.BILLID='@1'
   				AND BMIS.DEPARTMENTID='@2' ">
	
				<parameter dataSource="billId" isRequired="true"/>
				<parameter dataSource="deptId" isRequired="true"/>
		</sqlTemplate>
		
	<sqlTemplate id="getEarningViewGrid"
		template=" SELECT DISTINCT  ebill.GLCODEID AS &quot;glCodeId_Earning&quot;, ca.GLCODE AS &quot;chartOfAccounts_glCodeearning&quot;,ca.NAME AS &quot;chartOfAccounts_nameearning&quot;,
 ebill.debitamount AS &quot;earningAmount&quot;,DECODE(ebill.GLCODEID,NULL,esal.head,'') AS &quot;salary_accountHeadEar&quot;,ebill.ID AS &quot;billDetailsId_Earning&quot; 
 
  FROM eg_billregister br, eg_billregistermis bmis,eg_salarycodes esal,eg_department edept,
  eg_billdetails ebill left outer join chartofaccounts ca ON ebill.GLCODEID=ca.ID
 
 WHERE 
   ebill.BILLID=br.ID 
   AND bmis.BILLID=br.ID 
   AND bmis.DEPARTMENTID=edept.ID_DEPT
   AND br.EXPENDITURETYPE='Salary'
    AND ebill.GLCODEID IS NOT NULL
    AND  ebill.debitAmount>0
   AND ebill.BILLID='@1'
   AND BMIS.DEPARTMENTID='@2' ">
		 	
		 	<parameter dataSource="billId" isRequired="true"/>
			<parameter dataSource="deptId" isRequired="true"/>
			
		</sqlTemplate>
				
<sqlTemplate id="getDeductionViewGrid"
		   template="SELECT DISTINCT ca.GLCODE AS &quot;chartOfAccounts_glCodeduction&quot;,ca.NAME AS &quot;chartOfAccounts_namededuction&quot;,ebill.GLCODEID AS &quot;glCodeId_Ded&quot;,
		ebill.creditamount AS &quot;deductionAmount&quot;,DECODE(ebill.GLCODEID ,NULL,esal.head,'') AS &quot;salary_accountHeadDed&quot;,ebill.ID AS &quot;billDetailsId_Deduction&quot;                        
                
                FROM eg_billregister br, eg_billregistermis bmis,eg_salarycodes esal,
                eg_department edept,eg_billdetails ebill left outer join chartofaccounts ca ON
	                ebill.GLCODEID=ca.ID
                   
                   WHERE 
				 ebill.BILLID=br.ID 
			 	 AND bmis.BILLID=br.ID 
			 	AND bmis.DEPARTMENTID=edept.ID_DEPT
			  	AND br.EXPENDITURETYPE='Salary'
		   		AND ebill.GLCODEID IS NOT NULL
			  	AND ebill.creditAmount>0
			  	AND ebill.GLCODEID not in(select id from chartofaccounts where purposeid in @3)
				AND ebill.BILLID='@1'
				AND BMIS.DEPARTMENTID='@2' ">
		   
		   <parameter dataSource="billId" isRequired="true"/>
		   <parameter dataSource="deptId" isRequired="true"/>
		   <parameter dataSource="salaryBillPurposeIds" isRequired="true"/>
	</sqlTemplate>
	
<sqlTemplate id="salBillRegApproveSearch" 
		
			template="select distinct br.ID as &quot;salary_billId&quot;,br.BILLNUMBER as &quot;colB&quot;,br.BILLDATE as &quot;colC&quot;,br.BILLAMOUNT as &quot;colG&quot;,
			bmis.DEPARTMENTID as &quot;colD&quot;,egdept.DEPT_NAME as &quot;colE&quot;,
			decode(bmis.MONTH,1,'January',2,'February',3,'March',4,'April',5,'May',6,'June',7,'July',8,'August',9,'September',10,'October',11,'November',12,'December') as &quot;colF&quot;
		
			from eg_billregister br left outer join eg_boundary ebndry on ebndry.ID_BNDRY=br.FIELDID,eg_billregistermis bmis,eg_department egdept 	
			where bmis.BILLID=br.ID and bmis.DEPARTMENTID=egdept.ID_DEPT 
			and br.EXPENDITURETYPE='Salary' 
			and br.STATUSID =(select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Created'))
			{AND br.BILLDATE  &gt;= '@1'} {AND br.BILLDATE  &lt;='@2'}
			{AND bmis.MONTH = @3 }{AND br.FIELDID = @4 }
			order by br.BILLDATE,egdept.DEPT_NAME">
		
			<parameter dataSource="billDateFrom" isRequired="false"/>
			<parameter dataSource="billDateTo" isRequired="false"/>
			<parameter dataSource="monthId" isRequired="false"/>
			<parameter dataSource="fieldId" isRequired="false"/>
						
</sqlTemplate>
<sqlTemplate id="billNoListForSalary"
		template="SELECT eg.id,eg.BILLNUMBER FROM EG_BILLREGISTER  eg 
	  	 
	  	 WHERE eg.STATUSID=(select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Approved'))
	  	 AND UPPER(EXPENDITURETYPE)=UPPER('Salary') ORDER BY eg.BILLNUMBER">
</sqlTemplate> 
<sqlTemplate id="billNoListForSalaryView"
		template="SELECT eg.id,eg.BILLNUMBER FROM EG_BILLREGISTER  eg 
	   	 WHERE eg.STATUSID in(select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Passed'),select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Paid'))
	  	 AND UPPER(EXPENDITURETYPE)=UPPER('Salary') ORDER BY eg.BILLNUMBER">
</sqlTemplate> 
<sqlTemplate id="billNoListForSalaryModify"
  	template="SELECT id,BILLNUMBER FROM eg_billregister
  	WHERE  STATUSID=(select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Approved'))
  	AND UPPER(EXPENDITURETYPE)=UPPER('Salary')
  	union
  	SELECT br.id,br.BILLNUMBER FROM eg_billregister br,voucherHeader vh,salaryBillDetail sbd
	WHERE vh.ID=sbd.VOUCHERHEADERID AND sbd.BILLID=br.id AND
	vh.cgn=(SELECT DECODE(vp.status,2,(SELECT cgn FROM voucherheader WHERE id=vp.originalvcid),vp.cgn) 
	FROM voucherheader vp WHERE vp.cgn='@1') ORDER BY BILLNUMBER">
					  	 
  	<parameter dataSource="cgNumber" isRequired="true" />
</sqlTemplate>
 
 <sqlTemplate id="getSalDetailsByBillId"				
	template="SELECT DISTINCT br.id as &quot;billid&quot;,
TO_CHAR(br.BILLDATE,'dd/mm/yyyy') AS &quot;salaryBill_Date&quot;, 
bmis.MONTH AS &quot;month_id&quot;,bmis.FINANCIALYEARID AS &quot;financialYear_id&quot;,
br.FIELDID AS &quot;field_name&quot;,bmis.DEPARTMENTID AS &quot;department_id&quot;,bmis.fundid as &quot;fund_id&quot;,bmis.fundsourceID as &quot;fundSource_id&quot;,  
br.BILLAMOUNT as &quot;netPay&quot;                           
FROM eg_billregister br,eg_billregistermis bmis,eg_billdetails ebill,eg_department edept
WHERE     
ebill.BILLID=br.ID   
AND bmis.BILLID=br.ID    
AND bmis.DEPARTMENTID=edept.ID_DEPT   
AND br.EXPENDITURETYPE='Salary'  
AND ebill.BILLID='@1'">
	
<parameter dataSource="billRegisterId" isRequired="true"/>
</sqlTemplate>
		
<sqlTemplate id="getSalEarningGridByBillId"
		
   template=" SELECT fucn.name AS &quot;function_code&quot;,  
		ebill.functionid AS &quot;cv_fromFunctionCodeId&quot;,  ca.GLCODE AS &quot;chartOfAccounts_glCodeearning&quot;,  
		ca.NAME AS &quot;chartOfAccounts_nameearning&quot;,  ebill.debitamount AS &quot;earningAmount&quot;     
		 FROM    eg_billregister br,  eg_billregistermis bmis,  
		   eg_department edept,  chartofaccounts ca, eg_billdetails ebill left outer join
		    FUNCTION fucn ON ebill.functionid=fucn.id      WHERE     ebill.BILLID=br.ID   AND
			 EBILL.debitaMOUNT &gt; 0      and  ebill.glcodeid=ca.id AND bmis.BILLID=br.ID  
	  AND bmis.DEPARTMENTID=edept.ID_DEPT  AND br.EXPENDITURETYPE='Salary' and    ebill.GLCODEID IS NOT NULL  AND ebill.BILLID='@1' ">		 	
<parameter dataSource="billRegisterId" isRequired="true"/>
			
</sqlTemplate>
				
<sqlTemplate id="getSalDeductionGridByBillId"

template="SELECT fucn.name AS &quot;function_code1&quot;,  
	  ebill.functionid AS &quot;cv_fromFunctionCodeId1&quot;,  ca.GLCODE AS &quot;chartOfAccounts_glCodeduction&quot;,  
	  ca.NAME AS &quot;chartOfAccounts_namededuction&quot;,    ebill.creditamount AS &quot;deductionAmount&quot;, ebill.debitamount AS &quot;earningAmount&quot;       
	   FROM    eg_billregister br,  eg_billregistermis bmis,  
	     eg_department edept,  chartofaccounts ca, eg_billdetails ebill left outer join
	      FUNCTION fucn ON ebill.functionid=fucn.id      WHERE     ebill.BILLID=br.ID   AND
	  	 EBILL.CREDITaMOUNT &gt; 0      and  ebill.glcodeid=ca.id AND bmis.BILLID=br.ID  
	  	  AND bmis.DEPARTMENTID=edept.ID_DEPT  AND br.EXPENDITURETYPE='Salary' and    ebill.GLCODEID IS NOT NULL AND  ebill.glcodeid not in (select id from chartofaccounts where purposeid in @1)  AND ebill.BILLID='@2' " >		   
		  
		  <parameter dataSource="salaryBillPurposeIds" isRequired="true"/>
		  <parameter dataSource="billRegisterId" isRequired="true"/>
</sqlTemplate>





<!-- added for get Current Database Date -->
<sqlTemplate id="getCurrentDatabaseDate"
		template="select to_char(sysdate,'dd/MM/yyyy') AS &quot;databaseDate&quot; from dual">				
</sqlTemplate>	
	
	
	
 		
			<sqlTemplate id="getPayInSlipDetails"
				template="select vh.cgn as &quot;cgnNum&quot;,vh.cgvn As &quot;voucherHeader_cgn&quot;,cd.payInSlipNumber AS &quot;chequeDetail_payInSlipNumber&quot;,payInSlipDate AS &quot;chequeDetail_payInSlipDate&quot;,vh.id AS &quot;voucherHeader_id&quot;,
						CONCAT(CONCAT(cd.bankId, '-') ,cd.branchID) AS  &quot;bank_id&quot;,cd.branchID AS &quot;branchId&quot;,cd.accountnumberID AS &quot;accountList&quot;,vd.narration AS &quot;voucherDetail_narration&quot;,f.name as &quot;Fund_name&quot;,
						f.id as &quot;Fund_id&quot;,vh.fundsourceID as &quot;fundSource_id&quot;,egv.divisionid AS &quot;field_name&quot;,egv.schemeid AS &quot;scheme&quot;,egv.functionaryid as &quot;functionary&quot;, egv.departmentid as &quot;department&quot;
						from voucherHeader vh,voucherDetail vd,chequeDetail cd,fund f,bankAccount ba ,vouchermis egv
						where vh.id=vd.voucherHeaderId and vh.voucherNumber=cd.payInSlipNumber 
						and vh.fundid=f.id and cd.accountNumberId=ba.id and vh.cgn='@1'AND egv.VOUCHERHEADERID =vh.id
						union
						select vh.cgn as &quot;cgnNum&quot;,vh.cgvn As &quot;voucherHeader_cgn&quot;,cd.payInSlipNumber AS &quot;chequeDetail_payInSlipNumber&quot;,payInSlipDate AS &quot;chequeDetail_payInSlipDate&quot;,vh.id AS &quot;voucherHeader_id&quot;,
						CONCAT(CONCAT(cd.bankId, '-') ,cd.branchID) AS  &quot;bank_id&quot;,cd.branchID AS &quot;branchId&quot;,cd.accountnumberID AS &quot;accountList&quot;,vd.narration AS &quot;voucherDetail_narration&quot;,
						f.name as &quot;Fund_name&quot;,f.id as &quot;Fund_id&quot;,vh.fundsourceID as &quot;fundSource_id&quot;,egv.divisionid AS &quot;field_name&quot;,egv.schemeid AS &quot;scheme&quot;,egv.functionaryid as &quot;functionary&quot;, egv.departmentid as &quot;department&quot;
						from voucherHeader vh,voucherDetail vd,vouchermis egv,
						chequeDetail cd,fund f,bankAccount ba, voucherheader vh1   where vh.ORIGINALVCID=vh1.id  and vh.id=vd.voucherHeaderId and 
		 				vh1.voucherNumber=cd.payInSlipNumber and cd.receiptdate=vh1.voucherdate and vh.fundid=f.id and  egv.VOUCHERHEADERID =vh.id AND cd.accountNumberId=ba.id {and vh.cgn='@2'}">
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="false" />
			</sqlTemplate>

			<sqlTemplate id="getchqId"
				template="select ca.glCode AS &quot;org_chequeInHandId&quot;  from organizationStructure org, chartOfAccounts ca ,eg_user egu
						where   org.id=egu.regionid and egu.id_user=@1 and ca.id=org.chequeInHand">
					<parameter dataSource="egUser_id" isRequired="true" />
			</sqlTemplate>
			
		<sqlTemplate id="getGeneralDetails" template="select egv.divisionid AS &quot;field_name&quot;,vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
						vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.description AS &quot;voucherHeader_description&quot;,vh.id as &quot;voucherHeader_id&quot;,
						vh.fundid as &quot;fund_id&quot;,vh.fundSourceid as &quot;fundSource_id&quot;,vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;,vh.createdby as &quot;voucherHeader_createdbyId&quot;,eu.user_name as &quot;voucherHeader_createdby&quot;,(select id from SCHEME where id=egv.SCHEMEID) AS &quot;scheme&quot;,(select id from SUB_SCHEME where id=egv.SUBSCHEMEID) AS &quot;subscheme&quot; 
						,egv.departmentid as &quot;department&quot;,egv.functionaryid as &quot;functionary&quot; from vouchermis egv ,voucherheader vh left join EG_USER eu ON vh.createdby=eu.id_user where  vh.cgn='@1'  AND  vh.ID=egv.VOUCHERHEADERID ">
				<parameter dataSource="cgNumber" isRequired="true"/>
			</sqlTemplate>

			<sqlTemplate id="getBTBDetails"
						template="select egv.departmentid as &quot;departmentId&quot;,egv.functionaryid as &quot;functionaryId&quot;,egv.divisionid AS &quot;field_name&quot;,vh.cgn AS &quot;cgnNum&quot;, vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
								vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.fundId AS &quot;fund_id&quot;,vh.fundSourceId AS &quot;fundSource_id&quot;,c.chequetype AS &quot;cv_fromchq&quot;,
								cv.FromBankBranchID AS &quot;cv_fromBankId&quot; ,cv.fromBankAccountId AS &quot;cv_fromBankAccountId&quot;,vh.id AS &quot;voucherHeader_id&quot;,
								cv.toBankBranchID AS &quot;cv_toBankId&quot;,cv.toBankAccountId AS &quot;cv_toBankAccountId&quot;,
								cv.fromChequeNumber AS &quot;cv_fromChequeNumber&quot;,cv.fromChequeDate AS &quot;cv_fromchequeDate&quot;,cv.narration AS &quot;cv_narration&quot;, vd.debitAmount AS &quot;chequeAmount&quot;,(select id from SCHEME where id=egv.SCHEMEID) AS &quot;scheme&quot;,(select id from SUB_SCHEME where id=egv.SUBSCHEMEID) AS &quot;subscheme&quot;   
								from VOUCHERMIS egv,ContraJournalVoucher  cv, voucherHeader vh,voucherDetail vd ,chequedetail c
								where cv.voucherHeaderId=vh.id and egv.voucherheaderid = vh.ID and vd.voucherHeaderid=vh.id and c.voucherheaderid=vh.id and vd.debitAmount!=0 and  vh.cgn='@1'
								union
								select egv.departmentid as &quot;departmentId&quot;,egv.functionaryid as &quot;functionaryId&quot;, egv.divisionid AS &quot;field_name&quot;,vh.cgn AS &quot;cgnNum&quot;, vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
								vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.fundId AS &quot;fund_id&quot;,vh.fundSourceId AS &quot;fundSource_id&quot;,c.chequetype AS &quot;cv_fromchq&quot;,
								cv.FromBankBranchID AS &quot;cv_fromBankId&quot; ,cv.fromBankAccountId AS &quot;cv_fromBankAccountId&quot;,vh.id AS &quot;voucherHeader_id&quot;,
								cv.toBankBranchID AS &quot;cv_toBankId&quot;,cv.toBankAccountId AS &quot;cv_toBankAccountId&quot;,
								cv.fromChequeNumber AS &quot;cv_fromChequeNumber&quot;,cv.fromChequeDate AS &quot;cv_fromchequeDate&quot;,cv.narration AS &quot;cv_narration&quot;, vd.debitAmount AS &quot;chequeAmount&quot;,(select  id from SCHEME where id=egv.SCHEMEID) AS &quot;scheme&quot;,(select id from SUB_SCHEME where id=egv.SUBSCHEMEID) AS &quot;subscheme&quot;   
								from VOUCHERMIS egv,ContraJournalVoucher  cv, voucherHeader vh,voucherDetail vd ,chequedetail c
								where cv.voucherHeaderId=vh.originalvcid and egv.voucherheaderid = vh.ID and vd.voucherHeaderid=vh.id and vd.debitAmount!=0 and  {vh.cgn='@2'}">
			        <parameter dataSource="cgNumber" isRequired="true" />
			        <parameter dataSource="cgNumber" isRequired="false" />
		    </sqlTemplate>
			<sqlTemplate id="getchqDetail"
				template="select payInSlipNumber as &quot;vNumber&quot;, id AS &quot;chequeDetail_Id&quot;,
						chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,chequeNumber AS &quot;chequeNumber&quot;,
						chequeDate AS &quot;chequeDetail_chequeDate&quot;,chequeDate AS &quot;chequeDate&quot;,
						receiptDate AS &quot;chequeDetail_receiptDate&quot;,amount AS &quot;chequeDetail_amount&quot;,isDeposited AS &quot;selectChq&quot;,
						(SELECT name FROM  fundsource WHERE id=(select fundsourceid from voucherheader where cgn='@1')) as &quot;FundSrcName&quot;
						from chequeDetail where payInSlipNumber=(select voucherNumber from voucherHeader where cgn='@2')">
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
		
		<sqlTemplate id="getchqDetailNew"
				template="select v.vouchernumber as &quot;vNumber&quot;, c.id AS &quot;chequeDetail_Id&quot;,
						chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,chequeNumber AS &quot;chequeNumber&quot;,
						chequeDate AS &quot;chequeDetail_chequeDate&quot;,chequeDate AS &quot;chequeDate&quot;,
						receiptDate AS &quot;chequeDetail_receiptDate&quot;,amount AS &quot;chequeDetail_amount&quot;,isDeposited AS &quot;selectChq&quot;,
						(SELECT name FROM  fundsource WHERE id=(select fundsourceid from voucherheader where cgn='@1')) as &quot;FundSrcName&quot;,v.fiscalperiodid as &quot;fiscalPeriodId&quot;
						from chequeDetail c, voucherheader v  where v.id=c.voucherheaderid and payInSlipNumber=(select voucherNumber from voucherHeader where cgn='@2')">
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			
			
			

		<sqlTemplate id="getBTCDetails"
						template="select egv.departmentid as &quot;departmentId&quot;,egv.functionaryid as &quot;functionaryId&quot;, egv.divisionid AS &quot;field_name&quot; ,vh.cgn AS &quot;cgnNum&quot;, vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
								vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.fundId AS &quot;fund_id&quot;,vh.fundSourceId AS &quot;fundSource_id&quot;,
								fd.name as &quot;fund_name&quot;,decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) as &quot;fundSource_name&quot;,
								ca.glcode AS &quot;chartOfAccounts_code&quot;,ca.id AS &quot;cv_toCashNameId&quot;,
								cv.FromBankBranchID AS &quot;cv_fromBankId&quot; ,cv.fromBankAccountId AS &quot;cv_fromBankAccountId&quot;,
								cv.fromChequeNumber AS &quot;cv_fromChequeNumber&quot;,cv.fromChequeDate AS &quot;cv_fromchequeDate&quot;,cv.narration AS &quot;cv_narration&quot;, vd.debitAmount AS &quot;chequeAmount&quot;,vh.id as &quot;voucherHeader_id&quot;,(select id from scheme where id=egv.schemeid) as &quot;scheme&quot;,(select id from sub_scheme where id=egv.subschemeid) as &quot;subscheme&quot; 
								from VOUCHERMIS egv,ContraJournalVoucher  cv, voucherHeader vh,voucherDetail vd ,chartOfAccounts ca,fund fd
								where cv.voucherHeaderId=vh.id  and egv.voucherheaderid = vh.ID AND vd.voucherHeaderid=vh.id and vd.debitAmount!=0 and  ca.id=cv.toCashNameid and
								fd.id=vh.fundid and vh.cgn='@1'
								union
								select egv.departmentid as &quot;departmentId&quot;,egv.functionaryid as &quot;functionaryId&quot;, egv.divisionid AS &quot;field_name&quot; , vh.cgn AS &quot;cgnNum&quot;, vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
								vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.fundId AS &quot;fund_id&quot;,vh.fundSourceId AS &quot;fundSource_id&quot;,
								fd.name as &quot;fund_name&quot;,decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) as &quot;fundSource_name&quot;,
								ca.glcode AS &quot;chartOfAccounts_code&quot;,ca.id AS &quot;cv_toCashNameId&quot;,
								cv.FromBankBranchID AS &quot;cv_fromBankId&quot; ,cv.fromBankAccountId AS &quot;cv_fromBankAccountId&quot;,
								cv.fromChequeNumber AS &quot;cv_fromChequeNumber&quot;,cv.fromChequeDate AS &quot;cv_fromchequeDate&quot;,cv.narration AS &quot;cv_narration&quot;, vd.debitAmount AS &quot;chequeAmount&quot;,vh.id as &quot;voucherHeader_id&quot;,(select id from scheme where id=egv.schemeid) as &quot;scheme&quot;,(select id from sub_scheme where id=egv.subschemeid) as &quot;subscheme&quot; 
								from VOUCHERMIS egv,ContraJournalVoucher  cv, voucherHeader vh,voucherDetail vd ,chartOfAccounts ca,fund fd
								where cv.voucherHeaderId=vh.originalvcid  and egv.voucherheaderid = vh.ID AND vd.voucherHeaderid=vh.id and vd.debitAmount!=0 and  ca.id=cv.toCashNameid and
								fd.id=vh.fundid {and  vh.cgn='@2'}">
							<parameter dataSource="cgNumber" isRequired="true" />
							<parameter dataSource="cgNumber" isRequired="false" />
			</sqlTemplate>
			
			<sqlTemplate id="getCTBDetails"
						template="select evm.departmentid as &quot;departmentId&quot;,evm.functionaryid as &quot;functionaryId&quot;,evm.divisionid as &quot;field_name&quot; ,vh.cgn AS &quot;cgnNum&quot;, vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
								vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.fundId AS &quot;fund_id&quot;,vh.fundSourceId AS &quot;fundSource_id&quot;,ca.glcode AS &quot;chartOfAccounts_code&quot;,ca.id AS &quot;cv_fromCashNameId&quot;,
								fd.name as &quot;fund_name&quot;,decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) as &quot;fundSource_name&quot;,
								cv.toBankBranchID AS &quot;cv_toBankId&quot; ,cv.toBankAccountId AS &quot;cv_toBankAccountId&quot;,
								cv.narration AS &quot;cv_narration&quot;, vd.debitAmount AS &quot;cashAmount&quot;,vh.id as &quot;voucherHeader_id&quot;,(select id from scheme where id=evm.schemeid) as &quot;scheme&quot;,(select id from sub_scheme where id=evm.subschemeid) as &quot;subscheme&quot; 
								from vouchermis evm,ContraJournalVoucher  cv, voucherHeader vh,voucherDetail vd ,chartOfAccounts ca ,fund fd
								where evm.voucherheaderid=vh.id and cv.voucherHeaderId=vh.id  and vd.voucherHeaderid=vh.id and vd.debitAmount!=0 and  ca.id=cv.fromCashNameid and  fd.id=vh.fundid and vh.cgn='@1'
								union
								select evm.departmentid as &quot;departmentId&quot;,evm.functionaryid as &quot;functionaryId&quot;,evm.divisionid as &quot;field_name&quot; , vh.cgn AS &quot;cgnNum&quot;, vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
								vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.fundId AS &quot;fund_id&quot;,vh.fundSourceId AS &quot;fundSource_id&quot;,ca.glcode AS &quot;chartOfAccounts_code&quot;,ca.id AS &quot;cv_fromCashNameId&quot;,
								fd.name as &quot;fund_name&quot;,decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) as &quot;fundSource_name&quot;,
								cv.toBankBranchID AS &quot;cv_toBankId&quot; ,cv.toBankAccountId AS &quot;cv_toBankAccountId&quot;,
								cv.narration AS &quot;cv_narration&quot;, vd.debitAmount AS &quot;cashAmount&quot;,vh.id as &quot;voucherHeader_id&quot;,(select id from scheme where id=evm.schemeid) as &quot;scheme&quot;,(select id from sub_scheme where id=evm.subschemeid) as &quot;subscheme&quot; 
								from vouchermis evm,ContraJournalVoucher  cv, voucherHeader vh,voucherDetail vd ,chartOfAccounts ca ,fund fd
								where  evm.voucherheaderid=vh.id and cv.voucherHeaderId=vh.originalvcid  and vd.voucherHeaderid=vh.id and vd.debitAmount!=0 and  ca.id=cv.fromCashNameid and  fd.id=vh.fundid {and vh.cgn='@2'}">
							<parameter dataSource="cgNumber" isRequired="true" />
							<parameter dataSource="cgNumber" isRequired="false" />
			</sqlTemplate>
			
			<sqlTemplate id="getFTFDetails"
						template="select distinct vh.cgn AS &quot;cgnNum&quot;,vh.refcgno AS &quot;cgnNum1&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh1.cgvn AS &quot;jv_cgn&quot;,vh.voucherNumber AS &quot;cv_fromVoucherId&quot;,vh1.voucherNumber AS &quot;cv_toVoucherId&quot;,
								vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,cv.fromFundId AS &quot;cv_fromFundId&quot;,cv.toFundId AS &quot;cv_toFundId&quot;, cv.fromBankId AS &quot;cv_fromBankId&quot;, cv.toBankId AS &quot;cv_toBankId&quot;,
								cv.fromBankAccountId AS &quot;cv_fromBankAccountId&quot;,cv.toBankAccountId AS &quot;cv_toBankAccountId&quot;,fs.name AS &quot;fundSource_id&quot;,cd.chequenumber AS &quot;chequeno&quot;,cd.chequedate AS &quot;chequedate&quot;,cv.narration AS &quot;cv_narration&quot;, vd.creditAmount AS &quot;amount&quot;,
								(select branchid from bankaccount where id=cv.fromBankAccountId) as &quot;branchId&quot;,
				cv.fromFundId as &quot;fundValue&quot;, 
				(select branchid from bankaccount where id=cv.toBankAccountId) as &quot;branchIdT&quot;,
				cv.toFundId as &quot;fundValueT&quot; 
								from ContraJournalVoucher  cv, voucherHeader vh, voucherheader vh1, chequedetail cd, voucherDetail vd, fundsource fs
								where cv.voucherHeaderId=vh.id  and vd.voucherHeaderid=vh.id and cd.chequenumber=cv.fromchequenumber and vd.creditAmount>0 and  vh.cgn='@1'  and vh.fundsourceid=fs.id and vh.refcgno=vh1.cgn">
							<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="jvFund"
				template="select detailkeyid as &quot;fund_id&quot; from generalLedgerDetail a,generalLedger b where 
				a.generalLedgerid=b.id and b.voucherHeaderid in (select id from voucherheader where cgn='@1') and DETAILTYPEID=3">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="jvDepartment"
				template="select detailkeyid as &quot;department_id&quot; from generalLedgerDetail a,generalLedger b where 
				a.generalLedgerid=b.id and b.voucherHeaderid in (select id from voucherheader where cgn='@1') and DETAILTYPEID=4">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="jvBillCollector"
				template="select detailkeyid as &quot;billCollector_id&quot; from generalLedgerDetail a,generalLedger b where 
				a.generalLedgerid=b.id and b.voucherHeaderid in (select id from voucherheader where cgn='@1') and DETAILTYPEID=11">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="jvRelation"
				template="select detailkeyid as &quot;relation_id&quot; from generalLedgerDetail a,generalLedger b where 
				a.generalLedgerid=b.id and b.voucherHeaderid in (select id from voucherheader where cgn='@1') and DETAILTYPEID=9">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="jvAsset"
				template="select detailkeyid as &quot;assets_id&quot; from generalLedgerDetail a,generalLedger b where 
				a.generalLedgerid=b.id and b.voucherHeaderid in (select id from voucherheader where cgn='@1') and DETAILTYPEID=8">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="jvFinancialYear"
				template="select detailkeyid as &quot;financialYear_id&quot; from generalLedgerDetail a,generalLedger b where 
				a.generalLedgerid=b.id and b.voucherHeaderid in (select id from voucherheader where cgn='@1') and DETAILTYPEID=7">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="jvWard"
				template="select detailkeyid as &quot;organizationStructure_id&quot; from generalLedgerDetail a,generalLedger b where 
				a.generalLedgerid=b.id and b.voucherHeaderid in (select id from voucherheader where cgn='@1') and DETAILTYPEID=2">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>	
			<sqlTemplate id="jvMonth"
				template="select detailkeyid as &quot;month_id&quot; from generalLedgerDetail a,generalLedger b where 
				a.generalLedgerid=b.id and b.voucherHeaderid in (select id from voucherheader where cgn='@1') and DETAILTYPEID=12">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="jvWorksDetail"
				template="select detailkeyid as &quot;worksDetail_id&quot; from generalLedgerDetail a,generalLedger b where 
				a.generalLedgerid=b.id and b.voucherHeaderid in (select id from voucherheader where cgn='@1') and DETAILTYPEID=10">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
		
			<sqlTemplate id="fundMapping"
					template="SELECT a.name as &quot;fund_name&quot;,a.id as &quot;fund_id&quot; FROM fund a,bankaccount b where b.fundid=a.id and b.id=@1">
					<parameter dataSource="bankIdForFund" isRequired="true" />			
			</sqlTemplate>
			<sqlTemplate id="fundMapping1"
								template="SELECT a.name as &quot;fund1_name&quot;,a.id as &quot;fund1_id&quot; FROM fund a,bankaccount b where b.fundid=a.id and b.id=@1">
								<parameter dataSource="bankIdForFund" isRequired="true" />			
			</sqlTemplate>
			<sqlTemplate id="workFundMap"
					template="SELECT a.name as &quot;fund_name&quot;,a.id as &quot;fund_id&quot; FROM fund a,worksdetail b where b.fundid=a.id and b.id in(@1)">
					<parameter dataSource="workOrderID" isRequired="true" />			
			</sqlTemplate>
			<sqlTemplate  id="bankListByFund" 
				template="Select bankbranch.ID  , bank.name||bankbranch.branchName  
							FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId  and bank.fundid=(select fundid from worksdetail where id=@1)"> 
				<parameter dataSource="workOrderID" isRequired="true" />			
			</sqlTemplate>	
		
			<sqlTemplate  id="bankListWithFund" 
				template="Select bankbranch.ID  , bank.name||bankbranch.branchName  
							FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId  {and bankBranch.id in(select branchid from bankaccount where fundid=@1)} order by 2"> 
				<parameter dataSource="fundValue" isRequired="false" />			
			</sqlTemplate>	
		
			<sqlTemplate  id="bankAndBranch9" 
				template="SELECT  CONCAT(CONCAT(bankBranch.bankId, '-'),bankBranch.ID) as &quot;Expr1&quot;,concat(concat(bank.name , ' '),bankBranch.branchName) as &quot;Expr2&quot;
							FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId {and bankBranch.id in(select branchid from bankaccount where fundid=@1)}"> 
			<parameter dataSource="fundValue5"  isRequired="false"/>
				</sqlTemplate>	
			
		
		
			<sqlTemplate  id="bankFundFromPO" 
			          template="Select  bankBranch.ID  ,concat(concat(bank.name , ' '),bankBranch.branchName) 
			             FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and 
			             bank.ID = bankBranch.bankId order by lower(bank.name)">  
         </sqlTemplate>

			
			<sqlTemplate  id="bankFundFromPOWH" 
				template="Select 	bank.id||'-'||bankBranch.ID  ,concat(concat(bank.name , ' '),bankBranch.branchName) 
							FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and 
							bank.ID = bankBranch.bankId  and bankbranch.id in (select a.branchid from bankaccount a,worksdetail b
							where a.fundid=b.fundid and b.id in(@1)) order by 2"> 
				<parameter dataSource="workOrderID" isRequired="true" />			
			</sqlTemplate>	
			
		
			<sqlTemplate  id="getAccEntities" template="select a.id as &quot;id&quot;,a.name as &quot;name&quot;,a.tablename as &quot;tablename&quot; from accountdetailtype a,chartofaccountdetail b,chartofaccounts c where
				c.id=b.glcodeid and b.detailtypeid=a.id 
				{AND  a.attributename NOT IN (SELECT controlname FROM screencontrols WHERE screenname='@2')} 
				and c.glcode='@1' order by a.id"> 
				<parameter dataSource="accCode" isRequired="true"/>
				<parameter dataSource="screenName" isRequired="false"/>			
			</sqlTemplate>	
			<sqlTemplate  id="getAccEntitiesData" template="select id,@2 from @1 where isactive=1 {and detailtypeid=@3}"> 
				<parameter dataSource="tableName" isRequired="true"/>
				<parameter dataSource="columnName" isRequired="true"/>						
				<parameter dataSource="detTypeID" isRequired="false"/>
			</sqlTemplate>	
		
			<sqlTemplate  id="getMonthEntityData" template="
		select 1,&quot;January&quot; from dual union
		select 2,&quot;February&quot; from dual union
		select 3,&quot;March&quot; from dual union
		select 4,&quot;April&quot; from dual union
		select 5,&quot;May&quot; from dual union
		select 6,&quot;June&quot; from dual union
		select 7,&quot;July&quot; from dual union
		select 8,&quot;August&quot; from dual union
		select 9,&quot;September&quot; from dual union
		select 10,&quot;October&quot; from dual union
		select 11,&quot;November&quot; from dual union
		select 12,&quot;December&quot; from dual ">
		 </sqlTemplate>	
		
			<sqlTemplate id="getSubCodesFor"
				template="select id,name from accountDetailType where tableName='accountEntityMaster'">
			</sqlTemplate>
			<sqlTemplate id="getSubCodes"
				template="select code AS &quot;accountEntityMaster_code&quot;,name AS &quot;accountEntityMaster_name&quot;
						 from accountEntityMaster where detailTypeId=@1">
				<parameter dataSource="detailTypeId" isRequired="true" />
			</sqlTemplate>
			
			<sqlTemplate id="subCodesModData"
				template="select id AS &quot;ID&quot;,code AS &quot;code&quot;,name AS &quot;name&quot;,narration AS &quot;narration&quot;,
						detailTypeId AS &quot;detailTypeId&quot;,lastModified AS &quot;lastModified&quot;,isActive AS &quot;isActive&quot;
						 from accountEntityMaster where code='@1'">
				<parameter dataSource="subCode" isRequired="true" />
			</sqlTemplate>

		<sqlTemplate id="cashPaymentSearch"
				template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(m.amount) as 
				 &quot;billAmount&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;, sum(m.passedamount) as &quot;passedAmount&quot;,
				  m.paidto as &quot;paidTo&quot; 
				  from voucherHeader v,paymentheader p, miscbilldetail m  
				  where  v.status!=4 and m.id=p.miscbilldetailid and v.id=p.voucherHeaderId 
				  and m.BILLVHID is null and p.type ='@1' {AND v.voucherDate &gt;= '@2'} {AND v.voucherDate &lt;='@3'} {AND v.voucherNumber like '%' || '@4' || '%' } {AND v.fundid = @5 } {AND v.status='@6'} {AND v.isconfirmed='@7'} 
				group by cgn,voucherNumber,voucherDate,v.status,isConfirmed,m.paidto 
				union
				select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,sum(m.amount) as 
				 &quot;billAmount&quot;, decode(mv.status,0,decode(mv.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;status&quot;, sum(m.passedamount) as &quot;passedAmount&quot;,
				  m.paidto as &quot;paidTo&quot; 
				  from voucherHeader v,voucherheader mv,paymentheader p, miscbilldetail m  
				  where v.status!=4 and m.id=p.miscbilldetailid and v.id=p.voucherHeaderId and  mv.originalvcid=v.id 
				  and m.BILLVHID is null and p.type ='@8' {AND v.voucherDate &gt;= '@9'} {AND v.voucherDate &lt;='@10'} {AND v.voucherNumber like '%' || '@11' || '%' } {AND v.fundid = @12 }  {AND v.status='@13'} {AND v.isconfirmed='@14'} 
				group by mv.cgn,mv.voucherNumber,mv.voucherDate,mv.status,mv.isConfirmed,m.paidto ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot;">		
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
			</sqlTemplate>
		
		<sqlTemplate id="bankPaymentSearch"
				template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;, 
				  max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;, sum(m.passedamount) as &quot;passedAmount&quot;,
				  m.paidto as &quot;paidTo&quot;, 0 as &quot;billAmount&quot;
				  from voucherHeader v, paymentheader p, chequeDetail c,miscbilldetail m  
				 where v.status!=4 and m.id=p.miscbilldetailid and v.id=p.voucherHeaderId 
				 AND c.id=p.chequeid AND   p.chequeId >0 and m.BILLVHID is null  
				 and p.type ='@1' {AND v.voucherDate &gt;= '@2'} {AND v.voucherDate &lt;='@3'} {AND v.voucherNumber like '%' || '@4' || '%' } {AND v.fundid =@5 } {AND v.status='@6'} {AND v.isconfirmed='@7'} 
				group by cgn,voucherNumber,voucherDate,v.status,isConfirmed,m.paidto 
				union
				select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;, 
				  max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(mv.status,0,decode(mv.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;status&quot;, sum(m.passedamount) as &quot;passedAmount&quot;,
				  m.paidto as &quot;paidTo&quot;, 0 as &quot;billAmount&quot; 
				  from voucherHeader v,voucherheader mv,paymentheader p, chequeDetail c,miscbilldetail m  
				  where v.status!=4 and m.id=p.miscbilldetailid and v.id=p.voucherHeaderId 
				 AND c.id=p.chequeid AND   p.chequeId >0 and  mv.originalvcid=v.id and m.BILLVHID is null 
				 and p.type ='@8' {AND v.voucherDate &gt;= '@9'} {AND v.voucherDate &lt;='@10'} {AND v.voucherNumber like '%' || '@11' || '%' } {AND v.fundid =@12 }{AND v.status='@13'} {AND v.isconfirmed='@14'} 
				group by mv.cgn,mv.voucherNumber,mv.voucherDate,mv.status,mv.isConfirmed,m.paidto  ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot;">		
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
		</sqlTemplate>
		
		
		<sqlTemplate id="bankEntrySearch"
				template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;, 
				  rec.chequeNumber as &quot;chequeNumber&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;, m.passedamount as &quot;passedAmount&quot;,
				  m.paidto as &quot;paidTo&quot;, 0 as &quot;billAmount&quot; 
				  from voucherHeader v,paymentheader p, bankreconciliation rec,miscbilldetail m  
				  where v.status!=4 and m.id=p.miscbilldetailid and v.id=p.voucherHeaderId  and v.id=rec.voucherHeaderId AND  p.chequeId is null and
				 p.type ='@1' {AND v.voucherDate &gt;= '@2'} {AND v.voucherDate &lt;='@3'} {AND v.voucherNumber like '%' || '@4' || '%' } {AND v.fundid =@5} {AND v.status='@6'} {AND v.isconfirmed='@7'} 
				union
				select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;, 
				 rec.chequeNumber as &quot;chequeNumber&quot;, decode(mv.status,0,decode(mv.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;status&quot;, m.passedamount as &quot;passedAmount&quot;,
				  m.paidto as &quot;paidTo&quot;, 0 as &quot;billAmount&quot; 
				  from voucherHeader v,voucherheader mv,paymentheader p, bankreconciliation rec,miscbilldetail m  
				  where v.status!=4 and m.id=p.miscbilldetailid and v.id=p.voucherHeaderId 
				 and v.id=rec.voucherHeaderId AND  p.chequeId is null and  mv.originalvcid=v.id and 
				 p.type ='@8' {AND v.voucherDate &gt;= '@9'} {AND v.voucherDate &lt;='@10'} {AND v.voucherNumber like '%' || '@11' || '%' } {AND v.fundid =@12} {AND v.status='@13'} {AND v.isconfirmed='@14'} 
				 ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot;">		
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
		</sqlTemplate>
		
		<sqlTemplate id="advancePaymentSearch"
				template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(p.paidamount) as 
				 &quot;paidAmount&quot;, max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;
				  from voucherHeader v,subledgerpaymentheader p, chequeDetail c  
				  where  v.status!=4 and v.id=p.voucherHeaderId 
				 AND c.id=p.chequeid AND   p.chequeId >0 and
				 p.type ='@1' {AND v.voucherDate &gt;= '@2'} {AND v.voucherDate &lt;='@3'} {AND v.voucherNumber like '%' || '@4' || '%' } {AND v.fundid = @5 } {AND v.status='@6'} {AND v.isconfirmed='@7'} 
				group by cgn,voucherNumber,voucherDate,v.status,isConfirmed 
				union
				select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,sum(p.paidamount) as 
				 &quot;paidAmount&quot;, max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(mv.status,0,decode(mv.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;status&quot;
				  from voucherHeader v, voucherheader mv,subledgerpaymentheader p, chequeDetail c  
				  where v.status!=4 and  v.id=p.voucherHeaderId 
				 AND c.id=p.chequeid AND   p.chequeId >0 and mv.originalvcid=v.id and 
				 p.type ='@8' {AND v.voucherDate &gt;= '@9'} {AND v.voucherDate &lt;='@10'} {AND v.voucherNumber like '%' || '@11' || '%' } {AND v.fundid = @12 } {AND v.status='@13'} {AND v.isconfirmed='@14'} 
				group by mv.cgn,mv.voucherNumber,mv.voucherDate,mv.status,mv.isConfirmed ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot;">		
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
			</sqlTemplate>
		
		<sqlTemplate id="salaryPaymentSearch"
				template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(p.paidamount) as 
				 &quot;paidAmount&quot;, max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;
				  from voucherHeader v,subledgerpaymentheader p, chequeDetail c  
				  where  v.status!=4 and v.id=p.voucherHeaderId  AND c.id=p.chequeid AND   p.chequeId >0 and
				 p.type ='@1' {AND v.voucherDate &gt;= '@2'} {AND v.voucherDate &lt;='@3'} {AND v.voucherNumber like '%' || '@4' || '%' } {AND v.fundid = @5 } {AND v.status='@6'} {AND v.isconfirmed='@7'} 
				group by cgn,voucherNumber,voucherDate,v.status,isConfirmed
				union
				select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(p.paidamount) as 
				 &quot;paidAmount&quot;, max('Cash') as &quot;chequeNumber&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;
				  from voucherHeader v,subledgerpaymentheader p  
				  where v.status!=4 and  v.id=p.voucherHeaderId  and  p.chequeId is null and
				 p.type ='@8' {AND v.voucherDate &gt;= '@9'} {AND v.voucherDate &lt;='@10'} {AND v.voucherNumber like '%' || '@11' || '%' } {AND v.fundid = @12 } {AND v.status='@13'} {AND v.isconfirmed='@14'} 
				group by cgn,voucherNumber,voucherDate,v.status,isConfirmed
				union
				select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,sum(p.paidamount) as 
				 &quot;paidAmount&quot;, max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(mv.status,0,decode(mv.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;status&quot;
				  from voucherHeader v,voucherHeader mv,subledgerpaymentheader p, chequeDetail c  
				  where v.status!=4 and  v.id=p.voucherHeaderId  AND c.id=p.chequeid AND   p.chequeId >0 and
				 p.type ='@15' and mv.originalvcid=v.id {AND v.voucherDate &gt;= '@16'} {AND v.voucherDate &lt;='@17'} {AND v.voucherNumber like '%' || '@18' || '%' } {AND v.fundid = @19 } {AND v.status='@20'} {AND v.isconfirmed='@21'} 
				group by mv.cgn,mv.voucherNumber,mv.voucherDate,mv.status,mv.isConfirmed
				union
				select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,sum(p.paidamount) as 
				 &quot;paidAmount&quot;, max('Cash') as &quot;chequeNumber&quot;, decode(mv.status,0,decode(mv.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;status&quot;
				  from voucherHeader v, voucherHeader mv,subledgerpaymentheader p  
				  where v.status!=4 and  v.id=p.voucherHeaderId  and  p.chequeId is null and
				 p.type ='@22' and mv.originalvcid=v.id {AND v.voucherDate &gt;= '@23'} {AND v.voucherDate &lt;='@24'} {AND v.voucherNumber like '%' || '@25' || '%' } {AND v.fundid = @26 } {AND v.status='@27'} {AND v.isconfirmed='@28'} 
				group by mv.cgn,mv.voucherNumber,mv.voucherDate,mv.status,mv.isConfirmed
				ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot;">		
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
			</sqlTemplate>
			
			
			<sqlTemplate id="subledgerPaymentSearch"
					template=" select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(m.paidamount) as 
					 &quot;paidAmount&quot;, max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),
					 decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;
					  from voucherHeader v,  subledgerpaymentheader m , chequeDetail c  
					  where  v.status!=4 and v.id=m.voucherHeaderId   and c.id=m.chequeid AND c.id=m.chequeid  and m.chequeId >0 and
					 m.type ='@1' {AND v.voucherDate &gt;= '@2'} {AND v.voucherDate &lt;='@3'} {AND v.voucherNumber like '%' || '@4' || '%' } {AND v.fundid = @5 } {AND v.status='@6'} {AND v.isconfirmed='@7'} 
					group by cgn,voucherNumber,voucherDate,v.status,isConfirmed
					union
					select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(m.paidamount) as 
					 &quot;paidAmount&quot;, max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),
					 decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;
					   from voucherHeader v,  subledgerpaymentheader m , chequeDetail c  
					  where v.status!=4 and v.id=m.voucherHeaderId  and c.id=m.chequeid AND c.id=m.chequeid  and m.chequeId >0 
					AND m.type ='@8' {AND v.voucherDate &gt;= '@9'} {AND v.voucherDate &lt;='@10'} {AND v.voucherNumber like '%' || '@11' || '%' } {AND v.fundid = @12 } {AND v.status='@13'} {AND v.isconfirmed='@14'} 
					group by cgn,voucherNumber,voucherDate,v.status,isConfirmed 
					union
					 select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,sum(m.paidamount) as 
					 &quot;paidAmount&quot;, max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(mv.status,0,decode(mv.isconfirmed,0,'UnConfirmed','confirmed'),
					 decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;status&quot;
					  from voucherHeader v,voucherHeader mv,  subledgerpaymentheader m , chequeDetail c  
					  where v.status!=4 and v.id=m.voucherHeaderId   and c.id=m.chequeid AND c.id=m.chequeid  and m.chequeId >0 and
					 m.type ='@15' and mv.originalvcid=v.id   {AND v.voucherDate &gt;= '@16'} {AND v.voucherDate &lt;='@17'} {AND v.voucherNumber like '%' || '@18' || '%' } {AND v.fundid = @19 } {AND v.status='@20'} {AND v.isconfirmed='@21'} 
					group by mv.cgn,mv.voucherNumber,mv.voucherDate,mv.status,mv.isConfirmed
					union
					select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,sum(m.paidamount) as 
					 &quot;paidAmount&quot;, max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(mv.status,0,decode(mv.isconfirmed,0,'UnConfirmed','confirmed'),
					 decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;status&quot;
					   from voucherHeader v,voucherHeader mv,  subledgerpaymentheader m , chequeDetail c  
					  where v.status!=4 and v.id=m.voucherHeaderId  and c.id=m.chequeid AND c.id=m.chequeid  and m.chequeId >0 
					AND m.type ='@22' and mv.originalvcid=v.id   {AND v.voucherDate &gt;= '@23'} {AND v.voucherDate &lt;='@24'} {AND v.voucherNumber like '%' || '@25' || '%' } {AND v.fundid = @26 } {AND v.status='@27'} {AND v.isconfirmed='@28'} 
					group by mv.cgn,mv.voucherNumber,mv.voucherDate,mv.status,mv.isConfirmed ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot;">	
							<parameter dataSource="payType" isRequired="true"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumber" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="reverseNum" isRequired="false"/>
							<parameter dataSource="confirmNum" isRequired="false"/>
							<parameter dataSource="payType1" isRequired="true"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumber" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="reverseNum" isRequired="false"/>
							<parameter dataSource="confirmNum" isRequired="false"/>
							<parameter dataSource="payType" isRequired="true"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumber" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="reverseNum" isRequired="false"/>
							<parameter dataSource="confirmNum" isRequired="false"/>
							<parameter dataSource="payType1" isRequired="true"/>
							<parameter dataSource="voucherDateFrom" isRequired="false"/>
							<parameter dataSource="voucherDateTo" isRequired="false"/>
							<parameter dataSource="voucherNumber" isRequired="false"/>
							<parameter dataSource="fundID" isRequired="false"/>
							<parameter dataSource="reverseNum" isRequired="false"/>
							<parameter dataSource="confirmNum" isRequired="false"/>
			</sqlTemplate>
			
		
			<sqlTemplate id="subledgerPaymentSearchModify"
				template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(m.paidamount) as &quot;paidAmount&quot;, max('Cash') as &quot;chequeNumber&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot; from voucherHeader v, subledgerpaymentheader m  where v.id=m.voucherHeaderId AND v.status = 0  AND v.isconfirmed=0 and m.chequeId=0 {AND v.voucherDate &gt;= '@1'} {AND v.voucherDate &lt;='@5'} {AND v.voucherNumber &gt;= '@9'} {AND v.voucherNumber&lt;='@13'} 
				{AND m.type='@17'} group by cgn,voucherNumber,voucherDate,v.status,isConfirmed
				UNION
				select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(m.paidamount) as &quot;paidAmount&quot;, max('Cash') as &quot;chequeNumber&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot; from voucherHeader v, subledgerpaymentheader m  where v.id=m.voucherHeaderId AND v.status = 0  AND v.isconfirmed=0 and m.chequeId=0   {AND v.voucherDate &gt;= '@2'} 
				{AND v.voucherDate &lt;='@6'} {AND v.voucherNumber &gt;= '@10'} {AND v.voucherNumber &lt;='@14'} 
				{AND m.type='@19'} group by cgn,voucherNumber,voucherDate,v.status,isConfirmed
				UNION
				select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(m.paidamount) as &quot;paidAmount&quot;, max(c.chequeNumber) as &quot;chequeNumber&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;from voucherHeader v, chequeDetail c,  subledgerpaymentHeader m where v.id=m.voucherHeaderId AND v.status = 0  AND v.isconfirmed=0 AND m.chequeid=c.id AND 
				 m.chequeId >0  {AND v.voucherDate &gt;= '@3'} {AND v.voucherDate &lt;='@7'} 
				{AND v.voucherNumber &gt;= '@11'} {AND v.voucherNumber &lt;='@15'} {AND m.type='@18'} group by cgn,voucherNumber,voucherDate,v.status,isConfirmed
				 UNION
				select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(m.paidamount) as &quot;paidAmount&quot;, max(c.chequeNumber) as &quot;chequeNumber&quot; , decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;from voucherHeader v, chequeDetail c,  subledgerpaymentHeader m where v.id=m.voucherHeaderId AND v.status = 0 AND v.isconfirmed=0 AND m.chequeid=c.id AND  
				m.chequeId >0 {AND v.voucherDate &gt;= '@4'} {AND v.voucherDate &lt;='@8'} {AND v.voucherNumber &gt;= '@12'} 
				{AND v.voucherNumber &lt;='@16'} {AND m.type='@20'}
				group by cgn,voucherNumber,voucherDate,v.status,isConfirmed ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot;">		
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumberFrom" isRequired="false"/>
						<parameter dataSource="voucherNumberFrom" isRequired="false"/>
						<parameter dataSource="voucherNumberFrom" isRequired="false"/>
						<parameter dataSource="voucherNumberFrom" isRequired="false"/>
						<parameter dataSource="voucherNumberTo" isRequired="false"/>
						<parameter dataSource="voucherNumberTo" isRequired="false"/>
						<parameter dataSource="voucherNumberTo" isRequired="false"/>
						<parameter dataSource="voucherNumberTo" isRequired="false"/>
						<parameter dataSource="payType" isRequired="false"/>
						<parameter dataSource="payType" isRequired="false"/>
						<parameter dataSource="payType1" isRequired="false"/>
						<parameter dataSource="payType1" isRequired="false"/>
				</sqlTemplate>
		
		<sqlTemplate id="loadAdvanceBankData"
				template="select a.name||' '||b.branchname as &quot;bank_id&quot; ,accountnumber as &quot;accountGroup_accountNumberId&quot; from bank a ,bankbranch b, bankaccount c  
		where a.id=b.bankid and b.id=c.branchid and c.id=@1">
				<parameter dataSource="bid" isRequired="true" />
			</sqlTemplate>
			
		      <sqlTemplate id="reportSummaryGroup"
				template="SELECT coa.GLCODE AS &quot;coaSummary_glCode&quot;, 
						coa.NAME AS &quot;coaSummary_name&quot; 
					FROM chartofaccounts coa 
					WHERE CLASS = 2 AND (LOWER(operation) = 'a' OR LOWER(operation) = 'l') ORDER BY coa.glCode">						
			</sqlTemplate>
			<sqlTemplate id="reportScheduleGroup"
				template="SELECT coa.GLCODE AS &quot;coaSchedule_glCode&quot;, 
						coa.NAME AS &quot;coaSchedule_name&quot;, 
						coa.OPERATION AS &quot;coaSchedule_operation&quot; 
					FROM chartofaccounts coa 
					WHERE CLASS = 3 AND (LOWER(operation) != 'a' OR LOWER(operation) != 'l')  ORDER BY coa.glCode">						
			</sqlTemplate>	
			<sqlTemplate id="glCodeAndDescriptionAll"
					template="SELECT glCode as &quot;divCode&quot;, name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM chartOfAccounts WHERE 1=1 
						{ AND glCode LIKE '@1'} { AND class = @2} { AND type = '@3'} ORDER BY glcode">			
					<parameter dataSource="filter1" isRequired="false"/>
					<parameter dataSource="filter2" isRequired="false"/>
					<parameter dataSource="filter3" isRequired="false"/>			
			</sqlTemplate>		
		<sqlTemplate id="unConfirmedVouchers"
		  template="SELECT vh.id AS &quot;voucherHeader_id&quot;, vh.cgvn AS &quot;voucherHeader_cgn&quot;,
				                               vh.cgn AS &quot;cgnum&quot;,
				                               vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;, 
				                                      to_char(vh.voucherDate, 'dd-Mon-yyyy') AS &quot;voucherHeader_voucherDate&quot;, 
				                                      vh.name||'-'||vh.type AS &quot;voucherHeader_name&quot;, 
				                                      vh.description AS &quot;voucherHeader_description&quot; 
				                                      FROM voucherHeader vh,
				                                      vouchermis mis
				                                      WHERE  vh.id = mis.voucherheaderid 
				                                      and vh.isconfirmed=0 
													  and vh.status not in(4,5)
				                                      and vh.cgn not in (select  DECODE(REFCGNO,NULL,'0',DECODE(REFCGNO,'','0',DECODE(REFCGNO,' ','0',REFCGNO)))   
																		 from VOUCHERHEADER )
				                                    { AND vh.voucherNumber &gt;= '@1'} {  AND vh.voucherNumber &lt;= '@2'}
				                                     AND vh.voucherDate &gt;= '@3'   AND vh.voucherDate &lt;= '@4' AND vh.type = '@7'  { AND vh.fundid = @5 }  { AND mis.DEPARTMENTID = @6 } 
				                                      ORDER BY voucherNumber,voucherDate, lower(name), lower(type)">
				                    
									<parameter dataSource="voucherNumberFrom" isRequired="false"/>
									 <parameter dataSource="voucherNumberTo" isRequired="false"/>
									<parameter dataSource="voucherDateFrom" isRequired="true"/>  
				                    <parameter dataSource="voucherDateTo" isRequired="true"/>
								  <parameter dataSource="fund_id" isRequired="false"/>
								    <parameter dataSource="deptId" isRequired="false"/>
									<parameter dataSource="voucherType" isRequired="true"/>
		  
              </sqlTemplate>
		
			
			<sqlTemplate id="financialYearOpBal"
				template="SELECT id, financialYear 
			FROM financialYear WHERE isclosed='0' ORDER BY startingDate">
			</sqlTemplate>
				
				<sqlTemplate id="databaseDate"
							template="SELECT to_char(sysdate, 'DD-Mon-YYYY') AS &quot;databaseDate&quot; FROM dual">				
				</sqlTemplate>
	<sqlTemplate id="finYearDate"
				template="SELECT startingdate AS &quot;startFinDate&quot; 
				FROM financialyear WHERE startingdate&lt;=sysdate AND endingdate&gt;=sysdate">				
		</sqlTemplate>	
		
	<sqlTemplate id="glCodeAndDescOpBalance"				
		template="SELECT coa.glCode AS &quot;divCode&quot;, coa.name AS &quot;divDes&quot;, 
		coa.id AS &quot;divId&quot; FROM chartofaccounts coa WHERE coa.isactiveforposting=1 
		AND  coa.type ='@1' {and coa.glCode LIKE @2 || '%'} and classification = 4">			
		<parameter dataSource="typefilter" isRequired="true" />
		<parameter dataSource="filter" isRequired="false" />
		</sqlTemplate>

				<sqlTemplate id="glCodeAndDescOpBalUpdate"
						template="SELECT coa.glCode AS &quot;divCode&quot;, coa.name AS &quot;divDes&quot;, 
							coa.id AS &quot;divId&quot; 
							FROM chartofaccounts coa, transactionSummary txn 					
							WHERE coa.isactiveforposting=1 
							AND coa.glCode LIKE @1 || '%'      
							AND coa.id = txn.glCodeId 
							AND txn.fundId=@3 AND txn.financialYearId=@4">			
					<parameter dataSource="filter" isRequired="true" />
					<parameter dataSource="filter2" isRequired="true"/>
					<parameter dataSource="filter3" isRequired="true"/>
				</sqlTemplate>
				
				
				<sqlTemplate id="getAccEntityId"
							template="SELECT @1 AS &quot;glCodeId&quot; FROM dual">			
						<parameter dataSource="glCodeId" isRequired="true"/>		
			</sqlTemplate>
			<sqlTemplate id="glCodeAndDescControlCodes"
				template="SELECT UNIQUE coa.glCode AS &quot;divCode&quot;, 
					coa.name AS &quot;divDes&quot;, 
					coa.id AS &quot;divId&quot; 
					FROM chartOfAccounts coa, chartOfAccountDetail cod 
					WHERE coa.id = cod.glCodeId AND  coa.classification=4 order by coa.glcode asc">						
			</sqlTemplate>	
			<sqlTemplate id="bankFundAndGLCode"
					template="SELECT fund.id AS &quot;fund_id&quot;, fund.name AS &quot;fund_name&quot;, 
							coa.glCode AS &quot;bankGLCode&quot;
							FROM fund, bankAccount, chartOfAccounts coa 
							WHERE fund.id = bankAccount.fundid AND bankAccount.glCodeid = coa.id AND bankAccount.id = @1">	
							<parameter dataSource="bankAccountId" isRequired="true"/>	
				</sqlTemplate>		
		
		<sqlTemplate id="getAccDetails"
				 template="select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE((SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									 AND  generalledger.debitAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@1') order by glcode">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="getAccDetailsForJV"
			 template="select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE((SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									 AND  generalledger.debitAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@1') 
									union
									select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE((SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									 AND  generalledger.creditAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@2') order by 
									 &quot;grid_rowIndex&quot; ">
			<parameter dataSource="cgNumber" isRequired="true" />
			<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="getMisDetails"
			 template="select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE((SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									 AND  generalledger.debitAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@1') 
									union
									select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE((SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									 AND  generalledger.creditAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@2') order by 
									 &quot;grid_rowIndex&quot; ">
			<parameter dataSource="cgNumber" isRequired="true" />
			<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="getCPDetails"
					  template="select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE((SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									 AND  generalledger.debitAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@1') 
									union
									select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE((SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									 AND  generalledger.creditAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@2') order by 
									 &quot;grid_rowIndex&quot; ">
			<parameter dataSource="cgNumber" isRequired="true" />
			<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="getBPDetails"
			 template="select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE((SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									 AND  generalledger.debitAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@1') 
									union
									select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE((SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									 AND  generalledger.creditAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@2') order by 
									 &quot;grid_rowIndex&quot; ">
			<parameter dataSource="cgNumber" isRequired="true" />
			<parameter dataSource="cgNumber" isRequired="true" />
				
			</sqlTemplate>
			<!-- modified by mani on26/10/2007  -->
			<sqlTemplate id="getSalDetails1"
							  template="select generalledgerdetail.detailkeyid as &quot;new_grid_detKeyId&quot;,generalledgerdetail.detailtypeid as &quot;new_grid_detTypeId&quot;,
							 	 '' as &quot;new_grid_detValue&quot;,generalledger.glcode as &quot;new_grid_rowIndex&quot;,generalledgerdetail.Amount as &quot;new_grid_amount&quot;,
					    							 am.code as &quot;new_grid_detCode&quot;
							  	from generalledgerdetail,generalledger,@2 am where
								generalledgerdetail.generalLedgerid = generalledger.id
								
								AND am.ID=generalledgerdetail.DETAILKEYID
								and generalledger.debitamount &gt; 0
								and generalledger.voucherheaderid in (select id from voucherheader where cgn='@1') order by glcode
																">
								<parameter dataSource="cgNumber" isRequired="true" />
								<parameter dataSource="table" isRequired="true" />
			</sqlTemplate>
			
		<sqlTemplate id="getSalDetails"
							  template="SELECT   generalledgerdetail.detailkeyid AS &quot;grid_detKeyId&quot;, generalledgerdetail.detailtypeid AS &quot;grid_detTypeId&quot;,
         							'' AS &quot;grid_detValue&quot;, generalledger.glcode AS &quot;grid_rowIndex&quot;,generalledgerdetail.Amount as &quot;grid_amount&quot;,
					    							 am.code as &quot;grid_detCode&quot;
    								FROM generalledgerdetail, generalledger,@2 am
  								WHERE generalledgerdetail.generalledgerid = generalledger.ID
   								
  								AND am.ID=generalledgerdetail.DETAILKEYID
  								AND GENERALLEDGER.creditAMOUNT &gt; 0
  								 AND generalledger.glcode not in (select glcode from chartofaccounts where purposeid in @3)
    								AND generalledger.voucherheaderid IN (SELECT ID
                                             FROM voucherheader
                                            WHERE cgn = '@1')" >
								<parameter dataSource="cgNumber" isRequired="true" />
								<parameter dataSource="table" isRequired="true" />
								<parameter dataSource="salaryBillPurposeIds" isRequired="true" />
			</sqlTemplate>
			
			
		
		<sqlTemplate id="getCDetails"
								  template="select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE( (SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id AND  generalledger.creditamount>0
									and generalledger.glcodeid not in(select id from chartofaccounts where purposeid in (@1) )
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@2') order by glcode">
									<parameter dataSource="CbillPayCode" isRequired="true" />
									<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			
			<sqlTemplate id="getCNetPayableEntityDetails"
								  template="select detailkeyid as &quot;net_grid_detKeyId&quot;,detailtypeid as &quot;net_grid_detTypeId&quot;,
								  '' as &quot;net_grid_detValue&quot;,generalledger.glcode as &quot;net_grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;net_grid_amount&quot; ,
									DECODE( (SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;net_grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id AND  generalledger.creditamount>0
									and generalledger.glcodeid in(select id from chartofaccounts where purposeid in (@1) )
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@2') order by glcode">
									<parameter dataSource="CbillPayCode" isRequired="true" />
									<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			
			<sqlTemplate id="getContractorNetPayableEntityDetails"
								  template="select detailkeyid as &quot;net_grid_detKeyId&quot;,detailtypeid as &quot;net_grid_detTypeId&quot;,
								  '' as &quot;net_grid_detValue&quot;,generalledger.glcode as &quot;net_grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;net_grid_amount&quot; ,
									DECODE( (SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;net_grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id AND  generalledger.creditamount>0
									and generalledger.glcodeid in(select id from chartofaccounts where purposeid in (@1,@2) )
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@3') order by glcode">
									<parameter dataSource="ConPayCode" isRequired="true" />
									<parameter dataSource="SupPayCode" isRequired="true" />
									<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			
			<sqlTemplate id="getContractorEntityDetails"
								  template="select detailkeyid as &quot;grid_detKeyId&quot;,detailtypeid as &quot;grid_detTypeId&quot;,
								  '' as &quot;grid_detValue&quot;,generalledger.glcode as &quot;grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;grid_amount&quot; ,
									DECODE((SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
									'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
									 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;grid_detCode&quot;
									 from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									 AND  generalledger.debitAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@1') order by glcode">
									<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="getCEaringEntityDetails"
								  template="select detailkeyid as &quot;new_grid_detKeyId&quot;,detailtypeid as &quot;new_grid_detTypeId&quot;,
								  '' as &quot;new_grid_detValue&quot;,generalledger.glcode as &quot;new_grid_rowIndex&quot;
								  , generalledgerdetail.amount AS &quot;new_grid_amount&quot; ,
									DECODE( detailtypeid,1,(SELECT code FROM relation WHERE id=generalledgerdetail.detailkeyid),4,(SELECT code FROM eg_employee WHERE id=generalledgerdetail.detailkeyid),(SELECT code FROM AccountEntityMaster WHERE id=generalledgerdetail.detailkeyid)) AS &quot;new_grid_detCode&quot;
								  from generalledgerdetail,generalledger where
									generalledgerdetail.generalLedgerid = generalledger.id
									AND  generalledger.debitAmount>0
									and generalledger.voucherheaderid in (select id from voucherheader where cgn='@1') order by glcode">
									<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
				
			<sqlTemplate id="loadAdvanceData1"
			    template="select typeofpayment as &quot;slph_typeOfPayment&quot;,
			 	relation.code as &quot;contractor_supplier_code&quot;,
			 	worksdetail.code as &quot;worksDetail_id&quot;,
			 	fund.name as &quot;fund_name&quot;,
			 	to_char(chequedetail.chequedate,'dd-mon-yyyy') as &quot;chequeDetail_chequeDate&quot;,
			 	chequedetail.chequenumber as &quot;chequeDetail_chequeNumber&quot;,
			 	chequedetail.amount as &quot;cbd_advanceAmount&quot;,
			 	chequedetail.narration as &quot;voucherHeader_narration&quot;,
			 	bankaccount.accountnumber as &quot;accountGroup_accountNumberId&quot;,
			 	bank.name as &quot;bank_id&quot;
			 	from subledgerpaymentheader,relation,worksdetail,fund,chequedetail,bankaccount,bank where 
			 	subledgerpaymentheader.supplierid=relation.id and
			 	subledgerpaymentheader.worksdetailid=worksdetail.id  and
			 	subledgerpaymentheader.chequeid=chequedetail.id and
			 	chequedetail.accountnumberid=bankaccount.id and
			 	chequedetail.bankid=bank.id and
			 	fund.id=worksdetail.fundid and 
			    voucherheaderid in (select id from voucherheader where cgn='@1')">
			    <parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="loadAdvanceData2"
				template="select cgn as &quot;voucherHeader_cgn&quot;,
			    vouchernumber as &quot;voucherHeader_voucherNumber&quot;,
				to_char(voucherdate,'dd-mon-yyyy') as &quot;voucherHeader_voucherDate&quot;,
				eg_department.dept_name as &quot;department_id&quot;
				from voucherheader,eg_department
				where voucherheader.departmentid=eg_department.id_dept and 	cgn='@1'">
			    <parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
		
				
		<sqlTemplate id="taxCodeMap"
				template="SELECT  t.ID as &quot;egf_tax_code_ID&quot;, t.lastModified as 	&quot;egf_tax_code_lastModified&quot;, t.code as &quot;egf_tax_code_code&quot;,t.name as 	&quot;egf_tax_code_name&quot;,accrued as  &quot;egf_tax_code_accrued&quot;,isactive as &quot;egf_tax_code_isActive&quot; from egf_tax_code t where 1=1 {and code='@1'}">
		<parameter dataSource="tax_code" isRequired="false" />
			</sqlTemplate>
		<sqlTemplate id="taxesGridData0"
				template="select a.id as &quot;egf_tax_account_mapping_id&quot;,
		decode(a.financialyearid, 0,'', a.financialyearid)
		 as &quot;financialYear_id&quot; ,a.glcodeid as &quot;egf_tax_code_glCodeId&quot;,b.glcode as &quot;chartOfAccounts_code&quot; ,b.name as &quot;chartOfAccounts_name&quot;,
		a.isactive as 
		&quot;egfAccMap_isActiveB&quot;,a.isactive as &quot;egfAccMap_isActive&quot; from EGF_TAX_ACCOUNT_MAPPING a,chartofaccounts b,egf_tax_code c
		where a.taxcodeid=c.id and a.glcodeid=b.id {and c.code='@1'}">
		<parameter dataSource="tax_code" isRequired="false" />
			</sqlTemplate>
		<sqlTemplate id="taxesGridData"
				template="select a.id as &quot;egf_tax_account_mapping_id&quot;,
		financialyear
		 as &quot;financialYear_id&quot; ,a.glcodeid as &quot;egf_tax_code_glCodeId&quot;,b.glcode as &quot;chartOfAccounts_code&quot; ,b.name as &quot;chartOfAccounts_name&quot;,
		a.isactive as 
		&quot;egfAccMap_isActiveB&quot;,a.isactive as &quot;egfAccMap_isActive&quot;,a.isold as   &quot;egfAccMap_isOldB&quot;,a.isold as &quot;egfAccMap_isOld&quot; from EGF_TAX_ACCOUNT_MAPPING a,chartofaccounts b,egf_tax_code c
		where a.taxcodeid=c.id and a.glcodeid=b.id {and c.code='@1'}">
		<parameter dataSource="tax_code" isRequired="false" />
			</sqlTemplate>
		<sqlTemplate id="taxesGridData3"
				template="select a.id as &quot;egf_tax_account_mapping_id&quot;,
		a.financialyear as &quot;financialYear_id&quot; ,a.glcodeid as &quot;egf_tax_code_glCodeId&quot;,b.glcode as &quot;chartOfAccounts_code&quot; ,b.name as &quot;chartOfAccounts_name&quot;,
		a.isactive as &quot;egfAccMap_isActiveB&quot;,a.isactive as &quot;egfAccMap_isActive&quot; from  EGF_TAX_ACCOUNT_MAPPING a,chartofaccounts b,egf_tax_code c
		where  a.taxcodeid=c.id and a.glcodeid=b.id {and c.code='@1'}">
		<parameter dataSource="tax_code" isRequired="false" />
			</sqlTemplate>
		
		
		<sqlTemplate id="fillFinancialYear"
				template="SELECT  id,financialyear from  financialyear where isactive=1
		union all 
		select -1 as &quot;id&quot;,'Old'  from dual order by id desc
		">
		</sqlTemplate>
		
		<sqlTemplate id="fillFinancialYearNew"
				template="SELECT distinct financialyear from  egf_tax_account_mapping">
		</sqlTemplate>
		
		
		<sqlTemplate id="getCessMapData"
				template="SELECT  c.name as &quot;cessName&quot;,
						  c.id as &quot;cessGlCodeId&quot;
		from  chartofaccounts c,egf_accountcode_purpose e  where c.purposeid=e.id and e.id=1">
		</sqlTemplate>
			
		<sqlTemplate id="oldCessData"
				template="
		select -1 as &quot;grid_cessGlCodeId&quot;,-1 as &quot;grid_percentage&quot;,-1 as &quot;grid_cessMasterID&quot;, '0' as&quot;grid_rowIndex&quot; from dual
		
		union
		
		select glcodeid as &quot;grid_cessGlCodeId&quot;,percentage as &quot;grid_percentage&quot;,a.id as &quot;grid_cessMasterID&quot;,financialyearid as
		&quot;grid_rowIndex&quot;
		from egf_cess_master a,egf_tax_code b where  taxcodeid=b.id {and b.code='@1'}
		order by &quot;grid_rowIndex&quot;">
		<parameter dataSource="tax_code" isRequired="false" />
		</sqlTemplate>
		
		
		
		<sqlTemplate id="fundSourceCombo"
					template="select id,name from fundsource where isactive=1 and isnotleaf=0 and isnotleaf!=1">
			</sqlTemplate>
		<sqlTemplate id="rptDiscount"
				template="select a.financialyearid as &quot;fnID&quot;,a.percentage as &quot;c_discountPc&quot;,b.glcode as &quot;c_discountCode&quot;,b.name &quot;c_discountName&quot; from egf_discount a,chartofaccounts b where a.glcodeid=b.id and a.name='Cess Collection Rebate'">
		</sqlTemplate>
		<sqlTemplate id="rptDebitList"
				template="select a.glcode as &quot;display_debitCode&quot;,a.name as &quot;display_debitHead&quot;,
		'cess' as &quot;type&quot;
		from chartofaccounts a,EGF_ACCOUNTCODE_PURPOSE b where a.purposeid=b.id
		and   (b.name='Cess Control')
		union all
		select a.glcode as &quot;display_debitCode&quot;,a.name as &quot;display_debitHead&quot;,
		'cash' as &quot;type&quot;
		from chartofaccounts a,EGF_ACCOUNTCODE_PURPOSE b where a.purposeid=b.id
		and   (b.name='Cash In Hand')
		union all  
		select a.glcode as &quot;display_debitCode&quot;,a.name as &quot;display_debitHead&quot;,
		'cheque' as &quot;type&quot; from chartofaccounts a,EGF_ACCOUNTCODE_PURPOSE b where a.purposeid=b.id
		and b.name='Cheque In Hand'
		order by &quot;display_debitCode&quot;
		">
		</sqlTemplate>
		 <sqlTemplate  id="rptBankAndBranch" 
				template="SELECT  CONCAT(CONCAT(bankBranch.bankId, '-'),bankBranch.ID) as &quot;Expr1&quot;,concat(concat(bank.name , ' '),bankBranch.branchName) as &quot;Expr2&quot;
							FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId  {and bankBranch.id in(select a.branchid from bankaccount a,fund b 
							where b.name='General Fund'and a.fundid=b.id and 1=@1 {and accounttype='@2'})}
				union
						SELECT  CONCAT(CONCAT(bankBranch.bankId, '-'),bankBranch.ID) as &quot;Expr1&quot;,concat(concat(bank.name , ' '),bankBranch.branchName) as &quot;Expr2&quot;
							FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId  {and bankBranch.id in(select a.branchid from bankaccount a,fund b 
							where b.name='General Fund'and a.fundid=b.id and 1=@4 {and accounttype='@3'})}
		
		"> 
				
				<parameter dataSource="conditionForBank"  isRequired="false"/>
				<parameter dataSource="accType1" isRequired="false"/>
				<parameter dataSource="accType2" isRequired="false"/>		
				<parameter dataSource="conditionForBank"  isRequired="false"/>
		</sqlTemplate>
		
		<sqlTemplate  id="ptBankAndBranch" 
				template="SELECT  CONCAT(CONCAT(bankBranch.bankId, '-'),bankBranch.ID) as &quot;Expr1&quot;,concat(concat(bank.name , ' '),bankBranch.branchName) as &quot;Expr2&quot;
							FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId  and bankBranch.id in(select a.branchid from bankaccount a,fund b 
							where b.name='General Fund'and a.fundid=b.id  and  (accounttype like '%Collection%' or accounttype like '%General%')) order by &quot;Expr2&quot; ">
			
		</sqlTemplate>
		
		<sqlTemplate  id="rptBankDebitList" 
				template="select a.glcode as &quot;display_debitCode&quot;,a.name as &quot;display_debitHead&quot;,
		'cess' as &quot;type&quot;
		from chartofaccounts a,EGF_ACCOUNTCODE_PURPOSE b where a.purposeid=b.id
		and   b.name='Cess Control' 
		union all
		select a.glcode as &quot;display_debitCode&quot;,a.name as &quot;display_debitHead&quot;,
		'cheque' as &quot;type&quot; from chartofaccounts a,bankaccount b where a.id=b.glcodeid {and 
		b.id=@1}
		order by &quot;display_debitCode&quot;"> 
				<parameter dataSource="debitList_accID"  isRequired="false"/>
		</sqlTemplate>
		
		<sqlTemplate id="fundSourceData" 
				template="SELECT a.id as &quot;fundSource_ID&quot;, a.code as &quot;fundSource_code&quot;,a.name as &quot;fundSource_name&quot;, b.name as &quot;fundSource_type&quot;   
				FROM fundsource a,fundsource b
				where a.parentid=b.id and a.parentid is not null 
				union
				SELECT a.id as &quot;fundSource_ID&quot;, a.code as &quot;fundSource_code&quot;,a.name as &quot;fundSource_name&quot;, type as &quot;fundSource_type&quot;   
				FROM fundsource a
				where  a.parentid is null">		
			</sqlTemplate>
		
		
		<sqlTemplate id="fundSourceList" 
				template="SELECT     fundsource.ID AS &quot;fundSource_ID&quot;, 
						fundsource.code AS &quot;fundSource_code&quot;, 
						fundsource.name AS &quot;fundSource_name&quot;, 
						fundsource.type AS &quot;fundSource_type&quot;,
						fundsource.lastModified AS &quot;fundSource_lastModified&quot;, 
						fundsource.llevel AS &quot;fundSource_llevel&quot;,
						parent.Id AS &quot;parent_parentID&quot;,
						parent.code AS &quot;parent_parentFundSourceCode&quot; ,
						fundsource.isactive as &quot;fundSource_isactive&quot;
			        	FROM    FundSource fundsource left join FundSource parent on  fundsource.parentId=parent.id 
					WHERE   fundsource.code = '@1'">		
				<parameter dataSource="fundSource_code" isRequired="true"/>
			</sqlTemplate>
		
		<sqlTemplate id="fundNameId" 
				template="SELECT ID  AS &quot;fund_parentId&quot;,
					    llevel AS &quot;fund_llevel&quot;,
					    code as &quot;parent_parentFundCode&quot;
					    FROM fund WHERE name='@1'">
				<parameter dataSource="fundId" isRequired="true" />
			</sqlTemplate>
			
		        <sqlTemplate id="fundSourceNameId" 
					template="SELECT ID  AS &quot;fundSource_parentId&quot;,
						    llevel AS &quot;fundSource_llevel&quot;, 
						    code as &quot;parent_parentFundSourceCode&quot;
						    FROM fundsource WHERE name='@1'">
					<parameter dataSource="fundSourceId" isRequired="true" />
			</sqlTemplate>
		
		<sqlTemplate id="fundNameLst" 
				template="SELECT name,name  FROM fund where isactive=1 ">
			</sqlTemplate>
		
		
		        <sqlTemplate id="fundSourceNameLst" 
					template="SELECT distinct name as &quot;fundSource_type&quot;, name as &quot;fundSource_type&quot; FROM fundsource WHERE isActive=1">
			</sqlTemplate>
				    
		    <sqlTemplate id="functionData" 
				template="SELECT a.id as &quot;function_ID&quot;, a.code as &quot;function_code&quot;,a.name as &quot;function_name&quot;, b.name as &quot;function_type&quot;   
				FROM function a,function b
				where a.parentid=b.id and a.parentid is not null 
				union
				SELECT a.id as &quot;function_ID&quot;, a.code as &quot;function_code&quot;,a.name as &quot;function_name&quot;, type as &quot;function_type&quot;   
				FROM function a
				where  a.parentid is null">		
			</sqlTemplate>
		
		    <sqlTemplate id="functionList" 
				template="SELECT     function.ID AS &quot;function_ID&quot;, 
						function.code AS &quot;function_code&quot;, 
						function.name AS &quot;function_name&quot;, 
						parent.name AS &quot;parent_type&quot;,
						function.lastModified AS &quot;function_lastModified&quot;, 
						function.llevel AS &quot;function_llevel&quot;,
						parent.Id AS &quot;function_parentId&quot;,
						parent.code AS &quot;parent_parentFunctionCode&quot; ,
						function.isactive as &quot;function_isactive&quot;
			        	FROM    Function function left join function parent on  function.parentId=parent.id 
					WHERE   function.code = '@1'">		
				<parameter dataSource="function_code" isRequired="true"/>
			</sqlTemplate>
			
		    <sqlTemplate id="functionNameId" 
					template="SELECT ID  AS &quot;function_parentId&quot;,
						    llevel AS &quot;function_llevel&quot;, 
						    code as &quot;parent_parentfunctionCode&quot;
						    FROM function WHERE name='@1'">
					<parameter dataSource="functionId" isRequired="true" />
			</sqlTemplate>
		
		    <sqlTemplate id="functionNameLst" 
					template="SELECT distinct name as &quot;function_type&quot;, name as &quot;function_type&quot; FROM function WHERE isActive=1">
			</sqlTemplate>
		    
		   <sqlTemplate id="fundSourceNameList" 
		   			template="SELECT id, name FROM fundsource where isactive=1 and isnotleaf!=1 order by name">
			</sqlTemplate>
		
		
		<sqlTemplate id="worksDetailData"
								template="SELECT wd.Id AS &quot;worksDetail_ID&quot;, wd.code as &quot;POcode&quot;,wd.lastModified AS &quot;worksDetail_lastModified&quot;,
								wd.name AS &quot;worksDetail_name&quot;,  wd.orderDate AS &quot;worksDetail_orderDate&quot;,
								   wd.totalValue AS &quot;worksDetail_totalValue&quot;, wd.paidAmount AS  &quot;worksDetail_paidAmount&quot;,
								   wd.advancePayable AS  &quot;worksDetail_advancePayable&quot;,   wd.advanceAmount AS  &quot;worksDetail_advanceAmount&quot;,
								   wd.authorizedBy AS  &quot;worksDetail_authorizedBy&quot;,   eg.name AS  &quot;worksDetail_levelOfWork&quot;,
								   rel.name AS  &quot;worksDetail_relationId&quot;,wd.securityDeposit AS  &quot;worksDetail_securityDeposit&quot;,
								  wd.retention AS  &quot;worksDetail_retention&quot;,wd.bankGuarantee AS  &quot;worksDetail_bankGuarantee&quot;, f.id  AS &quot;worksDetail_fundId&quot;, decode(wd.fundsourceid,null,' ',(select name from fundsource where id=wd.fundsourceid))  AS &quot;worksDetail_fundSourceId&quot;,
								   e.name  AS &quot;worksDetail_wardId&quot;,   t.id  AS &quot;worksDetail_tdsId&quot;,wd.isActive AS  &quot;worksDetail_isActive&quot;,
								  ewt.name   AS &quot;worksDetail_type&quot;,T1.TYPE AS &quot;worksDetail_tds&quot;,w1.SANCTIONNO  AS &quot;worksDetail_sanctionno&quot;,w1.sanctiondate  AS &quot;worksDetail_sanctionDate&quot;, wd.remarks as &quot;worksDetail_remarks&quot;,(select id from scheme where id=ewm.schemeid) as &quot;worksDetail_scheme&quot;,(select id from sub_scheme where id=ewm.subschemeid) as &quot;worksDetail_subscheme&quot; 
								  FROM  worksDetail wd left join chartOfAccounts ca on wd.GLCODEID = ca.ID,WORKSDETAIL wsd left join TDS t1 ON wsd.WORKSTDS = t1.ID ,
								  worksDetail w1 left join eg_boundary_type eg on w1.levelofwork = eg.ID_bndry_type , worksDetail w3 left join eg_boundary e on w3.wardid = e.ID_bndry ,
								  worksDetail w2 left join tds t on w2.TDSID = t.ID , relation rel,fund f,WORKSDETAIL w4 left join EGW_WORKSTYPE ewt ON w4.TYPE = ewt.ID	, worksdetail w LEFT JOIN egw_works_mis ewm on	w.id=ewm.worksdetailId		
								  WHERE    wd.RELATIONID = rel.ID  and w1.id=w2.id and f.id=wd.fundId and w2.id=wsd.id AND w1.id=w4.id 
									  AND wd.id = w1.id AND wd.id = w3.id and  wd.id=w.ID
									   { AND Wd.id='@1' } {AND rel.relationtypeid ='@2'} { AND rel.name='@3'}
									  {AND wd.orderDate &gt;='@4' } {AND wd.orderDate &lt;='@5'} order by wd.orderDate asc">
		
							<parameter dataSource="worksDetail_codeToSearch" isRequired="false" />
							<parameter dataSource="SupConType1" isRequired="false" />
							<parameter dataSource="SupConName1" isRequired="false" />
							<parameter dataSource="POFromDate1" isRequired="false" />
							<parameter dataSource="POToDate1" isRequired="false" />
							
				</sqlTemplate>
	
	<!--  added by iliyaraja for Procurement order view -->		
			
			<sqlTemplate id="worksDetailDataView"
											template="SELECT wd.Id AS &quot;worksDetail_ID&quot;, wd.code as &quot;worksDetail_codeToSearch&quot;,wd.lastModified AS &quot;worksDetail_lastModified&quot;,
											wd.name AS &quot;worksDetail_name&quot;,  wd.orderDate AS &quot;worksDetail_orderDate&quot;,
											   wd.totalValue AS &quot;worksDetail_totalValue&quot;, wd.paidAmount AS  &quot;worksDetail_paidAmount&quot;,
										 DECODE(wd.workCategory,NULL,' ',(SELECT code FROM egw_TypeOfWork WHERE  id=wd.workCategory))AS  &quot;worksDetail_workCategory&quot;,
										 DECODE(wd.SubCategory   ,NULL,'',(SELECT code FROM egw_TypeOfWork WHERE id=wd.subCategory))   AS &quot;worksDetail_subCategory&quot;,
											   wd.advancePayable AS  &quot;worksDetail_advancePayable&quot;,   wd.advanceAmount AS  &quot;worksDetail_advanceAmount&quot;,
											   wd.authorizedBy AS  &quot;worksDetail_authorizedBy&quot;, (select e.dept_name from eg_department e where e.id_dept=wd.execdeptid ) AS  &quot;worksDetail_departmentId&quot;, eg.name AS  &quot;worksDetail_levelOfWork&quot;,
											   rel.name AS  &quot;worksDetail_relationId&quot;,wd.securityDeposit AS  &quot;worksDetail_securityDeposit&quot;,
											  wd.retention AS  &quot;worksDetail_retention&quot;,wd.bankGuarantee AS  &quot;worksDetail_bankGuarantee&quot;, f.name  AS &quot;worksDetail_fundId&quot;, decode(wd.fundsourceid,null,' ',(select name from fundsource where id=wd.fundsourceid))  AS &quot;worksDetail_fundSourceId&quot;,
											   e.name  AS &quot;worksDetail_wardId&quot;,   t.id  AS &quot;worksDetail_tdsId&quot;,wd.isActive AS  &quot;worksDetail_isActive&quot;,
											  ewt.name   AS &quot;worksDetail_type&quot;,T1.TYPE AS &quot;worksDetail_tds&quot;,w1.SANCTIONNO  AS &quot;worksDetail_sanctionno&quot;,w1.sanctiondate  AS &quot;worksDetail_sanctionDate&quot;, wd.remarks as &quot;worksDetail_remarks&quot;,(select name from scheme where id=ewm.schemeid) as &quot;worksDetail_scheme&quot;,(select name from sub_scheme where id=ewm.subschemeid) as &quot;worksDetail_subscheme&quot;, ewm.isfixedasset as &quot;isFixedAsset&quot; 
											  FROM worksDetail wd left join chartOfAccounts ca on wd.GLCODEID = ca.ID,WORKSDETAIL wsd left join TDS t1 ON wsd.WORKSTDS = t1.ID,worksDetail w1 left join eg_boundary_type eg on w1.levelofwork = eg.ID_bndry_type , worksDetail w3 left join eg_boundary e on w3.wardid = e.ID_bndry ,
											  worksDetail w2 left join tds t on w2.TDSID = t.ID , relation rel,fund f,WORKSDETAIL w4 left join EGW_WORKSTYPE ewt ON w4.TYPE = ewt.ID	,WORKSDETAIL w left join egw_works_mis ewm on w.id=ewm.worksdetailid
											  WHERE    wd.RELATIONID = rel.ID  and w1.id=w2.id and f.id=wd.fundId and w2.id=wsd.id AND w1.id=w4.id 
												  AND wd.id = w1.id AND wd.id = w3.id AND wd.id=w.id { AND wd.id='@1' } {AND rel.relationtypeid ='@2'} { AND rel.name='@3'}
												  {AND wd.orderDate &gt;='@4' } {AND wd.orderDate &lt;='@5'} order by wd.orderDate asc">
										<parameter dataSource="worksDetail_code" isRequired="false" />
										<parameter dataSource="SupConType1" isRequired="false" />
										<parameter dataSource="SupConName1" isRequired="false" />
										<parameter dataSource="POFromDate1" isRequired="false" />
										<parameter dataSource="POToDate1" isRequired="false" />
							</sqlTemplate>
					
			<sqlTemplate id="worksDetailCodeId"	
			template="SELECT wd.Id AS &quot;worksDetail_SearchId&quot;, wd.code as &quot;worksDetail_codeToSearch&quot;
			FROM  worksDetail wd WHERE wd.code='@1' ">
			<parameter dataSource="worksDetail_codeDetail" isRequired="true" />
		</sqlTemplate>
				
		<sqlTemplate id="worksDetailDataMCD"
					template="SELECT wd.Id AS &quot;worksDetail_ID&quot;,wd.lastModified AS &quot;worksDetail_lastModified&quot;,
					wd.name AS &quot;worksDetail_name&quot;,  wd.orderDate AS &quot;worksDetail_orderDate&quot;,
					   wd.totalValue AS &quot;worksDetail_totalValue&quot;, wd.paidAmount AS  &quot;worksDetail_paidAmount&quot;,
					   wd.advancePayable AS  &quot;worksDetail_advancePayable&quot;,   wd.advanceAmount AS  &quot;worksDetail_advanceAmount&quot;,
					   egu.USER_NAME AS  &quot;worksDetail_authorizedBy&quot;,   wd.LevelOfWork AS  &quot;worksDetail_levelOfWork&quot;,
					   rel.name AS  &quot;worksDetail_relationId&quot;,
					   rel.RELATIONTYPEID AS  &quot;orderT&quot;,
					   wd.securityDeposit AS  &quot;worksDetail_securityDeposit&quot;,
					  wd.retention AS  &quot;worksDetail_retention&quot;,wd.bankGuarantee AS  &quot;worksDetail_bankGuarantee&quot;, f.name  AS &quot;worksDetail_fundId&quot;, fs.name  AS &quot;worksDetail_fundSourceId&quot;,
					    org.name  AS &quot;worksDetail_wardId&quot;,   t.id  AS &quot;worksDetail_tdsId&quot;,wd.status AS  &quot;worksDetail_status&quot;,
					  wd.type  AS &quot;worksDetail_type&quot;,T1.TYPE AS &quot;worksDetail_tds&quot;,w1.SANCTIONNO  AS &quot;worksDetail_sanctionno&quot; 
					  ,wd.ORDERTYPE  AS &quot;worksDetail_orderType&quot;,sch.name  AS &quot;worksDetail_scheme&quot;,cost.name  AS &quot;worksDetail_cost&quot;
					  
						,ft.YEARCODE AS  &quot;t1&quot;
						,ft.DEPARTMENTCODE AS  &quot;t2&quot;
						,ft.HEADOFACCOUNT AS  &quot;t3&quot;
						,ft.SUBHEADOFACCOUNT AS  &quot;t4&quot;
						,ft.PROJECTCODE AS  &quot;t5&quot;
						,ft.CONCURRENCENO AS  &quot;t6&quot;
						,ft.BNDRY_NUMZONE AS  &quot;t7&quot;
						,ft.ZONECODE AS  &quot;t7T&quot;				
						,ft.EXEDIVISIONCODE AS  &quot;t8&quot;
						,ft.MONTHOFYEAR AS  &quot;t9&quot;
						,ft.BNDRY_NUM AS  &quot;t10&quot;
						
					  FROM worksDetail wd left join chartOfAccounts ca on wd.GLCODEID = ca.ID,WORKSDETAIL wsd left join TDS t1 ON wsd.WORKSTDS = t1.ID ,
					  worksDetail w1 left join organizationStructure org on w1.WARDID = org.ID ,
					  worksDetail w2 left join tds t on w2.TDSID = t.ID , relation rel,fund f, fundSource fs, ftc ft, scheme sch, costcentre cost, EG_USER egu	 WHERE    wd.RELATIONID = rel.ID  and w1.id=w2.id and f.id=wd.fundId and fs.id=wd.fundSourceid AND w2.id=wsd.id AND wd.SCHEMEID = sch.id AND wd.COSTCENTREID = cost.id ANd egu.id_user = wd.AUTHORIZEDBY
						  AND wd.id = w1.id AND wd.ftcid = ft.ftcid AND wd.CODE = '@1'"				 
						  >
				<parameter dataSource="worksDetail_codeToSearch" isRequired="true" />
		</sqlTemplate>
		<sqlTemplate id="worksDetailModData"
	          template="SELECT   wd.ID AS &quot;worksDetail_ID&quot;, 
	          	wd.code AS &quot;worksDetail_codeId&quot;,
	           wd.lastmodified AS &quot;worksDetail_lastModified&quot;, 
	           wd.NAME AS &quot;worksDetail_name&quot;, 
	           wd.orderdate AS &quot;worksDetail_orderDate&quot;, 
	           wd.totalvalue AS &quot;worksDetail_totalValue&quot;, 
	           wd.paidamount AS &quot;worksDetail_paidAmount&quot;, 
	           wd.advancepayable AS &quot;worksDetail_advancePayable&quot;, 
	           wd.advanceamount AS &quot;worksDetail_advanceAmount&quot;, 
	           wd.authorizedby AS &quot;worksDetail_authorizedBy&quot;, 
	           wd.levelofwork AS &quot;worksDetail_levelOfWork&quot;, 
	           wd.RELATIONID AS &quot;worksDetail_relationId&quot;, 
	           wd.securitydeposit AS &quot;worksDetail_securityDeposit&quot;, 
	           wd.RETENTION AS &quot;worksDetail_retention&quot;, 
	           wd.bankguarantee AS &quot;worksDetail_bankGuarantee&quot;, 
	           wd.fundid AS &quot;worksDetail_fundId&quot;, 
	           wd.fundsourceid AS &quot;worksDetail_fundSourceId&quot;, 
	           wd.wardid AS &quot;worksDetail_wardId&quot;, 
			   wd.workCategory AS &quot;worksDetail_workCategory&quot;,
			   wd.SubCategory AS &quot;worksDetail_subCategory&quot;,
	           t1.ID AS &quot;worksDetail_workstds&quot;, 
	           wd.isactive AS &quot;worksDetail_isActive&quot;, 
	           wd.TYPE AS &quot;worksDetail_type&quot;, 
	           cbd.billamount AS &quot;worksDetail_billAmount&quot;, 
	           sbd.billamount AS &quot;worksDetail_suppBillAmount&quot;, 
	           wd.sanctionno AS &quot;worksDetail_sanctionno&quot;, 
	           wd.sanctiondate AS &quot;worksDetail_sanctionDate&quot;, 
	           wd.remarks AS &quot;worksDetail_remarks&quot;, 
	           (select e.dept_name from eg_department e where e.id_dept=wd.execdeptid ) AS  &quot;department_id&quot;,
	           t1.TYPE AS &quot;workstdscode&quot;, 
	           cbd.isreversed AS &quot;worksDetail_isreversed&quot;, 
	           ewm.schemeid as &quot;scheme&quot;,
	   	   ewm.subschemeid as &quot;subscheme&quot;,
	   	   rel.NAME as &quot;orderToName&quot;,
	   	   ewm.isfixedasset as &quot;isFixedAsset&quot;
	  from worksdetail wd ,contractorbilldetail cbd,tds t1,supplierbilldetail sbd,
	  egw_works_mis ewm,relation rel 
	  where wd.id='@1' 
	  and cbd.WORKSDETAILID (+)=wd.id 
	  and  t1.id(+)=wd.WORKSTDS 
	  AND sbd.WORKSDETAILID (+)=wd.id
	    and ewm.worksdetailid=wd.id AND rel.ID=wd.RELATIONID">
								<parameter dataSource="worksDetail_code" isRequired="true" />
			</sqlTemplate>
		
<!--		<sqlTemplate id="worksDetailModData"
		   template="SELECT  egb.name AS &quot;field_name&quot; ,wd.Id AS &quot;worksDetail_ID&quot;,wd.lastModified AS &quot;worksDetail_lastModified&quot;,     
			  wd.name AS &quot;worksDetail_name&quot;,  wd.orderDate AS &quot;worksDetail_orderDate&quot;,         
			  wd.totalValue AS &quot;worksDetail_totalValue&quot;, wd.paidAmount AS  &quot;worksDetail_paidAmount&quot;,         
			  wd.advancePayable AS  &quot;worksDetail_advancePayable&quot;,   wd.advanceAmount AS  &quot;worksDetail_advanceAmount&quot;,         
			  wd.authorizedBy AS  &quot;worksDetail_authorizedBy&quot;,   wd.LevelOfWork AS  &quot;worksDetail_levelOfWork&quot;,         
			  rel.id AS  &quot;worksDetail_relationId&quot;,wd.securityDeposit AS  &quot;worksDetail_securityDeposit&quot;,        
			  wd.retention AS  &quot;worksDetail_retention&quot;,wd.bankGuarantee AS  &quot;worksDetail_bankGuarantee&quot;,wd.fundId  
			  AS &quot;worksDetail_fundId&quot;, wd.fundSourceId  AS &quot;worksDetail_fundSourceId&quot;,          
			  wd.wardid  AS &quot;worksDetail_wardId&quot;,T.id AS &quot;worksDetail_workstds&quot;,wd.isActive AS  
			  &quot;worksDetail_isActive&quot;,        wd.TYPE  AS &quot;worksDetail_type&quot; ,cbd.billamount AS  &quot;worksDetail_billAmount&quot;,
			  sbd.billamount AS  &quot;worksDetail_suppBillAmount&quot;,wd.SANCTIONNO AS  &quot;worksDetail_sanctionno&quot; ,wd.sanctiondate  
			  AS &quot;worksDetail_sanctionDate&quot;, wd.remarks AS &quot;worksDetail_remarks&quot;,cbd.ISREVERSED 
			  AS  &quot;worksDetail_isreversed&quot;,sbd.ISREVERSED AS &quot;supplier_isreversed&quot;  
			  
			  FROM EG_BOUNDARY egb right outer join EGW_WORKS_MIS egw ON egw.fieldid = egb.id_bndry,worksDetail wd left join chartOfAccounts ca ON wd.GLCODEID = ca.ID,relation rel,
			  worksDetail w2 left join tds t  ON w2.TDSID = t.ID,
			  WORKSDETAIL w3 left join CONTRACTORBILLDETAIL cbd ON w3.id=cbd.worksdetailid AND cbd.VOUCHERHEADERID IN(SELECT id FROM egf_record_status WHERE status!=4),
			   WORKSDETAIL w4 left join SUPPLIERBILLDETAIL sbd ON w4.id=sbd.worksdetailid  AND sbd.VOUCHERHEADERID IN(SELECT id FROM egf_record_status WHERE status!=4) 
			     WHERE  
			  wd.CODE = '@1' AND wd.RELATIONID = rel.ID AND w2.id=wd.id AND  wd.id=w3.id  AND w4.id=wd.id and egw.worksdetailid =wd.id 
			  ORDER BY cbd.billamount  
 	                  DESC,sbd.billamount DESC">
			<parameter dataSource="worksDetail_code" isRequired="true" />
			 </sqlTemplate>
	-->		 
			 <sqlTemplate id="selectedAssetList"
		   		template="SELECT asset.description as &quot;selected_Asset&quot; 
			  	FROM eg_asset asset,eg_asset_po apo,worksdetail wd
			  	WHERE wd.id=apo.WORKORDERID AND asset.ASSETID=apo.ASSETID AND wd.CODE = '@1'">
				<parameter dataSource="worksDetail_code" isRequired="true" />
			 </sqlTemplate>
					
			<sqlTemplate id="getDCPDetails"
					template="select vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,
					vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,decode(vh.fundsourceid,null,' ',(select id from fundsource where id=vh.fundsourceid)) AS &quot;fundSource_id&quot;,f.id AS &quot;fund_id&quot;,
					vh.description AS &quot;voucherHeader_narration&quot;,vd.glcode AS &quot;chartOfAccounts_glCode_CInH&quot;,
					mbd.paidById AS &quot;billCollector_id&quot;,mbd.paidTo AS &quot;miscBillDetail_paidTo&quot;,
					mbd.amount AS &quot;miscBillDetail_billAmount&quot;,mbd.passedAmount AS &quot;chequeDetail_passedAmount&quot;,
					mbd.billDate AS &quot;miscBillDetail_billDate&quot;,mbd.billNumber AS &quot;miscBillDetail_billNumber&quot;,
					vd.creditAmount AS &quot;voucherDetail_passedAmount&quot;,
					vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;,eg.user_name as &quot;voucherHeader_createdby&quot;,
					vh.id as &quot;voucherHeader_id&quot;,egv.divisionid as &quot;field_name&quot;,mbd.billvhid AS &quot;BillVhID&quot;,(select id from scheme where id=egv.schemeid) as &quot;scheme&quot;,(select id from sub_scheme where id=egv.subschemeid) as &quot;subscheme&quot;
					from fund f,  paymentHeader ph,voucherHeader vh left join EG_USER eg ON vh.createdby=eg.id_user,MiscBillDetail mbd,voucherDetail vd ,vouchermis egv 
					where f.id=vh.fundid and vd.voucherHeaderId=vh.id and vh.ID=egv.VOUCHERHEADERID  AND vd.creditAmount!=0
					and ph.voucherHeaderid=vh.id and ph.MiscBillDetailId = mbd.id and vh.id=egv.voucherHeaderId and vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) 
					from voucherheader vp where vp.cgn='@1') ">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="getDCPDetailsOW"
					template="select vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
				vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.status as &quot;voucherHeader_status&quot;
				from voucherHeader vh where cgn='@1'">
					<parameter dataSource="cgNumber" isRequired="true" />
				</sqlTemplate>
			
	<sqlTemplate id="loadSubLedgerAdvanceData"
			      template="select cgn as &quot;cgnNum&quot;,mis.divisionid as  &quot;field_name&quot;,mis.departmentid  as&quot;departmentId&quot;,mis.functionaryid as &quot;functionaryId&quot;, cgvn as &quot;voucherHeader_cgn&quot;,
			    vouchernumber as &quot;voucherHeader_voucherNumber&quot;,
			    sph.typeofpayment as &quot;typeOfPayment&quot;,
			    to_char(voucherdate,'dd-Mon-yyyy') as &quot;voucherHeader_voucherDate&quot;,r.name AS &quot;contractor_supplier_name&quot;,
			    r.code as &quot;contractor_supplier_code&quot;,r.id as &quot;relation_id&quot;,
			    w.id as &quot;worksDetail_id&quot;,
			    f.name as &quot;fund_name&quot;,f1.name as &quot;fund1_name&quot;,
			     DECODE(vh.fundsourceid,NULL,'',(SELECT name FROM fundsource WHERE id=vh.fundsourceid)) as &quot;fundSource_name&quot;,
			                   f.id as &quot;fund_id&quot;,
			                   vh.fundsourceid as &quot;fundSource_id&quot;,
			                   f.id as &quot;fundValue&quot;,
			                   w.id as &quot;workOrderID&quot;,
			                   r.code  as &quot;supplierCode&quot;,
			    chequenumber as &quot;chequeDetail_chequeNumber&quot; ,vh.id as &quot;voucherHeader_id&quot;,
			    to_char(chequedate,'dd-Mon-yyyy')  as &quot;chequeDetail_chequeDate&quot;,
			    sph.paidamount as &quot;contracotrBillDetail_advanceA&quot;,
			    vh.description as &quot;voucherHeader_narration&quot;,
			    sph.bankaccountid  as &quot;bid&quot; ,
			                   (select  k.branchid  from bankaccount k where k.id=sph.bankaccountid) as &quot;branchId&quot;,
			   sph.bankaccountid  as &quot;accountGroup_accountNumberId&quot;,
			   (select  bankid||'-'||branchid from bankaccount ba,bankbranch bb  where bb.id=ba.branchid and ba.id=sph.bankaccountid  )
			   
			     &quot;bank_id&quot;,f1.id AS &quot;fund1_id&quot;,(SELECT vh1.vouchernumber FROM voucherheader vh1 WHERE vh1.cgn=vh.refcgno) AS &quot;jv_voucherNumber&quot;,(select id from scheme where id=mis.schemeid) as &quot;scheme&quot;,(select id from sub_scheme where id=mis.subschemeid) as &quot;subscheme&quot;,(select name from scheme where id=mis.schemeid) as &quot;schemeid&quot;,(select name from sub_scheme where id=mis.subschemeid) as &quot;subschemeid&quot;
			      from vouchermis mis,voucherheader vh,subledgerpaymentheader sph,chequedetail cq,worksdetail w ,relation r,fund f,fund f1,bankaccount ba1
			      where sph.voucherheaderid=vh.id  and cq.id=sph.chequeid       
			    and w.id=sph.worksdetailid and  r.id=w.relationid and f.id=w.fundid AND f1.id=ba1.fundid AND ba1.id=sph.bankaccountid
			    and mis.voucherheaderid=vh.id and vh.id=mis.voucherheaderId 		    
			    and vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from voucherheader vp where vp.cgn='@1')">
			   <parameter dataSource="drillDownCgn" isRequired="true" />
	</sqlTemplate>
		
		<sqlTemplate id="fundSourceName"
				template="SELECT ID, name FROM fundSource where isactive=1">
			</sqlTemplate>
			
					
		<sqlTemplate  id="salarySubLedgerPayment" template="select distinct s.id as &quot;salaryBillDetail_id&quot;,v.id as &quot;voucherHeaderId&quot;,v.voucherNumber as &quot;voucherHeader_voucherNumber1&quot;,v.voucherDate as &quot;voucherHeader_voucherDate1&quot;,s.grossPay as &quot;salaryBillDetail_grossPay&quot;,s.totalDeductions as &quot;salaryBillDetail_totalDed&quot;,s.netPay-s.paidamount as &quot;salaryBillDetail_netPay&quot;,s.paidamount as &quot;salaryBillDetail_paidAmount&quot; from salaryBillDetail s,voucherHeader v,voucherdetail vd   where s.netpay>s.paidamount AND v.id=s.voucherHeaderId AND s.mmonth='@1' and v.status = 0 and v.fundid=@2 {and v.fundSourceid=@3} and 
		   v.id=vd.voucherheaderid and vd.DEBITAMOUNT>0" >
		   <parameter dataSource="mmonth" isRequired="true"/>
		   <parameter dataSource="paramFund" isRequired="true"/>
		   <parameter dataSource="paramFundSource" isRequired="false"/>
		  
  </sqlTemplate>
			
		
		<sqlTemplate id="glcId" 
		template="SELECT id as &quot;chartOfAccounts_id&quot; from chartofaccounts where glcode='@1'">
		<parameter dataSource="glcoId" isRequired="true" />
		</sqlTemplate>
		
		
		
		<sqlTemplate id="fy_detailData" 
		template="SELECT id as &quot;detailTypeId&quot; from accountdetailtype where attributename='financialYear_id'">
		</sqlTemplate>
		
		<sqlTemplate id="getFundForBranch" 
		template="SELECT f.name as &quot;Fund_name&quot;,f.id as &quot;Fund_id&quot; FROM bankAccount b,fund f WHERE b.Id =@1 AND b.isactive=1 AND fundid =f.id">
		<parameter dataSource="bankAccountID" isRequired="true" />
		</sqlTemplate>
		<sqlTemplate id="getWoDetails" 
		template="SELECT wd.id,wd.name      
		  FROM voucherHeader vh,contractorBillDetail cbd,worksDetail wd     
		  WHERE cbd.contractorId= wd.RELATIONID AND  cbd.voucherHeaderId=vh.id AND  
		  vh.cgn='@1'">
		<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>
		<sqlTemplate id="getSuWoDetails" 
		template="SELECT wd.id,wd.name||'`-`'||wd.code       
		  FROM voucherHeader vh,supplierBillDetail sbd,worksDetail wd     
		  WHERE sbd.supplierId= wd.RELATIONID AND  sbd.voucherHeaderId=vh.id AND  
		  vh.cgn='@1'">
		<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>
		
		
		"SELECT c.glcode as &quot;&quot; from chartofaccounts c,bankaccount b where b.glcodeid=c.id AND b.id=@1 and 1=@2">
		<parameter dataSource="bankAccountID" isRequired="false" />
		<parameter dataSource="condition" isRequired="true" />
		
		
		<sqlTemplate id="fundSource_name"
				template="SELECT  ID, name from fundSource where isactive=1 and isnotleaf!=1 order by name">
			</sqlTemplate>
		
		<sqlTemplate id="workFundSourceMap"
			template="SELECT decode(fundsourceid,null,'',(select name from fundsource where id=fundsourceid)) as &quot;fundSource_name&quot;,fundsourceid as &quot;fundSource_id&quot; FROM worksdetail  where id=@1">
			<parameter dataSource="workOrderID" isRequired="true" />
		</sqlTemplate>
		
			<sqlTemplate id="jSChequePayInSlip"
									template="SELECT chequenumber,payinslipnumber FROM chequedetail  WHERE payinslipnumber IS NOT NULL  ORDER BY payinslipnumber">
					</sqlTemplate>
		
		<sqlTemplate id="vDetails"
			template="SELECT cgn AS &quot;colA&quot;,vouchernumber AS &quot;colB&quot;,voucherdate AS &quot;colC&quot; ,SUM(debitamount)AS &quot;colD&quot; FROM VOUCHERHEADER vh,GENERALLEDGER gl WHERE
				vh.id=gl.VOUCHERHEADERID AND gl.glcode LIKE @1||'%'
				AND debitamount>0				
				GROUP BY vouchernumber,cgn,voucherdate ORDER BY voucherdate DESC">
				<parameter dataSource="glcode" isRequired="true" />	
			</sqlTemplate>
		
		
		<sqlTemplate id="fundSourceName"
				template="SELECT ID, name FROM fundSource where isactive=1 and isnotleaf!=1 order by name">
			</sqlTemplate>
		
		<sqlTemplate id="jvFundSource"
				template="select detailkeyid as &quot;fundSource_id&quot; from generalLedgerDetail a,generalLedger b where 
				a.generalLedgerid=b.id and b.voucherHeaderid in (select id from voucherheader where cgn='@1') and DETAILTYPEID=15">
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
		
		<sqlTemplate  id="jvsal_fundSourceName" 
				template="select id,name from fundSource where isactive=1 and isnotleaf!=1 order by name">
			</sqlTemplate>
		
		<sqlTemplate  id="jvCToB_fundSourceName" 
				template="select id,name from fundSource where isactive=1 and isnotleaf!=1 order by name">
			</sqlTemplate>
		
		<sqlTemplate  id="getCgn" 
				template="select unique cgn as &quot;getCgno&quot; from voucherheader where vouchernumber='@1' { and fiscalperiodid='@2'}">
				<parameter dataSource="vouNumber" isRequired="true" />
				<parameter dataSource="fiscalPeriod" isRequired="false" />
				
			</sqlTemplate>
			<sqlTemplate  id="getCodeRange" 
					template=" select max(glcode) as &quot;toGlcode&quot; from chartofaccounts where glcode LIKE @1||'%'">
					<parameter dataSource="glcode" isRequired="true" />
					</sqlTemplate>
			
			
			<sqlTemplate  id="assetCategory" 
					template="select id,name from   assetCategory order by id ">
			</sqlTemplate>
			
			<sqlTemplate  id="assetMode" 
					template="select id,name from   assetMode order by id">
			</sqlTemplate>
		
			<sqlTemplate  id="assetStatus" 
					template="select id,name from   assetStatus  order by id">
			</sqlTemplate>
		
			<sqlTemplate  id="assetType" 
					template="select id,name from   assetType order by id">
			</sqlTemplate>
			<sqlTemplate  id="landTypes" 
					template="select id,name from   landType order by id">
			</sqlTemplate>
			<sqlTemplate id="assetsModData" 
				template="SELECT id AS &quot;asset_ID&quot;,
				code AS &quot;asset_code&quot;,
			   		name AS &quot;asset_name&quot;,
					parentid AS &quot;asset_parentid&quot;,
					status AS &quot;asset_status&quot;,
					typeid AS &quot;asset_typeId&quot;,
					description AS &quot;asset_description&quot;,
					assetmodeid AS &quot;asset_modeId&quot;,
					departmentid AS &quot;asset_departmentid&quot;,			
					location AS &quot;asset_location&quot;,
					initVal AS &quot;asset_initVal&quot;,			
		            commDate AS &quot;asset_commDate&quot;,
					maxShifts AS 	&quot;asset_maxShifts&quot;,
					hasDocs AS &quot;asset_hasDocs&quot;,
					surveyNo AS &quot;asset_surveyNo&quot;,
					dimensions AS &quot;asset_dimensions&quot;
					FROM  ASSET a 
					WHERE code='@1'">
				<parameter dataSource="assets_codeToSearch" isRequired="true" />
			</sqlTemplate>
					<sqlTemplate id="landAssetsData" 
				template="SELECT b.id AS &quot;land_ID&quot;,
				landtype AS &quot;asset_landType&quot;,
			   		lSNO AS &quot;asset_lSNO&quot;,
					lDimensions AS &quot;asset_lDimensions&quot;,
					hasTrees AS &quot;asset_hasTrees&quot;,
					etcValue AS &quot;asset_etcValue&quot;
					FROM  ASSET a ,land b 
					WHERE b.id=a.landid and a.code='@1'">
				<parameter dataSource="assets_codeToSearch" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="assetCatModData" 
				template="SELECT id AS &quot;assetCategory_ID&quot;,
				code AS &quot;assetCategory_code&quot;,
			   		name AS &quot;assetCategory_name&quot;,
					parentid AS &quot;assetCategory_parentid&quot;,
					deprmethod as &quot;assetCategory_deprMethod&quot;,
					maxlife as &quot;assetCategory_maxLife&quot;,
					assetCode AS &quot;assetCategory_assetCode&quot;,
					accDepCode AS &quot;assetCategory_accDepCode&quot;,
					cwipCode AS &quot;assetCategory_cwipCode&quot;,		
					depexpCode AS &quot;assetCategory_depexpCode&quot;,
					revCode AS &quot;assetCategory_revCode&quot;,			
					lastModified as	&quot;assetCategory_lastModified&quot;
					FROM  ASSETCATEGORY a 
					WHERE code='@1'">
				<parameter dataSource="assets_codeToSearch" isRequired="true" />
			</sqlTemplate>
		
			<sqlTemplate id="deprMethod" 
				template="SELECT id,name from deprformula">
			</sqlTemplate>
			<sqlTemplate id="assetCatEnqData" 
				template="SELECT id AS &quot;assetCategory_ID&quot;,
				code AS &quot;assetCategory_code&quot;,
			   		name AS &quot;assetCategory_name&quot;,
					(SELECT name FROM ASSETCATEGORY WHERE id=parentid) AS &quot;assetCategory_parentid&quot;,
					(SELECT name FROM deprformula WHERE id=deprmethod) AS &quot;assetCategory_deprMethod&quot;,
					maxlife AS &quot;assetCategory_maxLife&quot;,
					assetCode AS &quot;assetCategory_assetCode&quot;,
					accDepCode AS &quot;assetCategory_accDepCode&quot;,
					cwipCode AS &quot;assetCategory_cwipCode&quot;,		
					depexpCode AS &quot;assetCategory_depexpCode&quot;,
					revCode AS &quot;assetCategory_revCode&quot;,			
					TO_CHAR(lastModified,'dd-mon-yyyy') AS	&quot;assetCategory_lastModified&quot;
					FROM  ASSETCATEGORY a where code='@1'">
				<parameter dataSource="assets_codeToSearch" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="assetEnqData" 
				template="
				SELECT id AS &quot;asset_ID&quot;,
				code AS &quot;asset_code&quot;,
			   		name AS &quot;asset_name&quot;,
					(SELECT name FROM assetcategory WHERE id=a.parentid) AS &quot;asset_parentid&quot;,
					(SELECT name FROM assetstatus WHERE id=a.status) AS &quot;asset_status&quot;,
					(SELECT name FROM assettype WHERE id=a.typeid) AS &quot;asset_typeId&quot;,
					description AS &quot;asset_description&quot;,
					(SELECT name FROM assetmode WHERE id=assetmodeid) AS &quot;asset_modeId&quot;,
					(SELECT name FROM department WHERE id=departmentid) AS &quot;asset_departmentid&quot;,			
					(SELECT name FROM organizationstructure WHERE id=location) AS &quot;asset_location&quot;,
					initVal AS &quot;asset_initVal&quot;,			
		            TO_CHAR(commDate,'dd-mon-yyyy') AS &quot;asset_commDate&quot;,
					maxShifts AS 	&quot;asset_maxShifts&quot;,
					DECODE(hasDocs,1,'Yes','No')			 AS &quot;asset_hasDocs&quot;,
					surveyNo AS &quot;asset_surveyNo&quot;,
					dimensions AS &quot;asset_dimensions&quot;
					FROM  ASSET a 
			 where code='@1'">
				<parameter dataSource="assets_codeToSearch" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="landAssetsEnqData" 
				template="SELECT b.id AS &quot;land_ID&quot;,
				(SELECT name FROM landtype WHERE id=b.landtype) AS &quot;asset_landType&quot;,
			   		lSNO AS &quot;asset_lSNO&quot;,
					lDimensions AS &quot;asset_lDimensions&quot;,
					DECODE(hasTrees,1,'Yes','No') AS &quot;asset_hasTrees&quot;,
					etcValue AS &quot;asset_etcValue&quot;
					FROM  ASSET a ,land b 
					WHERE b.id=a.landid AND a.code='@1'">
				<parameter dataSource="assets_codeToSearch" isRequired="true" />
			</sqlTemplate>
			
		<sqlTemplate id="wardOnBC"
				template="SELECT     ID, name FROM organizationStructure
					WHERE    description='Ward' {and ID IN  (SELECT     wardid   FROM  billCollectordetail a, billcollector b    WHERE  billcollectorid = b.id AND b.id =@1)}">
					<parameter dataSource="billCollector_codeToSearch" isRequired="false" />
			</sqlTemplate>
		
		<sqlTemplate id="rptTopGrid"
				template=" SELECT a.id AS &quot;financialyear_id&quot;,financialyear AS  &quot;period&quot;
		,startingdate AS &quot;startingdate&quot;,amount AS &quot;totalAmount&quot;,penalty AS &quot;penalty&quot;,propertytax
		AS &quot;mNetAmt&quot; 
		FROM financialyear a left outer join propertytaxintermediate b
		ON 
		a.id=b.period 
		,voucherheader vh
		WHERE b.voucherheaderid=vh.id AND vh.cgn='@1' AND
		startingdate&gt;= TO_DATE(
		TO_CHAR('1-apr-'||
		(
		CASE extract(MONTH FROM  SYSDATE) 	 		   WHEN 1 THEN extract(YEAR FROM SYSDATE)-5  
			 			   							   WHEN 2 THEN extract(YEAR FROM SYSDATE)-5
													   WHEN 3 THEN extract(YEAR FROM SYSDATE)-5    		
													   ELSE   	   extract(YEAR FROM SYSDATE)-4
													   END 
													    )) )
														
		AND endingdate&lt;=TO_DATE(TO_CHAR('31-mar-'||
		(
		CASE extract(MONTH FROM SYSDATE)               WHEN 1 THEN extract(YEAR FROM SYSDATE)  
			 			   							   WHEN 2 THEN extract(YEAR FROM SYSDATE)
													   WHEN 3 THEN extract(YEAR FROM SYSDATE)    		
													   ELSE   	   extract(YEAR FROM SYSDATE)+1
													   END 
													    )) )
														
		UNION 
		SELECT -1 AS &quot;financialyear_id&quot;,'Old' AS  &quot;period&quot;,TO_DATE('1-jan-1800') AS &quot;startingdate&quot;,amount AS &quot;totalAmount&quot;,penalty AS &quot;penalty&quot;,propertytax
		AS &quot;mNetAmt&quot; 
		FROM propertytaxintermediate,voucherheader vh WHERE period=-1 AND voucherheaderid=vh.id AND vh.cgn='@2' 
		
		
		UNION
		
		
		SELECT id AS &quot;financialyear_id&quot;,financialyear AS  &quot;period&quot;
		,startingdate AS &quot;startingdate&quot;,NULL AS &quot;totalAmount&quot;,NULL AS &quot;penalty&quot;,NULL
		AS &quot;mNetAmt&quot; 
		FROM financialyear 
		WHERE id NOT IN(SELECT period FROM propertytaxintermediate,voucherheader vh WHERE voucherheaderid=vh.id AND cgn='@3') AND
		startingdate&gt;= TO_DATE(
		TO_CHAR('1-apr-'||
		(
		CASE extract(MONTH FROM  SYSDATE) 	 		   WHEN 1 THEN extract(YEAR FROM SYSDATE)-5  
			 			   							   WHEN 2 THEN extract(YEAR FROM SYSDATE)-5
													   WHEN 3 THEN extract(YEAR FROM SYSDATE)-5    		
													   ELSE   	   extract(YEAR FROM SYSDATE)-4
													   END 
													    )) )
														
		AND endingdate&lt;=TO_DATE(TO_CHAR('31-mar-'||
		(
		CASE extract(MONTH FROM SYSDATE)               WHEN 1 THEN extract(YEAR FROM SYSDATE)  
			 			   							   WHEN 2 THEN extract(YEAR FROM SYSDATE)
													   WHEN 3 THEN extract(YEAR FROM SYSDATE)    		
													   ELSE   	   extract(YEAR FROM SYSDATE)+1
													   END 
													    )) )
		
		
		UNION 
		
		SELECT -1 AS &quot;financialyear_id&quot;,'Old' AS  &quot;period&quot;,TO_DATE('1-jan-1800') AS &quot;startingdate&quot;,NULL AS &quot;totalAmount&quot;,NULL AS &quot;penalty&quot;,NULL
		AS &quot;mNetAmt&quot; 
		FROM dual WHERE -1 NOT IN(SELECT period FROM propertytaxintermediate p,voucherheader vh 
		WHERE p.voucherheaderid=vh.id AND vh.cgn='@4') 
														
		ORDER BY &quot;startingdate&quot; DESC
		
		
		">
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
		<sqlTemplate id="rptTopGridNew"
					template="SELECT distinct a.financialyear AS  &quot;period&quot;,amount AS &quot;totalAmount&quot;,
			penalty AS&quot;penalty&quot;,propertytax AS &quot;mNetAmt&quot;FROM egf_tax_account_mapping a left outer join propertytaxintermediate b 
			ON  a.financialyear=b.period,voucherheader vh WHERE b.voucherheaderid=vh.id AND vh.cgn= '@1'
			UNION 
					SELECT distinct a.financialyear AS  &quot;period&quot;,amount AS &quot;totalAmount&quot;,
			penalty AS&quot;penalty&quot;,propertytax AS &quot;mNetAmt&quot;FROM egf_tax_account_mapping a left outer join propertytaxintermediate b 
			ON  a.financialyear=b.period,voucherheader vh WHERE b.voucherheaderid=vh.ORIGINALVCID AND vh.cgn= '@2'" >
			<parameter dataSource="cgNumber" isRequired="true" />
			<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>
		
		
			<sqlTemplate id="rptDrillBankDebitList" 
					template="SELECT a.glcode AS &quot;display_debitCode&quot;,a.name AS &quot;display_debitHead&quot;,
		'cess' AS &quot;TYPE&quot;,debitamount AS &quot;display_debitAmt&quot;
		FROM chartofaccounts a,EGF_ACCOUNTCODE_PURPOSE b,generalledger vd,voucherheader vh,voucherheader vh1 
		WHERE a.purposeid=b.id
		AND   b.name='Cess Control' 
		AND vh.id=vd.voucherheaderid AND a.glcode=vd.glcode AND vh.cgn=vh1.refcgno AND vh1.cgn='@1'
		UNION ALL
		SELECT a.glcode AS &quot;display_debitCode&quot;,a.name AS &quot;display_debitHead&quot;,
		'cheque' AS &quot;TYPE&quot; ,debitamount AS &quot;display_debitAmt&quot;
		FROM chartofaccounts a,bankaccount b,generalledger vd,voucherheader vh
		WHERE a.id=b.glcodeid AND
		vh.id=vd.voucherheaderid AND a.glcode=vd.glcode AND vh.cgn='@2' 
		ORDER BY &quot;display_debitCode&quot;">
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
		
		<sqlTemplate id="rptDrillDebitList" 
					template=" SELECT a.glcode AS &quot;display_debitCode&quot;,a.name AS &quot;display_debitHead&quot;,
		'cess' AS &quot;TYPE&quot;,debitamount AS &quot;display_debitAmt&quot;
		FROM chartofaccounts a,EGF_ACCOUNTCODE_PURPOSE b,generalledger vd,voucherheader vh,voucherheader vh1 WHERE a.purposeid=b.id
		AND   (b.name='Cess Control')
		AND vh.id=vd.voucherheaderid AND a.glcode=vd.glcode AND vh.cgn=vh1.refcgno AND vh1.cgn='@1'
		UNION ALL
			SELECT a.glcode AS &quot;display_debitCode&quot;,a.name AS &quot;display_debitHead&quot;,
			'cash' AS &quot;TYPE&quot; ,debitamount AS &quot;display_debitAmt&quot;
			FROM chartofaccounts a,EGF_ACCOUNTCODE_PURPOSE b ,generalledger vd,voucherheader vh WHERE a.purposeid=b.id
			AND   (b.name='Cash In Hand')
			AND vh.id=vd.voucherheaderid AND a.glcode=vd.glcode AND vh.cgn='@2'
			UNION ALL  
			SELECT a.glcode AS &quot;display_debitCode&quot;,a.name AS &quot;display_debitHead&quot;,
			'cheque' AS &quot;TYPE&quot;,debitamount AS &quot;display_debitAmt&quot;
			FROM chartofaccounts a,EGF_ACCOUNTCODE_PURPOSE b,generalledger vd,voucherheader vh 
			WHERE a.purposeid=b.id
			AND b.name='Cheque In Hand'
			AND vh.id=vd.voucherheaderid AND a.glcode=vd.glcode AND vh.cgn='@3'
		ORDER BY &quot;display_debitCode&quot;">
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
				
			<sqlTemplate id="deptList"
				template="select id,name from department">
			</sqlTemplate>
		
			<sqlTemplate id="loadAccCodes"
					template="SELECT  ID as &quot;divId&quot;,glCode as &quot;divCode&quot;  FROM chartofaccounts WHERE classification=4 {and    glcode like '@1'||'%'} order by glcode ">
					<parameter dataSource="deptCode" isRequired="false" />
					
			
			</sqlTemplate>
			
			<sqlTemplate id="loadDeptData"
					template="select b.glcodeid,a.glcode from chartofaccounts a,deptaccmapping b where a.id=b.glcodeid and deptid=@1 order by glcode">
					<parameter dataSource="actParam" isRequired="true" />
			</sqlTemplate>
			
		
		<sqlTemplate id="BoundaryType"
				template="select ID_BNDRY_TYPE ,NAME from EG_BOUNDARY_TYPE">
			</sqlTemplate>
			<sqlTemplate id="BoundaryLevelValues"
				template="SELECT ID_BNDRY ,NAME FROM EG_BOUNDARY WHERE ID_BNDRY_TYPE = '@1' ">
				<parameter dataSource="adminLevel_ID" isRequired="true" />
			</sqlTemplate>
			
			<sqlTemplate id="CashInHandList"
				template="SELECT ID,GLCODE FROM CHARTOFACCOUNTS WHERE PURPOSEID = '@1'">
				<parameter dataSource="purposeIdCs" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="ChequeInHandList"
				template="SELECT ID,GLCODE FROM CHARTOFACCOUNTS WHERE PURPOSEID = '@1'">
				<parameter dataSource="purposeIdCq" isRequired="true" />
			</sqlTemplate>
			
			<sqlTemplate id="BoundaryLevelExistance"
				template="SELECT count(id) as idCount FROM CODEMAPPING WHERE EG_BOUNDARYID = '@1' ">
				<parameter dataSource="boundaryLevel_ID" isRequired="true" />
			</sqlTemplate>
			
			<sqlTemplate id="highLightCashId"
				template="select id AS &quot;ID&quot;,cashinhand AS &quot;cashInHandId&quot;,chequeinhand AS &quot;ChequeInHandId&quot; from  codemapping where eg_boundaryid=@1 ">
				<parameter dataSource="boundaryLevelId" isRequired="true" />
			</sqlTemplate>	
			
			<sqlTemplate id="BoundaryLevelList"
				template="select ID_BNDRY AS &quot;BNDRYID&quot;,name AS &quot;Name&quot; from EG_BOUNDARY where ID_BNDRY_TYPE= @1 ">
				<parameter dataSource="boundaryTypeId" isRequired="true" />
			</sqlTemplate>	
			
			<sqlTemplate id="highLightCashValue"
				template="select id AS &quot;cashinhandId&quot;,glcode AS &quot;cashinhand&quot;from chartofaccounts where id=(select cashinhand from codemapping where EG_BOUNDARYID=@1) ">
				<parameter dataSource="boundaryLevelId" isRequired="true" />
				
			</sqlTemplate>	
			<sqlTemplate id="highLightChequeValue"
				template="select id AS &quot;chequeinhandId&quot;,glcode AS &quot;chequeinhand&quot;from chartofaccounts where id=(select chequeinhand from codemapping where EG_BOUNDARYID=@1) ">
				<parameter dataSource="boundaryLevelId" isRequired="true" />
			</sqlTemplate>	
			
			<sqlTemplate id="highLightBoundaryId"
				template="SELECT a.BNDRY_NUM, b.cashinhand, b.chequeinhand FROM CODEMAPPING b ,EG_BOUNDARY  a WHERE a.ID_BNDRY=b.EG_BOUNDARYID AND ID_BNDRY_TYPE=@1 ">
				<parameter dataSource="boundaryLevelId" isRequired="true" />
			</sqlTemplate>	
			
			<sqlTemplate id="DefaultBndrySetting"
				template="SELECT MAX(id_bndry) AS &quot;boundaryLevelId&quot;,COUNT(id_bndry_type) AS &quot;noOfBoundaryLevels&quot; FROM EG_BOUNDARY WHERE id_bndry_type=@1  GROUP BY id_bndry_type HAVING COUNT(id_bndry_type)=1   ">
				<parameter dataSource="boundaryTypeId" isRequired="true" />
			</sqlTemplate>	
			<sqlTemplate id="DefaultChequeValue"
				template="SELECT a.id AS &quot;chequeinhandId&quot; ,a.glcode AS &quot;chequeinhand&quot; FROM CHARTOFACCOUNTS a,EG_BOUNDARY b WHERE id=(SELECT chequeinhand FROM CODEMAPPING WHERE EG_BOUNDARYID=@1 )  AND b.ID_BNDRY_TYPE=@2 GROUP BY id,glcode HAVING COUNT(ID_BNDRY_TYPE )=1  ">
				<parameter dataSource="boundaryLevelId" isRequired="true" />
				<parameter dataSource="boundaryTypeId" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="DefaultCashValue"
				template="SELECT a.id AS &quot;cashinhandId&quot; ,a.glcode AS &quot;cashinhand&quot; FROM CHARTOFACCOUNTS a,EG_BOUNDARY b WHERE id=(SELECT cashinhand FROM CODEMAPPING WHERE EG_BOUNDARYID=@1 )  AND b.ID_BNDRY_TYPE=@2 GROUP BY id,glcode HAVING COUNT(ID_BNDRY_TYPE )=1  ">
				<parameter dataSource="boundaryLevelId" isRequired="true" />
				<parameter dataSource="boundaryTypeId" isRequired="true" />
			</sqlTemplate>
			
			<sqlTemplate id="allwards"
				template="select a.ID_BNDRY,a.NAME from eg_boundary a,eg_boundary_type b where a.ID_BNDRY_TYPE=b.ID_BNDRY_TYPE and (b.name='ward' or b.name='Ward') order by a.name">
				
			</sqlTemplate>
			
			<sqlTemplate id="LoadGlcode"
				template="SELECT id AS &quot;Id&quot;, glcode AS &quot;GLCode&quot; FROM chartofaccounts WHERE TYPE='@1'  ORDER BY &quot;GLCode&quot; ">
				<parameter dataSource="Type1" isRequired="true" />
				
			</sqlTemplate>
			
			<sqlTemplate id="LoadScheduleGrid" 
				template=" SELECT glcode AS &quot;glcode&quot;,OPERATION AS &quot;operation&quot; FROM CHARTOFACCOUNTS WHERE SCHEDULEID='@1'">
				<parameter dataSource="schedule" isRequired="true"/>
			</sqlTemplate>
				
			<sqlTemplate id="loadSubLedgerSalaryData" 
			    template="SELECT vh.ID as &quot;voucherHeader_id&quot;,cgvn AS &quot;voucherHeader_cgvn&quot;,cgn AS &quot;voucherHeader_cgn&quot;,vouchernumber AS &quot;voucherHeader_voucherNumber&quot;,
			    TO_CHAR(voucherdate,'dd-mon-yyyy') AS &quot;voucherHeader_voucherDate&quot;,sbd.mmonth AS &quot;salaryBillDetail_mmonth&quot; ,
			    ((SELECT  FUNDID FROM VOUCHERHEADER WHERE CGN=(SELECT DECODE( REFCGNO,NULL, DECODE(REFCGNO,'',CGN),REFCGNO)FROM VOUCHERHEADER VH WHERE CGN= '@2'))) AS &quot;fund_id&quot;,
			    vh.fundSourceid AS &quot;fundSource_id&quot;,sph.chequeid AS &quot;chequeId&quot;,DECODE(chequeid , NULL,'Cash','Cheque') AS &quot;rsph_typeOfPayment&quot;,
			    paidby AS &quot;subLedgerPaymentHeader_paidBy&quot;,paidto AS &quot;chequeDetail_payTo&quot;,
			    (SELECT chequenumber FROM chequedetail WHERE id=sph.chequeid)AS &quot;chequeDetail_chequeNumber&quot; ,
			    (SELECT TO_CHAR(chequedate,'dd-mon-yyyy') FROM chequedetail WHERE id=sph.chequeid)  AS &quot;chequeDetail_chequeDate&quot;,
			    vh.description AS &quot;narration&quot;,
			    (SELECT  b.id  FROM bank a ,bankbranch b, bankaccount c  WHERE a.id=b.bankid AND b.id=c.branchid AND c.id=sph.BANKACCOUNTID) AS &quot;subLedgerPaymentHeader_bankId&quot;,
			    DECODE(sph.BANKACCOUNTID,0,NULL,sph.BANKACCOUNTID) AS &quot;rsph_branchAccountId&quot;,
			    (select vouchernumber from voucherheader where cgn=(SELECT DECODE( REFCGNO,NULL, DECODE(REFCGNO,'',null),REFCGNO)FROM VOUCHERHEADER VH WHERE CGN= '@3')) as &quot;jv_voucherNumber&quot;,
			    DECODE((SELECT  b.id  FROM bank a ,bankbranch b, bankaccount c  WHERE
			     a.id=b.bankid AND b.id=c.branchid AND c.id=sph.BANKACCOUNTID),NULL,0,(SELECT  b.id  FROM bank a ,bankbranch b, bankaccount c  WHERE
			     a.id=b.bankid AND b.id=c.branchid AND c.id=sph.BANKACCOUNTID)) 
			    AS &quot;branchId&quot; ,mis.divisionid as  &quot;field_name&quot;,(select id from scheme where id=mis.schemeid) as &quot;scheme&quot;, (select id from sub_scheme where id=mis.subschemeid) as &quot;subscheme&quot;
			                
			    FROM salarybilldetail sbd,voucherheader  vh ,subledgerpaymentheader sph ,vouchermis mis
			    WHERE  sph.salarybillid=sbd.id AND sph.voucherheaderid=vh.id and mis.voucherheaderid=vh.id AND vh.cgn=  (SELECT DECODE(vp.status,2,
			           (SELECT cgn FROM voucherheader WHERE id=vp.originalvcid),vp.cgn) FROM voucherheader vp WHERE vp.cgn='@1') ">
			    <parameter dataSource="drillDownCgn" isRequired="true"/>
			    <parameter dataSource="drillDownCgn" isRequired="true"/>
			    <parameter dataSource="drillDownCgn" isRequired="true"/>
			       
			   </sqlTemplate>
			   
			   <!-- modified by mani select vh.cgvn AS &quot; to  select vh.cgn AS &quot for revrse -->
			   <sqlTemplate id="getloadSubLedgerSalaryData"
			   				template="select vh.cgn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
			   			vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.status as &quot;voucherHeader_status&quot;
			   			from voucherHeader vh where cgn='@1'">
			   				<parameter dataSource="drillDownCgn" isRequired="true" />
			</sqlTemplate> 
			
			 

		
		<sqlTemplate id="salaryPaymentReverseData" 
				     template="SELECT unique s.id AS &quot;salaryBillDetail_id&quot;,
				          v.id AS &quot;voucherHeaderId&quot;,v.voucherNumber AS &quot;voucherHeader_voucherNumber1&quot;,
				          TO_CHAR(v.voucherdate,'dd-mon-yyyy') AS &quot;voucherHeader_voucherDate1&quot;,s.grossPay AS &quot;salaryBillDetail_grossPay&quot;,
				         s.totalDeductions AS &quot;salaryBillDetail_totalDed&quot;,sph.paidamount AS &quot;salaryBillDetail_netPay&quot;, s.PAIDAMOUNT as &quot;salaryBillDetail_paidAmount&quot;
				         
				          FROM salaryBillDetail s,voucherHeader v, subledgerpaymentheader sph,voucherdetail vd WHERE    v.id=s.voucherHeaderId AND
				          sph.salarybillid=s.id AND sph.voucherheaderid IN(SELECT id FROM voucherheader WHERE cgn=(SELECT DECODE(vp.status,2,
			                    (SELECT cgn FROM voucherheader WHERE id=vp.originalvcid),vp.cgn) FROM voucherheader vp WHERE vp.cgn='@1'))
				          and v.id=vd.voucherheaderid and vd.creditamount=0">
				     <parameter dataSource="drillDownCgn" isRequired="true"/>
				  
		   </sqlTemplate>
		      <sqlTemplate id="inHandDesc" 
					template="SELECT c.glcode AS &quot;billCollector_chequeInHandDesc&quot;,b.glcode AS &quot;billCollector_cashInHandDesc&quot; FROM billcollector a,chartofaccounts b,chartofaccounts c WHERE 
								 a.cashinhand=b.id AND a.chequeinhand=c.id AND b.id!=c.id {AND a.id=@1}">
					<parameter dataSource="subLedgerPaymentHeader_paidBy" isRequired="false"/>
			</sqlTemplate>
			
		  
			<!-- modified by lakshmi for subledger payment  -->
			<sqlTemplate id="loadSubLedgerRData"
			      template=" SELECT UNIQUE  cgn as &quot;cgnNum&quot;,egv.divisionid AS &quot;field_name&quot;, cgvn as &quot;voucherHeader_cgn&quot;,sph.type as &quot;pay_type&quot;,  vouchernumber AS  &quot;voucherHeader_voucherNumber&quot;,sph.typeofpayment AS &quot;typeOfPayment&quot;,
			       TO_CHAR(voucherdate,'dd-mon-yyyy')   AS &quot;voucherHeader_voucherDate&quot;,sph.PAIDBY AS &quot;paidBy&quot;,sph.PAIDBY AS &quot;subLedgerPaymentHeader_paidBy&quot;,   r.id AS &quot;contractor_supplier_code&quot;,
			        (select name from fund where id=(SELECT  FUNDID FROM VOUCHERHEADER WHERE CGN=(SELECT DECODE( REFCGNO,NULL, DECODE(REFCGNO,'',CGN),REFCGNO)FROM VOUCHERHEADER VH WHERE CGN= '@1'))) AS &quot;fund_name&quot;,  decode(vh.fundsourceid,null,' ',
			        (select ID from fundsource where id=(SELECT  fundsourceid FROM VOUCHERHEADER WHERE CGN=(SELECT DECODE( REFCGNO,NULL, DECODE(REFCGNO,'',CGN),REFCGNO)FROM VOUCHERHEADER VH WHERE CGN= '@2')))) AS  &quot;fundSource_name&quot;,
			        ((SELECT  FUNDID FROM VOUCHERHEADER WHERE CGN=(SELECT DECODE( REFCGNO,NULL, DECODE(REFCGNO,'',CGN),REFCGNO)FROM VOUCHERHEADER VH WHERE CGN= '@3'))) AS &quot;fund_id&quot;, vh.fundsourceid AS &quot;fundSource_id&quot;,
			                  (SELECT  FUNDID FROM VOUCHERHEADER WHERE CGN=(SELECT DECODE( REFCGNO,NULL, DECODE(REFCGNO,'',CGN),REFCGNO)FROM VOUCHERHEADER VH WHERE CGN= '@4')) AS &quot;fundValue&quot;,  r.code  AS &quot;supplierCode&quot;,  vh.id as &quot;voucherHeader_id&quot;,
			      (SELECT   chequenumber  FROM CHEQUEDETAIL WHERE id=sph.chequeid)   AS &quot;chequeDetail_chequeNumber&quot; ,
			      (SELECT  TO_CHAR(chequedate,'dd-mon-yyyy') FROM CHEQUEDETAIL WHERE id=sph.chequeid) AS &quot;chequeDetail_chequeDate&quot;,vh.description AS &quot;voucherHeader_narration&quot;,  sph.bankaccountid  AS &quot;bid&quot; ,
			                      (SELECT  k.branchid  FROM BANKACCOUNT k WHERE k.id=sph.bankaccountid) AS &quot;branchId&quot;, sph.bankaccountid   AS &quot;branchAccountId&quot;,
			      (SELECT   branchid FROM BANKACCOUNT ba,BANKBRANCH bb    WHERE bb.id=ba.branchid AND  ba.id=sph.bankaccountid  )    &quot;subLedgerPaymentHeader_bankId&quot; ,
			      w.RELATIONID AS &quot;payTo&quot;,w.advanceamount as &quot;worksDetail_advanceAmount&quot;,(select vouchernumber from voucherheader where cgn=(SELECT DECODE( REFCGNO,NULL, DECODE(REFCGNO,'',null),REFCGNO)FROM VOUCHERHEADER VH WHERE CGN= '@5')) as &quot;jv_voucherNumber&quot;,egv.schemeid as &quot;scheme&quot;,egv.subschemeid as &quot;subscheme&quot;
			      FROM  vouchermis egv,VOUCHERHEADER vh,SUBLEDGERPAYMENTHEADER sph, WORKSDETAIL w ,RELATION r,FUND f  WHERE sph.voucherheaderid=vh.id
			           AND w.id=sph.worksdetailid AND  r.id=w.relationid  and egv.voucherheaderid=vh.ID AND f.id=vh.fundid AND vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from voucherheader vp where vp.cgn='@6') ">
			      <parameter dataSource="drillDownCgn" isRequired="true"/>
			      <parameter dataSource="drillDownCgn" isRequired="true"/>
			      <parameter dataSource="drillDownCgn" isRequired="true"/>
			      <parameter dataSource="drillDownCgn" isRequired="true"/>
			      <parameter dataSource="drillDownCgn" isRequired="true"/>
			      <parameter dataSource="drillDownCgn" isRequired="true"/>
			   </sqlTemplate>

   			
			<sqlTemplate id="reverseSPData" 
					template="SELECT a.id AS &quot;billNoId&quot;,billNumber AS&quot;billNo&quot;,vouchernumber AS &quot;d_voucherNo&quot; ,
								TO_CHAR(voucherdate,'dd-mon-yyyy') AS &quot;billDate&quot;,a.PassedAmount AS &quot;passedAmount&quot;,
								 advadjamt AS &quot;advance&quot;,TDSamount AS &quot;tds&quot;,OtherRecoveries AS &quot;otherRecoveries&quot;,
								 a.passedAmount-(advadjamt+tdsamount+otherrecoveries) AS &quot;net&quot;,
								 a.PaidAmount-sph.paidamount AS &quot;earlierPayment&quot; ,
								 sph.paidamount AS &quot;slph_paidAmount&quot;,
								 ROWNUM AS &quot;slNo&quot; ,'1' AS &quot;billSelect&quot;,w.code as &quot;woCode&quot;,w.id as &quot;woId&quot; ,
								 a.contractorid as &quot;idsofcontractor&quot;
								 FROM CONTRACTORBILLDETAIL a ,
								 VOUCHERHEADER b ,SUBLEDGERPAYMENTHEADER sph ,WORKSDETAIL W 
								 WHERE b.id=a.voucherheaderid  AND 
								 sph.contractorbillid=a.id AND  w.id=sph.worksdetailid   AND
								 sph.voucherheaderid =(SELECT id FROM VOUCHERHEADER WHERE cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from voucherheader	vp where vp.cgn='@1'))
								 AND a.passedamount>(a.paidamount+a.tdsamount+a.advadjamt)-sph.paidamount 
								
								 AND b.fundid=@2
								 AND a.worksdetailid IN(@3)
		
		union
		
		SELECT a.id AS &quot;billNoId&quot;,billNumber AS&quot;billNo&quot;,vouchernumber AS &quot;d_voucherNo&quot; ,
								TO_CHAR(voucherdate,'dd-mon-yyyy') AS &quot;billDate&quot;,a.PassedAmount AS &quot;passedAmount&quot;,
								 advadjamt AS &quot;advance&quot;,TDSamount AS &quot;tds&quot;,OtherRecoveries AS &quot;otherRecoveries&quot;,
								 a.passedAmount-(advadjamt+tdsamount+otherrecoveries) AS &quot;net&quot;,
								 a.PaidAmount-sph.paidamount AS &quot;earlierPayment&quot; ,
								 sph.paidamount AS &quot;slph_paidAmount&quot;,
								 ROWNUM AS &quot;slNo&quot; ,'1' AS &quot;billSelect&quot; ,w.code as &quot;woCode&quot;,w.id as &quot;woId&quot;, 
								a.supplierid as &quot;idsofcontractor&quot;
								 FROM supplierBILLDETAIL a ,
								 VOUCHERHEADER b ,SUBLEDGERPAYMENTHEADER sph ,WORKSDETAIL W 
								 WHERE b.id=a.voucherheaderid  AND 
								 sph.supplierbillid=a.id AND w.id=sph.worksdetailid   AND
								 sph.voucherheaderid =(SELECT id FROM VOUCHERHEADER WHERE cgn='@4')
								 AND a.passedamount>(a.paidamount+a.tdsamount+a.advadjamt)-sph.paidamount 
								
								 AND b.fundid=@5
								 AND a.worksdetailid IN(@6)
		
								  ORDER BY &quot;billDate&quot;">
					<parameter dataSource="drillDownCgn" isRequired="true"/>
					<parameter dataSource="fundValue" isRequired="true"/>
					<parameter dataSource="workOrderID" isRequired="true"/>	
					<parameter dataSource="drillDownCgn" isRequired="true"/>
					<parameter dataSource="fundValue" isRequired="true"/>
					<parameter dataSource="workOrderID" isRequired="true"/>	
			</sqlTemplate>
			
			<sqlTemplate id="sphRelation" 
					template="select id,name from relation ">
			</sqlTemplate>
			<sqlTemplate id="getAccCOAID"
					template="SELECT id as &quot;chartOfAccounts_id&quot; FROM chartOfAccounts WHERE glCode='@1'">
					<parameter dataSource="glCode" isRequired="true" />			
			</sqlTemplate>
			<sqlTemplate id="getReversedPayInSlipDetails"
						template="select vh1.cgn As &quot;voucherHeader_cgn&quot;,cd.payInSlipNumber AS &quot;chequeDetail_payInSlipNumber&quot;,payInSlipDate AS &quot;chequeDetail_payInSlipDate&quot;,
								CONCAT(CONCAT(cd.bankId, '-') ,cd.branchID) AS  &quot;bank_id&quot;,cd.branchID AS &quot;branchId&quot;,cd.branchID AS &quot;accountList&quot;,vd.narration AS &quot;voucherDetail_narration&quot;,f.name as &quot;Fund_name&quot;,egv.divisionid AS &quot;field_name&quot;
								from voucherHeader vh,voucherDetail vd,chequeDetail cd,fund f,bankAccount ba,VOUCHERHEADER vh1,egv.divisionid AS field_name 
								where vh.id=vd.voucherHeaderId and vh.voucherNumber=cd.payInSlipNumber 
								and vh.fundid=f.id and cd.accountNumberId=ba.id and vh1.cgn='@1' AND egv.VOUCHERHEADERID =vh.id
								AND vh1.ORIGINALVCID=vh.id AND vh1.status=2">
							<parameter dataSource="cgNumber" isRequired="true" />
					</sqlTemplate>
			
			<sqlTemplate id="getDayBookReport"
							template="select voucherdate as &quot;voucherdate&quot;, vouchernumber as &quot;vouchernumber&quot;, gd.glcode as &quot;glcode&quot;, ca.name as &quot;particulars&quot;, vh.name ||' - '|| vh.type as &quot;type&quot;, vh.description as &quot;narration&quot;, status as &quot;status&quot;, debitamount as &quot;debit&quot; , creditamount as &quot;credit&quot; 
					from voucherheader vh, generalledger gd, chartofaccounts ca where vh.ID=gd.VOUCHERHEADERID and ca.GLCODE=gd.GLCODE and (voucherdate &gt;= '@1' and voucherdate &lt;='@2')
					order by voucherdate, vh.type,vouchernumber,status">
							<parameter dataSource="strtDate" isRequired="true" />
							<parameter dataSource="endDate" isRequired="true" />
				</sqlTemplate>
		
			<sqlTemplate id="bal_fromAccountNo"
					  template="select currentbalance as &quot;amount_from&quot; from bankaccount where id=@1">	
					  <parameter dataSource="bal_from" isRequired="true" />
				</sqlTemplate>
				
				<sqlTemplate id="bal_toAccountNo"
					  template="select currentbalance as &quot;amount_to&quot; from bankaccount where id=@1">	
					  <parameter dataSource="bal_to" isRequired="true" />
				</sqlTemplate>
				<sqlTemplate id="newAccountNumber"
				template="SELECT  ID, accountNumber from bankAccount WHERE branchId=@1 and isactive=1 {and fundid=@2} ORDER BY accountNumber">
						<parameter dataSource="branchIdT" isRequired="true" />
						<parameter dataSource="fundValueT" isRequired="false" />
			</sqlTemplate>
		
			
					
			<sqlTemplate  id="newBankListWithFund" 
					template="Select bankbranch.ID  , bank.name||bankbranch.branchName  
								FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId  {and bankBranch.id in(select branchid from bankaccount where fundid=@1)}"> 
					<parameter dataSource="fundValueT" isRequired="false" />			
			</sqlTemplate>
			
			
			<sqlTemplate  id="getBankrecDetails" 
			template="select vh.cgn as &quot;cgnNum&quot;,vh.voucherNumber as &quot;voucherHeader_voucherNumber&quot;,
			vh.voucherDate as &quot;voucherHeader_voucherDate&quot;,vh.departmentid as &quot;department_id&quot;,
			vh.fundid as &quot;fund_id&quot;,fd.name as &quot;fund_name&quot;,vh.description as &quot;voucherHeader_description&quot;,
			ba.id as &quot;bankAccount_id&quot;, ba.accountnumber as &quot;bankAccount_accountNumber&quot;,
			ba.currentbalance as &quot;accBalance&quot;, CONCAT(CONCAT(bb.bankId, '-'),bb.ID) as &quot;bank_id&quot;,
			concat(concat(b.name, ' '),bb.branchName) as &quot;bank_name&quot;,coa.glcode as &quot;bankGLCode&quot;					 
			from voucherHeader vh,fund fd,bankaccount ba,bankreconciliation br,bank b, bankBranch bb,chartofaccounts coa where 
			fd.id=vh.fundid and vh.id=br.voucherheaderid and br.bankaccountid=ba.id and b.ID = bb.bankId and ba.BRANCHID=bb.id and 
			coa.id=ba.glcodeid and vh.cgn='@1' and rownum&lt;2 "> 
			<parameter dataSource="cgNumber" isRequired="true" />			
			</sqlTemplate>
		
		<sqlTemplate id="getDedCodes"
			template="SELECT a.glCode as &quot;divCode&quot;, a.name as &quot;divDes&quot;, a.ID as &quot;divId&quot; FROM chartofaccounts a
			where a.purposeid=10 order by a.glCode">
		</sqlTemplate>
		
		<sqlTemplate id="getConDedCodes"
		 template="SELECT a.type as &quot;divCode&quot;, b.name as &quot;divDes&quot;, b.glcode as &quot;divId&quot;,b.id as &quot;glId&quot;,a.id as &quot;tdsId&quot;
		  FROM chartofaccounts b,tds a where a.glcodeid=b.id and a.isactive=1 and a.EFFECTIVEFROM &lt; sysdate
		  and a.effectivefrom &gt;=(select max(effectivefrom) from tds where type=a.type and 
		 effectivefrom &lt;=sysdate )">
		</sqlTemplate>
		
	

<sqlTemplate id="getDeductionGrid"
		              template="SELECT  gl.ID, f.ID AS &quot;cv_fromFunctionCodeId1&quot;, f.NAME AS 
&quot;function_code1&quot;, gl.glcodeid AS &quot;glcodeId&quot;, gl.glcode AS &quot;gl_Code&quot;,                      
NULL  AS &quot;tds_Code&quot;,   
NULL  AS &quot;tdsId&quot;, gl.glcode AS 
&quot;DedchartOfAccounts_glCode&quot;,                      vd.accountname AS &quot;coa_name&quot;, 
gl.creditamount AS  &quot;dedAmount&quot;      

FROM GENERALLEDGER gl LEFT JOIN 
FUNCTION      f ON f.ID = gl.functionid,    
VOUCHERDETAIL vd, 
VOUCHERHEADER vh

WHERE gl.voucherheaderid =vh.ID 
AND vd.voucherheaderid = vh.ID       
AND vh.cgn = '@1' 
AND     vd.ID = gl.voucherlineid 
AND vd.creditamount &gt; 0 
AND  gl.glcodeid  NOT IN ( SELECT ID FROM CHARTOFACCOUNTS                                
WHERE  (purposeid in( @2,@3 )  {or glcode in(@10)}{or glcode in(@11)}) 
)   
AND 
gl.id NOT IN (     
SELECT  gl.ID    
FROM GENERALLEDGER gl LEFT JOIN 
FUNCTION      f ON f.ID = gl.functionid,    
GENERALLEDGER gl1 LEFT JOIN TDS t ON  t.glcodeid = gl1.glcodeid,
GENERALLEDGERDETAIL gld Left Join EG_REMITTANCE_GLDTL rgl ON rgl.gldtlid=gld.id,
VOUCHERDETAIL vd, 
VOUCHERHEADER vh
WHERE gl.voucherheaderid =vh.ID 
AND vd.voucherheaderid = vh.ID       
AND vh.cgn = '@4' 
AND     vd.ID = gl.voucherlineid 
AND vd.creditamount &gt; 0 
AND t.isactive=1    
AND gl1.ID = gl.ID        
AND gld.id=rgl.gldtlid
AND gl.id=gld.generalledgerid
AND t.id=rgl.tdsid
AND
 gl.glcodeid 
NOT IN 
( 
SELECT ID FROM CHARTOFACCOUNTS                                 
WHERE 
(
purposeid in ( @5,@6)  {or glcode in(@12)}{or glcode in(@13)}
) 
)       
)

UNION

SELECT  gl.ID, f.ID AS &quot;cv_fromFunctionCodeId1&quot;, f.NAME AS 
&quot;function_code1&quot;, gl.glcodeid AS &quot;glcodeId&quot;, gl.glcode AS &quot;gl_Code&quot;,                      
DECODE(t.id ,NULL,'', t.TYPE         || '`~`'      || vd.accountname         || '`~`'     || gl.glcode         || '`~`'       || gl.glcodeid                         || '`~`'                         || t.ID          ) AS &quot;tds_Code&quot;,   
t.id  AS &quot;tdsId&quot;, gl.glcode AS  
&quot;DedchartOfAccounts_glCode&quot;,                      vd.accountname AS &quot;coa_name&quot;, 
gl.creditamount AS  &quot;dedAmount&quot;  
    
FROM GENERALLEDGER gl LEFT JOIN 
FUNCTION      f ON f.ID = gl.functionid,    
GENERALLEDGER gl1 LEFT JOIN TDS t ON  t.glcodeid = gl1.glcodeid,
GENERALLEDGERDETAIL gld Left Join EG_REMITTANCE_GLDTL rgl ON rgl.gldtlid=gld.id,
VOUCHERDETAIL vd, 
VOUCHERHEADER vh
WHERE gl.voucherheaderid =vh.ID 
AND vd.voucherheaderid = vh.ID       
AND vh.cgn = '@7' 
AND     vd.ID = gl.voucherlineid 
AND vd.creditamount &gt; 0 
AND t.isactive=1    
AND gl1.ID = gl.ID        
AND gld.id=rgl.gldtlid
AND gl.id=gld.generalledgerid
AND t.id=rgl.tdsid
AND
 gl.glcodeid 
NOT IN 
( 
SELECT ID FROM CHARTOFACCOUNTS                                 
WHERE 
(
purposeid in(  @8,@9) {or glcode in(@14)}{or glcode in(@15)}
) 
)   
">
			
		
<parameter dataSource="cgNumber" isRequired="true" />
<parameter dataSource="ConPayCode" isRequired="true" />
<parameter dataSource="SupPayCode" isRequired="true" />			
<parameter dataSource="cgNumber" isRequired="true" />
<parameter dataSource="ConPayCode" isRequired="true" />
<parameter dataSource="SupPayCode" isRequired="true" />			
<parameter dataSource="cgNumber" isRequired="true" />
<parameter dataSource="ConPayCode" isRequired="true" />
<parameter dataSource="SupPayCode" isRequired="true" />
<parameter dataSource="ConAdvCode" isRequired="false" />
<parameter dataSource="SupAdvCode" isRequired="false" />
<parameter dataSource="ConAdvCode" isRequired="false" />
<parameter dataSource="SupAdvCode" isRequired="false" />
<parameter dataSource="ConAdvCode" isRequired="false" />
<parameter dataSource="SupAdvCode" isRequired="false" />

 </sqlTemplate>
		
		<sqlTemplate id="getTdsDedCodes"
			template="SELECT a.type as &quot;divCode&quot;, b.name as &quot;divDes&quot;, a.id as &quot;divId&quot;
		  FROM chartofaccounts b,tds a where a.glcodeid=b.id and a.isactive=1 and a.EFFECTIVEFROM &lt; sysdate
		  and a.effectivefrom &gt;=(select max(effectivefrom) from tds where type=a.type and 
		 effectivefrom &lt;=sysdate )">
		</sqlTemplate>
		
		<sqlTemplate id="getDedAmount"
			template="SELECT distinct  decode(dt.incometax,null,0.0,dt.incometax) + decode(dt.surcharge,null,0.0,dt.surcharge) + decode(dt.education,null,0.0,dt.education) as &quot;dedRate&quot;, decode(dt.amount,null,'',dt.amount) as &quot;deductionamount&quot; from tds t,eg_deduction_details dt,chartofaccounts b where t.id=dt.tdsid 
					and  t.partytypeid=(select id from eg_partytype where code='Contractor')
					{and dt.partytypeid=@1}
					{and dt.doctypeid =@2}
					{and dt.docsubtypeid=@3}
					and t.glcodeid=b.id
					and sysdate between dt.DATEFROM and decode(dt.dateto,null,sysdate,dt.dateto)
					and @4 between dt.lowlimit and decode(dt.highlimit,null,99999999999999999999999, dt.highlimit)
					and t.type = '@5'">
					<parameter dataSource="subpartytypeid" isRequired="false" />
					<parameter dataSource="doctypeid" isRequired="false" />
					<parameter dataSource="docsubtypeid" isRequired="false" />
					<parameter dataSource="amount" isRequired="true" />
					<parameter dataSource="contractorDedCode" isRequired="true" />
		</sqlTemplate>
		
		
		
		<sqlTemplate id="getF_Source"
			template="SELECT  distinct vh.fundsourceid,(SELECT name FROM  fundsource WHERE id=vh.fundsourceid) FROM receiptheader rh,chequedetail c,voucherheader vh 
			WHERE rh.voucherheaderid=vh.id AND c.id=rh.chequeid AND c.isdeposited=0 and c.isreversed is null and c.ispaycheque=0 and vh.REFCGNO is
			null and vh.fundid=@1">
			<parameter dataSource="Fund_id" isRequired="true" />
		</sqlTemplate>
		
		<sqlTemplate id="dedCodeDescription" 
				template="select name from chartofaccounts a,tds b where a.id=b.glcodeid and b.type='@1' ">		
				<parameter dataSource="keyValue" isRequired="true"/>
			</sqlTemplate>
		<sqlTemplate id="getMaxFundId" 
			template="select max(id) as &quot;maxFund&quot;  from fund">		
		</sqlTemplate>
		<sqlTemplate id="getMaxFundSourceId" 
			template="select max(id) as &quot;maxFundSource&quot; from fundsource">		
		</sqlTemplate>
		<sqlTemplate id="getULBName" 
			template="select name as &quot;ULBName&quot; from companydetail">		
		</sqlTemplate>
		<sqlTemplate id="getCurrTime" 
			template="select TO_CHAR(sysdate,'dd-Mon-yyyy HH24:MI:SS') as &quot;currDateTime&quot; from dual">		
		</sqlTemplate>
		<sqlTemplate id="trialBalanceReport" 
					template="SELECT gl.glcode AS &quot;glcode&quot; ,coa.name AS &quot;accountHead&quot; ,
					(CASE WHEN   (SUM(debitamount)+SUM((SELECT DECODE(SUM(OPENINGDEBITBALANCE),NULL,0,SUM(OPENINGDEBITBALANCE)) FROM 
				transactionsummary WHERE financialyearid=(SELECT id FROM financialyear
							 WHERE startingdate&lt;='@1' AND endingdate&gt;='@2') 
							 AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=gl.glcode)	
							 AND fundid &gt;=@3  AND fundid &lt;=@4))/COUNT(*))-
					(SUM(creditamount)+SUM((SELECT  DECODE(SUM(OPENINGCREDITBALANCE),NULL,0,SUM(OPENINGCREDITBALANCE)) FROM 
				transactionsummary WHERE financialyearid=(SELECT id FROM financialyear
							 WHERE startingdate&lt;='@5' AND endingdate&gt;='@6') 
							 AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=gl.glcode)	
							 AND fundid &gt;=@7  AND fundid &lt;=@8))/COUNT(*) ) &gt;0 THEN  
					(SUM(debitamount)+SUM((SELECT DECODE(SUM(OPENINGDEBITBALANCE),NULL,0,SUM(OPENINGDEBITBALANCE)) FROM 
				transactionsummary WHERE financialyearid=(SELECT id FROM financialyear
							 WHERE startingdate&lt;='@9' AND endingdate&gt;='@10') 
							 AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=gl.glcode)	
							 AND fundid &gt;=@11  AND fundid &lt;=@12))/COUNT(*))-
					(SUM(creditamount)+SUM((SELECT  DECODE(SUM(OPENINGCREDITBALANCE),NULL,0,SUM(OPENINGCREDITBALANCE)) FROM 
					transactionsummary WHERE financialyearid=(SELECT id FROM financialyear
							 WHERE startingdate&lt;='@13' AND endingdate&gt;='@14') 
							 AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=gl.glcode)	
							 AND fundid &gt;=@15 AND fundid &lt;=@16))/COUNT(*) )  ELSE 0    END ) AS &quot;debitAmount&quot; ,
					(CASE WHEN   (SUM(debitamount)+SUM((SELECT DECODE(SUM(OPENINGDEBITBALANCE),NULL,0,SUM(OPENINGDEBITBALANCE)) FROM 
				transactionsummary WHERE financialyearid=(SELECT id FROM financialyear
							 WHERE startingdate&lt;='@17' AND endingdate&gt;='@18') 
							 AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=gl.glcode)	
							 AND fundid &gt;=@19  AND fundid &lt;=@20))/COUNT(*))-
					(SUM(creditamount)+SUM((SELECT  DECODE(SUM(OPENINGCREDITBALANCE),NULL,0,SUM(OPENINGCREDITBALANCE)) FROM 
				transactionsummary WHERE financialyearid=(SELECT id FROM financialyear
							 WHERE startingdate&lt;='@21' AND endingdate&gt;='@22') 
							 AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=gl.glcode)	
							 AND fundid &gt;=@23  AND fundid &lt;=@24))/COUNT(*) ) &lt; 0 THEN  
						(SUM(creditamount)+SUM((SELECT  DECODE(SUM(OPENINGCREDITBALANCE),NULL,0,SUM(OPENINGCREDITBALANCE)) FROM 
				transactionsummary WHERE financialyearid=(SELECT id FROM financialyear
							 WHERE startingdate&lt;='@25' AND endingdate&gt;='@26') 
							 AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=gl.glcode)	
							 AND fundid &gt;=@27  AND fundid &lt;=@28))/COUNT(*) )-
					(SUM(debitamount)+SUM((SELECT DECODE(SUM(OPENINGDEBITBALANCE),NULL,0,SUM(OPENINGDEBITBALANCE)) FROM 
				transactionsummary WHERE financialyearid=(SELECT id FROM financialyear
							 WHERE startingdate&lt;='@29' AND endingdate&gt;='@30') 
							 AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=gl.glcode)	
							 AND fundid &gt;=@31  AND fundid &lt;=@32))/COUNT(*)) ELSE 0 END ) AS &quot;creditAmount&quot; 
				FROM generalledger gl,chartofaccounts 		coa,voucherheader vh WHERE coa.glcode=gl.glcode AND
					gl.voucherheaderid=vh.id  AND vh.voucherdate&lt;='@33' AND voucherdate&gt;=
					(SELECT startingdate FROM financialyear WHERE  startingdate&lt;='@34' AND 
					endingdate&gt;='@35')	 AND vh.fundid &gt;=@36  AND vh.fundid &lt;=@37
					GROUP BY gl.glcode,coa.name
					HAVING (SUM(debitamount)&gt;0 OR SUM(creditamount)&gt;0)
					And  (SUM(debitamount)+SUM((SELECT DECODE(SUM(OPENINGDEBITBALANCE),NULL,0,SUM(OPENINGDEBITBALANCE)) FROM     transactionsummary WHERE 
			  		financialyearid=(SELECT id FROM financialyear       WHERE startingdate &lt;='@38' AND endingdate &gt;='@39') 
			  		AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=gl.glcode)        AND fundid &gt;=@40  AND fundid &lt;=@41  ))/COUNT(*))-   
		   	  		(SUM(creditamount)+SUM((SELECT  DECODE(SUM(OPENINGCREDITBALANCE),NULL,0,SUM(OPENINGCREDITBALANCE)) FROM 
		      		transactionsummary WHERE financialyearid=(SELECT id FROM financialyear    WHERE startingdate&lt;='@42' AND 
			  		endingdate&gt;='@43')        AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=gl.glcode) 
			  		AND fundid &gt;=@44  AND fundid &lt;=@45 ))/COUNT(*) )&lt;&gt;0 
			  		union
			  		SELECT coa.glcode AS &quot;glcode&quot; ,coa.name AS &quot;name&quot;,
					(CASE WHEN SUM((SELECT DECODE(SUM(OPENINGDEBITBALANCE),NULL,0,SUM(OPENINGDEBITBALANCE)) 
					FROM transactionsummary WHERE financialyearid=(SELECT id FROM financialyear	 WHERE 
					startingdate&lt;='@46' AND endingdate&gt;='@47') AND glcodeid =
					(SELECT id FROM chartofaccounts WHERE glcode=coa.glcode) AND fundid &gt;=@48  AND fundid &lt;=@49
					)) - SUM((SELECT  DECODE(SUM(OPENINGCREDITBALANCE),NULL,0,SUM(OPENINGCREDITBALANCE)) FROM transactionsummary WHERE 
					financialyearid=(SELECT id FROM financialyear	 WHERE startingdate&lt;='@50' AND endingdate&gt;='@51') 
					AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=coa.glcode)	
					AND fundid &gt;=@52  AND fundid &lt;=@53)) &gt;0 THEN
					SUM((SELECT DECODE(SUM(OPENINGDEBITBALANCE),NULL,0,SUM(OPENINGDEBITBALANCE)) FROM transactionsummary WHERE 
					financialyearid=(SELECT id FROM financialyear	 WHERE startingdate&lt;='@54' AND endingdate&gt;='@55') 
					AND glcodeid =(SELECT id FROM chartofaccounts WHERE glcode=coa.glcode)	
					 AND fundid &gt;=@56  AND fundid &lt;=@57)) -
					SUM((SELECT  DECODE(SUM(OPENINGCREDITBALANCE),NULL,0,SUM(OPENINGCREDITBALANCE)) FROM 
					transactionsummary WHERE financialyearid=(SELECT id FROM financialyear	 WHERE 
					startingdate&lt;='@58' AND endingdate&gt;='@59') AND glcodeid =(SELECT id FROM chartofaccounts 
					WHERE glcode=coa.glcode)	AND fundid &gt;=@60  AND fundid &lt;=@61 )) ELSE 0 END ) AS &quot;debitAmount&quot;,
					
					(CASE WHEN SUM((SELECT DECODE(SUM(OPENINGDEBITBALANCE),NULL,0,SUM(OPENINGDEBITBALANCE)) FROM 
					transactionsummary WHERE financialyearid=(SELECT id FROM financialyear	 WHERE 
					startingdate&lt;='@62' AND endingdate&gt;='@63') AND glcodeid =(SELECT id FROM chartofaccounts
					WHERE glcode=coa.glcode)	AND fundid &gt;=@64  AND fundid &lt;=@65)) -
					SUM((SELECT  DECODE(SUM(OPENINGCREDITBALANCE),NULL,0,SUM(OPENINGCREDITBALANCE)) FROM 
					transactionsummary WHERE financialyearid=(SELECT id FROM financialyear	 WHERE 
					startingdate&lt;='@66' AND endingdate&gt;='@67') AND glcodeid =(SELECT id FROM chartofaccounts 
					WHERE glcode=coa.glcode) AND fundid &gt;=@68  AND fundid &lt;=@69 )) &lt;0 THEN
					SUM((SELECT  DECODE(SUM(OPENINGCREDITBALANCE),NULL,0,SUM(OPENINGCREDITBALANCE)) FROM 
					transactionsummary WHERE financialyearid=(SELECT id FROM financialyear	 WHERE 
					startingdate&lt;='@70' AND endingdate&gt;='@71')  AND glcodeid =(SELECT id FROM chartofaccounts
					WHERE glcode=coa.glcode)	AND fundid &gt;=@72  AND fundid &lt;=@73))-
					SUM((SELECT DECODE(SUM(OPENINGDEBITBALANCE),NULL,0,SUM(OPENINGDEBITBALANCE)) FROM 
					transactionsummary WHERE financialyearid=(SELECT id FROM financialyear	 WHERE 
					startingdate&lt;='@74' AND endingdate&gt;='@75')  AND glcodeid =(SELECT id FROM chartofaccounts
					WHERE glcode=coa.glcode)	AND fundid &gt;=@76  AND fundid &lt;=@77))  ELSE 0 END ) AS &quot;creditAmount&quot;
			  		
			  		FROM chartofaccounts coa WHERE classification=4 AND coa.id NOT IN(SELECT glcodeid 
					FROM generalledger gl,voucherheader vh WHERE vh.id=gl.voucherheaderid AND fundid &gt;=@78  
					AND fundid &lt;=@79 AND vh.voucherdate&lt;='@80' AND voucherdate&gt;=(SELECT startingdate 
					FROM financialyear WHERE  startingdate&lt;='@81' AND endingdate&gt;='@82') )
					GROUP BY coa.glcode,coa.name
					HAVING ((SUM((SELECT DECODE(SUM(OPENINGDEBITBALANCE),NULL,0,SUM(OPENINGDEBITBALANCE)) 
					FROM transactionsummary WHERE financialyearid=(SELECT id FROM financialyear
					WHERE startingdate&lt;='@83' AND endingdate&gt;='@84') AND glcodeid =(SELECT id FROM 
					chartofaccounts WHERE glcode=coa.glcode) AND fundid &gt;=@85 AND fundid &lt;=@86	)) &gt;0 )
					OR  (SUM((SELECT  DECODE(SUM(OPENINGCREDITBALANCE),NULL,0,SUM(OPENINGCREDITBALANCE)) 
					FROM transactionsummary WHERE financialyearid=(SELECT id FROM financialyear	 WHERE 
					startingdate&lt;='@87' AND endingdate&gt;='@88') 	 AND glcodeid =(SELECT id FROM 
					chartofaccounts WHERE glcode=coa.glcode)	 AND fundid &gt;=@89 AND 
					fundid &lt;=@90	))&gt;0	  )	   )	ORDER BY	&quot;glcode&quot;">
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				
				<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="endDate" isRequired="true"/>
						<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				
				<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
				<parameter dataSource="endDate" isRequired="true"/>
								<parameter dataSource="endDate" isRequired="true"/>
								<parameter dataSource="fromFund" isRequired="true"/>
						<parameter dataSource="toFund" isRequired="true"/>
						<parameter dataSource="endDate" isRequired="true"/>
								<parameter dataSource="endDate" isRequired="true"/>
								<parameter dataSource="fromFund" isRequired="true"/>
				<parameter dataSource="toFund" isRequired="true"/>
		</sqlTemplate>
		
		
		<sqlTemplate id="getworktds"
				template="SELECT a.TYPE as &quot;tds_Code&quot;, b.name as &quot;coa_name&quot;, b.glcode as &quot;gl_Code&quot;  FROM CHARTOFACCOUNTS b,TDS a WHERE a.glcodeid=b.id AND a.id=(SELECT workstds from worksdetail WHERE id=@1)">
		 		<parameter dataSource="workOrderID" isRequired="true"/>
		</sqlTemplate>
		
		<sqlTemplate id="acct_type"
			    template="select id,name from accountdetailtype">
		</sqlTemplate>
		<sqlTemplate id="getCoaDetailId"
			    template="select id as &quot;coaDetailId&quot; from chartofaccountdetail where name='@1'">
			    <parameter dataSource="name" isRequired="true" />
		</sqlTemplate>
			    
		<sqlTemplate id="getMenuTreeData" 
					template="SELECT '' AS &quot;type&quot;,
				 ID AS &quot;menuTree_ID&quot;, 
				 name AS &quot;menuTree_name&quot;, parentId AS &quot;menuTree_parentId&quot;,
				  actionid AS &quot;menuTree_actionId&quot;,sortid AS &quot;menuTree_sortid&quot; FROM  menuTree 
				WHERE actionid IN (SELECT actionid FROM eg_roleaction_map a,eg_user b,eg_userrole c WHERE a.roleid=c.id_role AND c.id_user=b.ID_USER AND b.id_user=@1)
				and sortid is not null
				union
				SELECT '' AS &quot;type&quot;,
				 a.ID AS &quot;menuTree_ID&quot;, 
				 a.name AS &quot;menuTree_name&quot;, a.parentId AS &quot;menuTree_parentId&quot;,
				a.actionid AS &quot;menuTree_actionId&quot;,a.sortid AS &quot;menuTree_sortid&quot; FROM  menuTree a,menuTree b where a.id!=b.id and a.id=b.parentid
				AND ( b.actionid IS NULL OR
				 b.actionid IN (SELECT actionid FROM eg_roleaction_map a,eg_user b,eg_userrole c WHERE a.roleid=c.id_role AND c.id_user=b.ID_USER AND b.id_user=@2)) and a.sortid is not null
				order by &quot;menuTree_sortid&quot;
				">
				<parameter dataSource="current_UserID" isRequired="true" />
				<parameter dataSource="current_UserID" isRequired="true" />
		</sqlTemplate>
		
			<sqlTemplate  id="bankAndBranchNew" 
				template="SELECT  CONCAT(CONCAT(bankBranch.bankId, '-'),bankBranch.ID) as &quot;Expr1&quot;,concat(concat(bank.name , ' '),bankBranch.branchName) as &quot;Expr2&quot;
							FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId {and bankBranch.id in(select branchid from bankaccount where fundid=@1)} order by &quot;Expr2&quot;"> 
			<parameter dataSource="Fund_id"  isRequired="false"/>
		
		
		</sqlTemplate>
		
		
		<sqlTemplate id="getFSource"
			template="SELECT  distinct vh.fundsourceid,(SELECT name FROM  fundsource WHERE id=vh.fundsourceid) FROM receiptheader rh,chequedetail c,voucherheader vh 
			WHERE rh.voucherheaderid=vh.id AND c.id=rh.chequeid AND c.isdeposited=0 and (c.isreversed is null or c.isreversed=0) and c.ispaycheque=0 and vh.fundid=@1 AND vh.status!=4">
			<parameter dataSource="Fund_id" isRequired="true" />
		</sqlTemplate>
		
		
		
		<sqlTemplate id="getField"
		 			template="SELECT  DISTINCT e.divisionid,(SELECT name FROM eg_boundary WHERE id_bndry=e.divisionid) as  &quot;field_name&quot;
		                          FROM receiptheader rh,chequedetail c,voucherheader vh, vouchermis e  
		 			WHERE rh.voucherheaderid=vh.id AND c.id=rh.chequeid AND e.VOUCHERHEADERID = vh.ID AND c.isdeposited=0 and (c.isreversed is null or c.isreversed=0) and c.ispaycheque=0 and vh.fundid=@1 AND vh.status!=4">
		 			<parameter dataSource="Fund_id" isRequired="true" />
		</sqlTemplate>
		
		<sqlTemplate id="getFSourceReverse"
			template="SELECT  distinct vh.fundsourceid,(SELECT name FROM  fundsource WHERE id=vh.fundsourceid) FROM receiptheader rh,chequedetail c,voucherheader vh 
			WHERE rh.voucherheaderid=vh.id AND c.id=rh.chequeid AND c.isdeposited=1 and c.isreversed is null and c.ispaycheque=0 and vh.fundid=@1">
			<parameter dataSource="Fund_id" isRequired="true" />
		</sqlTemplate>
		
		
		
		<sqlTemplate id="getOpeBal"
			template="SELECT decode(sum(openingDebitBalance),null,0,sum(openingDebitBalance))-
		  	decode(sum(openingCreditBalance),null,0,sum(openingCreditBalance)) AS &quot;openingBalance&quot;
		 	FROM transactionSummary WHERE financialYearId=( SELECT id FROM financialYear WHERE startingDate &lt;='@1' 
		 	AND endingDate &gt;='@2')  AND glCodeId =(SELECT id FROM chartOfAccounts WHERE glCode='@3')">
		 	<parameter dataSource="qReconcileDate" isRequired="true" />
		 	<parameter dataSource="qReconcileDate" isRequired="true" />
		 	<parameter dataSource="glCode" isRequired="true" />
		</sqlTemplate>
		
		<sqlTemplate id="getStartDate"
			template="SELECT TO_CHAR(startingDate, 'dd-Mon-yyyy') AS &quot;startingDate&quot; FROM financialYear WHERE startingDate &lt;= '@1' AND endingDate &gt;= '@2'">
			<parameter dataSource="qReconcileDate" isRequired="true" />
		 	<parameter dataSource="qReconcileDate" isRequired="true" />
		</sqlTemplate>
		
		<sqlTemplate id="getTotalBal"
			template="SELECT (decode(sum(gl.debitAmount),null,0,sum(gl.debitAmount)) - decode(sum(gl.creditAmount),null,0,sum(gl.creditAmount))) + @1 as &quot;totalAmount&quot; FROM 
			generalLedger gl, voucherHeader vh WHERE vh.id = gl.voucherHeaderId AND gl.glCode = '@2' AND 
			vh.voucherDate &gt;= '@3' AND vh.voucherDate &lt;= '@4' ">
			<parameter dataSource="openingBalance" isRequired="true" />
			<parameter dataSource="glCode" isRequired="true" />
			<parameter dataSource="startingDate" isRequired="true" />
			<parameter dataSource="qReconcileDate" isRequired="true" />
		
		</sqlTemplate>
		
		
		<sqlTemplate id="accountTypeId" 
				template="SELECT ID,
					    name FROM chartOfAccounts WHERE PURPOSEID  = (SELECT PURPOSE_ID from fund WHERE id='@1' and isnotleaf=0) order by id">
				<parameter dataSource="type" isRequired="true" />
			</sqlTemplate>
		
			
			
			<sqlTemplate id="bankDetail" 
			  template="SELECT a.ID as &quot;bank_id&quot;,a.name as &quot;bank_name&quot;, a.code as &quot;bank_code&quot;, a.narration as &quot;bank_narration&quot;,a.isActive as &quot;bank_isActive&quot;, a.lastModified as &quot;bank_lastModified&quot; FROM bank a WHERE   a.code='@1'">  
			  <parameter dataSource="bank_code" isRequired="true"/>
		 </sqlTemplate>
		 
			
			<sqlTemplate id="accountDetailNew" 
				template="SELECT a.id as &quot;bankAccount_id&quot; , accountNumber as  &quot;bankAccount_accountNumber&quot;, accounttype as &quot;bankAccount_accountType&quot;, narration as  &quot;bankAccount_narration&quot;, a.isActive as &quot;bankAccount_isActive&quot; , b.parentid as &quot;accountHead_id&quot;, glcode as  &quot;chartOfAccounts_glCode&quot;,
		a.isActive as &quot;bankAccount_isActiveCB&quot;,a.fundid as &quot;fund_id&quot;,
		d.name as &quot;fund_name&quot;,a.payto as &quot;pay_To&quot;,a.type as&quot;bankAccount_type&quot;
		FROM bankAccount a,chartofaccounts b ,fund d where  a.glcodeid=b.id and a.glcodeid!=0 and branchId=@1 and d.id=a.fundid and a.accountnumber='@2'">
		
		<parameter dataSource="bankBranch_branchId" isRequired="true"/>
		<parameter dataSource="bankAccount_accountNumber" isRequired="true"/>
		</sqlTemplate>
		
		
		<sqlTemplate id="accountDetailSearch" 
				template="SELECT ba.id as &quot;bankAccount_id&quot;, ba.accountNumber as &quot;bankAccount_accountNumber&quot;, ba.accountType as &quot;bankAccount_accountType&quot;,f.name as &quot;fund_name&quot;, ba.narration as &quot;bankAccount_narration&quot;, ba.isActive as &quot;bankAccount_isActiveCB&quot; ,
		  a.glcode as  &quot;chartOfAccounts_glCode&quot;,f.id as &quot;fund_id&quot;,,ba.type as&quot;bankAccount_type&quot; FROM bankBranch bb, bankAccount ba,chartofaccounts a, fund f
		 WHERE bb.branchCode='@1' AND ba.branchId=bb.ID and a.id=ba.glcodeid and ba.fundid=f.id">		
				<parameter dataSource="bankBranch_branchCode" isRequired="true"/>
			</sqlTemplate>
			
		<sqlTemplate id="brnchDetailSearchNew" 
		   template="SELECT branchCode as &quot;bankBranch_branchCode&quot;, branchAddress1 as &quot;bankBranch_branchAddress1&quot;, branchAddress2 as &quot;bankBranch_branchAddress2&quot;, branchCity as &quot;bankBranch_branchCity&quot;, branchPin as &quot;bankBranch_branchPin&quot;, branchPhone as &quot;bankBranch_branchPhone&quot;, branchFax as &quot;bankBranch_branchFax&quot;, contactPerson as &quot;bankBranch_contactPerson&quot;, narration as &quot;bankBranch_narration&quot;,isActive as &quot;bankBranch_isActive&quot; FROM bankBranch WHERE branchCode='@1'">  
		   <parameter dataSource="bankBranch_branchId" isRequired="true"/>
		  </sqlTemplate>
			<!-- End By Sumit -->
			<sqlTemplate id="getFTFDetailsNew"
			  template=" select vh.cgn AS &quot;cgnNum&quot;,vh.refcgno AS &quot;cgnNum1&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh1.cgvn AS &quot;jv_cgn&quot;,vh.voucherNumber AS &quot;cv_fromVoucherId&quot;,vh1.voucherNumber AS &quot;cv_toVoucherId&quot;,vh1.voucherNumber AS &quot;cv_toVoucherId&quot;,vh.id AS &quot;fvoucherHeader_id&quot;,vh1.id AS &quot;tvoucherHeader_id&quot;,
			     vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,cv.fromFundId AS &quot;cv_fromFundId&quot;,cv.toFundId AS &quot;cv_toFundId&quot;, cv.FromBankBranchId AS &quot;cv_fromBankId&quot;,cv.toBankBranchId AS &quot;cv_toBankId&quot;, 
			     cv.fromBankAccountId AS &quot;cv_fromBankAccountId&quot;,cv.toBankAccountId AS &quot;cv_toBankAccountId&quot;,
			      vh.FUNDSOURCEID AS &quot;fundSource_id&quot;,cd.chequenumber AS &quot;chequeno&quot;,cd.chequedate AS &quot;chequedate&quot;,cv.narration AS &quot;cv_narration&quot;, 
			      vd.creditAmount AS &quot;amount&quot;,vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;, eg.user_name as &quot;voucherHeader_createdby&quot; 
			      from  ContraJournalVoucher  cv, voucherHeader vh left join EG_USER eg ON vh.createdby=eg.id_user, voucherheader vh1, chequedetail cd, voucherDetail vd, fundsource fs  where cv.voucherHeaderId=vh.id 
			      and vd.voucherHeaderid=vh.id and cd.chequenumber=cv.fromchequenumber and vd.creditAmount &gt; 0 and  vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) 
			      from voucherheader vp where vp.cgn='@1')  and vh.fundsourceid=fs.id and vh.refcgno=vh1.cgn">
			  <parameter dataSource="cgNumber" isRequired="true" />
		  </sqlTemplate>
				<sqlTemplate id="getFTFDetailsNewOW"
						template="select vh.cgn AS &quot;cgnNum&quot;,vh.refcgno AS &quot;cgnNum1&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh1.cgvn AS &quot;jv_cgn&quot;,vh.voucherNumber AS &quot;cv_fromVoucherId&quot;,vh1.voucherNumber AS &quot;cv_toVoucherId&quot;,vh.voucherDate AS  &quot;voucherHeader_voucherDate&quot;,vh.status as &quot;voucherHeader_status&quot;     from voucherHeader vh, voucherheader vh1 where vh.cgn='@1'
							 and vh1.originalvcid in ( select originalvcid from voucherheader where originalvcid = 	(select id from voucherheader vh where vh.cgn in (select refcgno from voucherheader vh where  vh.id in (select originalvcid from voucherheader where cgn='@2')))) and vh1.originalvcid is not null">
						<parameter dataSource="cgNumber" isRequired="true" />
						<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
			
			
			<sqlTemplate  id="FTFFromBankList" 
			template="Select bankbranch.ID  , bank.name||bankbranch.branchName  
				FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId  and bankBranch.id in(select branchid from bankaccount where fundid=@1)"> 
						<parameter dataSource="cv_fromFundId" isRequired="true" />			
				</sqlTemplate>
				<sqlTemplate  id="FTFToBankList" 
				template="Select bankbranch.ID  , bank.name||bankbranch.branchName  
					FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId  and bankBranch.id in(select branchid from bankaccount where fundid=@1)"> 
					<parameter dataSource="cv_toFundId" isRequired="true" />			
				</sqlTemplate>
			
			<sqlTemplate id="FTFaccNumber1"
			        template="SELECT  ID, DECODE(narration,' ',accountNumber,DECODE(narration,NULL,accountNumber,DECODE(narration,'',accountNumber,accountNumber||' --  '||narration) ))
			        from bankAccount WHERE branchId=@1">
			        <parameter dataSource="cv_fromBankId" isRequired="true" />
   			</sqlTemplate>
			 <sqlTemplate id="FTFaccNumber2"
			        template="SELECT  ID, DECODE(narration,' ',accountNumber,DECODE(narration,NULL,accountNumber,DECODE(narration,'',accountNumber,accountNumber||' --  '||narration) ))
			        from bankAccount WHERE branchId=@1">
			        <parameter dataSource="cv_toBankId" isRequired="true" />
    			</sqlTemplate>
					
		<sqlTemplate id="DefaultChequeValuePIS"
		template="SELECT a.id AS &quot;chequeinhandId&quot; ,a.glcode AS &quot;chequeinhand&quot;,a.name AS &quot;chequeInHandName&quot; FROM CHARTOFACCOUNTS a,EG_BOUNDARY b WHERE id=(SELECT chequeinhand FROM CODEMAPPING WHERE EG_BOUNDARYID=@1 ) AND b.ID_BNDRY_TYPE=@2 GROUP BY id,glcode,a.name HAVING COUNT(ID_BNDRY_TYPE )=1 ">
		<parameter dataSource="boundaryLevelId" isRequired="true" />
		<parameter dataSource="boundaryTypeId" isRequired="true" />
		</sqlTemplate>
		<sqlTemplate id="acct_purpose"
			    template="SELECT id ,name FROM EGF_ACCOUNTCODE_PURPOSE	">
			    </sqlTemplate>
		<sqlTemplate id="codeAndName"
				template="SELECT  code as &quot;divCode&quot;, name as &quot;divDes&quot;,id as &quot;divId&quot; FROM @1">
				<parameter dataSource="tableNameForCode" isRequired="true"/>
		</sqlTemplate>
			<sqlTemplate id="userList" 
		   			template="SELECT id_user, user_name FROM eg_user">
			</sqlTemplate>
			
			<sqlTemplate id="schemeList" 
			   			template="SELECT id, name FROM scheme where isactive='1' ORDER BY UPPER(name)">
			</sqlTemplate>
			
			<sqlTemplate id="projectList" 
			   			template="SELECT id, name FROM project">
			</sqlTemplate>
			
			<sqlTemplate id="getScheme"
					template="SELECT id as &quot;divId&quot;, id as &quot;divCode&quot;, name as &quot;divDes&quot; FROM @1 ">		
				<parameter dataSource="tableNameForCode" isRequired="true" />
				</sqlTemplate>
				<sqlTemplate id="getBillRegister"
					template="SELECT id as &quot;divId&quot;, BILLNUMBER as &quot;divCode&quot;, PO as &quot;divDes&quot; FROM @1 ">
				<parameter dataSource="tableNameForCode" isRequired="true" />
				</sqlTemplate> 
				<sqlTemplate id="schemeData" 
					template="SELECT name as &quot;worksDetail_name&quot;, DESCRIPTION as &quot;scheme_description&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;scheme_validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy') as &quot;scheme_validTo&quot;, isActive as &quot;department_isActive&quot; FROM scheme WHERE  id='@1'">		
					<parameter dataSource="worksDetail_codeToSearch" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="billRegisterData" 
					template="SELECT ID as &quot;id&quot;, BILLAMOUNT as &quot;bill_Amount&quot;,PO as &quot;bill_Po&quot;, TO_CHAR(PAYREQDATE,'dd/MM/yyyy') as &quot;bill_PayDate&quot;, TO_CHAR(BILLDATE,'dd/MM/yyyy') as &quot;bill_Date&quot;, BILLSTATUS as &quot;bill_Status&quot;, NARRATION as &quot;bill_Narration&quot;, BILLAPPROVALSTATUS as &quot;bill_AppStaus&quot; FROM EG_BILLREGISTER WHERE  BILLNUMBER='@1'">		
					<parameter dataSource="worksDetail_codeToSearch" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="schemeDataName" 
					template="SELECT name as &quot;worksDetail_name&quot;, id as &quot;worksDetail_codeToSearch&quot;, DESCRIPTION as &quot;scheme_description&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;scheme_validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy') as &quot;scheme_validTo&quot; , isActive as &quot;department_isActive&quot;FROM scheme WHERE  name='@1'">		
					<parameter dataSource="worksDetail_name" isRequired="true"/>
				</sqlTemplate>
				
				<sqlTemplate id="schemeUpdateData" 
					template="SELECT name as &quot;name&quot;, DESCRIPTION as &quot;description&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy')as &quot;validTo&quot;, isActive as &quot;department_isActive&quot; FROM scheme WHERE  id='@1'">		
					<parameter dataSource="worksDetail_code" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="costData" 
					template="SELECT name as &quot;worksDetail_name&quot;, DESCRIPTION as &quot;scheme_description&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;scheme_validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy') as &quot;scheme_validTo&quot; , isActive as &quot;department_isActive&quot;FROM COSTCENTRE WHERE  id='@1'">	
					<parameter dataSource="worksDetail_codeToSearch" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="newDepartmentData" 
					template="SELECT name as &quot;worksDetail_name&quot;, DESCRIPTION as &quot;scheme_description&quot;, (SELECT   NAME  FROM DEPARTMENT WHERE id=d.PARENTDEPARTMENT)  as &quot;Parent&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;scheme_validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy') as &quot;scheme_validTo&quot; , isActive as &quot;department_isActive&quot;FROM DEPARTMENT d WHERE  id='@1'">	
					<parameter dataSource="worksDetail_codeToSearch" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="divisionData" 
					template="SELECT name as &quot;worksDetail_name&quot;, DESCRIPTION as &quot;scheme_description&quot;, (SELECT   dept_NAME  FROM eg_DEPARTMENT WHERE id_dept=d.PARENTDEPARTMENT)  as &quot;Parent&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;scheme_validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy') as &quot;scheme_validTo&quot; , isActive as &quot;department_isActive&quot;FROM DIVISION d WHERE  id='@1'">	
					<parameter dataSource="worksDetail_codeToSearch" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="costDataName" 
					template="SELECT name as &quot;worksDetail_name&quot;, id as &quot;worksDetail_codeToSearch&quot;, DESCRIPTION as &quot;scheme_description&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;scheme_validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy') as &quot;scheme_validTo&quot;, isActive as &quot;department_isActive&quot; FROM COSTCENTRE WHERE  name='@1'">
					<parameter dataSource="worksDetail_name" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="newDepartmentDataName" 
					template="SELECT name as &quot;worksDetail_name&quot;, DESCRIPTION as &quot;scheme_description&quot;, (SELECT   NAME  FROM DEPARTMENT WHERE id=d.PARENTDEPARTMENT)  as &quot;Parent&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;scheme_validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy') as &quot;scheme_validTo&quot; , isActive as &quot;department_isActive&quot;FROM DEPARTMENT d WHERE  name='@1'">	
					<parameter dataSource="worksDetail_name" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="divisionDataName" 
					template="SELECT name as &quot;worksDetail_name&quot;, DESCRIPTION as &quot;scheme_description&quot;, (SELECT   NAME  FROM DEPARTMENT WHERE id=d.PARENTDEPARTMENT)  as &quot;Parent&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;scheme_validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy') as &quot;scheme_validTo&quot; , isActive as &quot;department_isActive&quot;FROM DIVISION d WHERE  name='@1'">	
					<parameter dataSource="worksDetail_name" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="costUpdateData" 
					template="SELECT name as &quot;name&quot;, DESCRIPTION as &quot;description&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy')as &quot;validTo&quot;, isActive as &quot;department_isActive&quot; FROM COSTCENTRE WHERE  id='@1'">		
					<parameter dataSource="worksDetail_code" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="departmentUpdateData" 
					template="SELECT name as &quot;name&quot;, DESCRIPTION as &quot;description&quot;, (SELECT   NAME  FROM DEPARTMENT WHERE id=d.PARENTDEPARTMENT)  as &quot;Parent&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy')as &quot;validTo&quot; , isActive as &quot;department_isActive&quot;FROM DEPARTMENT d WHERE  id='@1'">		
					<parameter dataSource="worksDetail_code" isRequired="true"/>
				</sqlTemplate>
				<sqlTemplate id="divisionUpdateData" 
					template="SELECT d.PARENTDEPARTMENT as &quot;code&quot;,name as &quot;name&quot;, DESCRIPTION as &quot;description&quot;, (SELECT   dept_NAME  FROM eg_DEPARTMENT WHERE id_dept=d.PARENTDEPARTMENT)  as &quot;Parent&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy')as &quot;validTo&quot;, isActive as &quot;department_isActive&quot; FROM DIVISION d WHERE  id='@1'">		
					<parameter dataSource="worksDetail_code" isRequired="true"/>
				</sqlTemplate>
				
				<sqlTemplate id="newDepartmentNameList" 
						template="SELECT distinct name as &quot;Parent&quot;, name as &quot;Parent&quot; FROM department">
					</sqlTemplate>
					<sqlTemplate id="billRegister" 
						template="SELECT distinct code as &quot;bill_Po&quot;, code as &quot;bill_Po&quot; FROM WORKSDETAIL ORDER BY code asc">
					</sqlTemplate>
					<sqlTemplate id="divisionNameList" 
						template="SELECT distinct id_name,dept_name  FROM eg_department">
					</sqlTemplate>
					 <sqlTemplate id="costList" 
				   			template="SELECT id, name FROM costcentre">
					</sqlTemplate>
					<sqlTemplate id="departmentList" 
				   			template="SELECT id_dept, dept_name FROM eg_department">
				</sqlTemplate>
				<sqlTemplate id="divisionList" 
				   			template="SELECT id, name FROM division">
					</sqlTemplate>
					<sqlTemplate id="yearNameList" 
									template="select id, financialyear from financialyear where isactive=1">
					</sqlTemplate>
					<sqlTemplate id="zoneList" 
				   			template="SELECT ID_BNDRY, name FROM EG_BOUNDARY where ID_BNDRY_TYPE = 4">
					</sqlTemplate>
					<sqlTemplate id="wardListNew" 
				   			template="SELECT ID_BNDRY, name FROM EG_BOUNDARY where PARENT = @1">
							<parameter dataSource="parent" isRequired="true" />
					</sqlTemplate>
					<sqlTemplate id="getPO" 
				   			template="SELECT code, code FROM WORKSDETAIL ">			
					</sqlTemplate>
					<sqlTemplate id="getCreditor" 
				   			template="SELECT ID, NAME FROM RELATION ORDER BY NAME">			
					</sqlTemplate>
					<sqlTemplate id="headList" 
					   			template="SELECT id_dept, dept_name FROM eg_department ">
						</sqlTemplate>
						<sqlTemplate id="subHeadList" 
					   			template="SELECT id, name FROM CHARTOFACCOUNTS where isactive=1 AND CLASSIFICATION = 4">
				</sqlTemplate>
				
				<sqlTemplate id="yearCode" 
				   			template="SELECT  SUBSTR(name,3,2),SUBSTR(name,3,2) FROM FISCALPERIOD  WHERE SYSDATE BETWEEN startingdate AND endingdate">
					</sqlTemplate>
					<sqlTemplate id="orderedToWork" 
						template="SELECT  id ,name  FROM relation where isactive=1 AND RELATIONTYPEID=2">		
					</sqlTemplate>
					<sqlTemplate id="orderedToPurchase" 
						template="SELECT  id ,name  FROM relation where isactive=1 AND RELATIONTYPEID=1">		
					</sqlTemplate>
					<sqlTemplate id="getBillNo" 
						template="SELECT  BILLNUMBER as &quot;bill_No&quot; FROM EG_BILLREGISTER where  BILLNUMBER='@1'">		
						<parameter dataSource="billNo" isRequired="true"/>
					</sqlTemplate>
					<sqlTemplate id="getBillAmount" 
						template="SELECT  BILLAMOUNT as &quot;contractorBillDetail_bill&quot;FROM EG_BILLREGISTER where  ID=@1">		
						<parameter dataSource="billId" isRequired="true"/>
					</sqlTemplate>
					<sqlTemplate id="getBillAmountV" 
						template="SELECT  a.BILLAMOUNT as &quot;contractorBillDetail_bill&quot;,a.PO as &quot;worksDetail_id1&quot;,b.ID as &quot;worksDetail_id&quot;,b.FUNDID as &quot;fund_id&quot;,c.NAME as &quot;fund_name&quot;,b.FUNDSOURCEID as &quot;fundSource_id&quot;,d.NAME as &quot;fundSource_name&quot;
						, TO_CHAR(b.ORDERDATE,'dd/MM/yyyy') as &quot;worksDetail_orderDate&quot;
						,r.CODE as &quot;contractor_code&quot;
						,r.NAME as &quot;contractor_name&quot;
						,b.type AS &quot;worksDetail_type&quot;
						,r.RELATIONTYPEID AS &quot;relationTypeId&quot;
						,TO_CHAR(a.BILLDATE,'dd/MM/yyyy') AS &quot;supplierBillDetail_billDate&quot;
						,TO_CHAR(a.BILLDATE,'dd/MM/yyyy') AS &quot;supplierBillDetail_mrnDate&quot;
						,a.BILLNUMBER AS &quot;supplierBillDetail_mrnNumber&quot;
				
						FROM EG_BILLREGISTER a, WORKSDETAIL b,FUND c,FUNDSOURCE d, RELATION r where a.PO=b.CODE AND b.FUNDID=c.ID AND b.FUNDSOURCEID=d.ID AND b.RELATIONID=r.ID AND a.ID=@1">		
						<parameter dataSource="billId" isRequired="true"/>
					</sqlTemplate>
					<sqlTemplate id="getBill" 
						template="SELECT  ID, BILLNUMBER FROM EG_BILLREGISTER where  PO = (select CODE from WORKSDETAIL where ID=@1) AND ISACTIVE =0">		
						<parameter dataSource="workOrderID" isRequired="true"/>
					</sqlTemplate>
					<sqlTemplate id="getBillOne" 
						template="SELECT  ID, BILLNUMBER FROM EG_BILLREGISTER where ISACTIVE =0">		
					</sqlTemplate>
					<sqlTemplate id="getProject" 
						template="SELECT name as &quot;relation_name&quot;, (SELECT   dept_NAME  FROM eg_DEPARTMENT WHERE id_dept=d.PARENTDEPARTMENT)  as &quot;Parent&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;scheme_validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy') as &quot;scheme_validTo&quot; , isActive as &quot;department_isActive&quot;FROM PROJECT d WHERE  code='@1'">	
						<parameter dataSource="relation_codeToSearch" isRequired="true"/>
					</sqlTemplate>	
					<sqlTemplate id="updateProject" 
						template="SELECT  id as &quot;id&quot;,name as &quot;name&quot;, d.PARENTDEPARTMENT as &quot;Parent&quot;, TO_CHAR(VALIDFROM,'dd/MM/yyyy') as &quot;validFrom&quot;, TO_CHAR(VALIDTO,'dd/MM/yyyy') as &quot;validTo&quot; , isActive as &quot;department_isActive&quot;FROM PROJECT d WHERE  code='@1'">	
						<parameter dataSource="description" isRequired="true"/>
				</sqlTemplate>
				
				<sqlTemplate  id="bankList" 
						template="Select CONCAT(CONCAT(bankBranch.bankId, '-'),bankBranch.ID) , bank.name||bankbranch.branchName  
									FROM bank, bankBranch where  bank.isactive=1  and bankBranch.isactive=1 and bank.ID = bankBranch.bankId"> 
				</sqlTemplate>	
				
						<!-- Added by Lakshmi -->    
			    	<sqlTemplate id="getBranchDetails"
						template="select cv.FromBankBranchID AS &quot;cv_fromBankId&quot; ,cv.fromBankAccountId AS &quot;cv_fromBankAccountId&quot;,vh.id AS &quot;voucherHeader_id&quot;,
								cv.toBankBranchID AS &quot;cv_toBankId&quot;,cv.toBankAccountId AS &quot;cv_toBankAccountId&quot;
								from ContraJournalVoucher  cv, voucherHeader vh,voucherDetail vd 
								where cv.voucherHeaderId=vh.id  and vd.voucherHeaderid=vh.id and vd.debitAmount!=0 and  vh.cgn='@1'">
				    <parameter dataSource="cgNumber" isRequired="true" />
			    	</sqlTemplate>	
			    	
			 <sqlTemplate id="getBACode"
					template="SELECT c.glcode as &quot;glCode&quot; from chartofaccounts c,bankaccount b where b.glcodeid=c.id AND b.id=@1">
					<parameter dataSource="bankAccountID" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="getPayCodes"
				template="select c.id as &quot;divId&quot;,c.glcode as &quot;divCode&quot;,c.name as &quot;divDes&quot;  from chartofaccounts c,egf_accountcode_purpose e where e.id=@1 and e.id=c.purposeid">
					<parameter dataSource="egf_purpose" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="getRecCodes"
				template="select c.id as &quot;divId&quot;,c.glcode as &quot;divCode&quot;,c.name as &quot;divDes&quot;  from chartofaccounts c,egf_accountcode_purpose e where e.id=@1 and e.id=c.purposeid">
					<parameter dataSource="egf_purpose" isRequired="true" />
			</sqlTemplate>
			
			 <sqlTemplate id="getBankName"
					template="select concat(concat(bank.name , ' '),bankBranch.branchName) as &quot;bank_id&quot; from bank, bankbranch where bankBranch.bankId=@1 and bankBranch.ID=@2 and bank.ID = bankBranch.bankId ">
					<parameter dataSource="bankId" isRequired="true" />
					<parameter dataSource="Id" isRequired="true" />
			</sqlTemplate>
			
			<sqlTemplate id="getConSupName"
			      template="select id,name  from relation where relationtypeid='@1'">
			      <parameter dataSource="SupConTypeCode" isRequired="true"/>  
   			</sqlTemplate>
   
			 <sqlTemplate id="checkPassedAmount"
				template="select sum(b.passedAmount) as &quot;passedAmount&quot; from worksdetail a,contractorbilldetail  b,relation r,relationtype rtype   
				where a.id = b.worksdetailid and a.relationid=r.id  and r.relationtypeid=rtype.id  and  b.ISREVERSED=0 and b.worksdetailid=@1 group by b.worksdetailid
				union
				select sum(b.passedAmount) as &quot;passedAmount&quot;  from worksdetail a,SUPPLIERbilldetail  b,relation r,relationtype rtype   
				where a.id = b.worksdetailid and a.relationid=r.id  and r.relationtypeid=rtype.id  and   b.ISREVERSED=0 and b.worksdetailid=@2 group by b.worksdetailid">
				<parameter dataSource="workDetailId" isRequired="true" />
				<parameter dataSource="workDetailId" isRequired="true" />
			</sqlTemplate>
			<sqlTemplate id="getWorkDetailIdList"
				template="SELECT W.ID FROM VOUCHERHEADER vh,SUBLEDGERPAYMENTHEADER sph, WORKSDETAIL w 
					WHERE sph.voucherheaderid=vh.id          AND w.id=sph.worksdetailid AND vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn)
		 			from voucherheader	vp where vp.cgn='@1')">
				<parameter dataSource="drillDownCgn" isRequired="true"/>
			</sqlTemplate>
			
			<sqlTemplate id="maxGlcode"
				template="select max(glcode) as &quot;chartOfAccounts_glCode2&quot; from chartofaccounts where glcode like '@1'||'%'">
			<parameter dataSource="value" isRequired="true"/>
			</sqlTemplate>
			
			<sqlTemplate id="ListOfBanks"
			   template="select code,name from bank {where isactive='@1' } order by name">
			   <parameter dataSource="isactive" isRequired="false" />
			 </sqlTemplate>
			 <sqlTemplate id="ListOfBranches"
			  template="select id,branchname from bankbranch where bankid=(select id from bank where code='@1') order by branchname">
			  <parameter dataSource="bank_code" isRequired="true" />
			 </sqlTemplate>
			 
			 <sqlTemplate id="codeAndDescription1"
			 	template="SELECT id as &quot;divId&quot; , code as &quot;code&quot;, name as &quot;conSupName&quot; FROM @1 WHERE 1=1 AND relationTypeId = @2 AND isActive=1 AND code='@3'">
			 	<parameter dataSource="tableNameForCode" isRequired="true" />
			 	<parameter dataSource="relationType" isRequired="true" />
			 	<parameter dataSource="conSupCode1" isRequired="true" />
			 </sqlTemplate>
			 
			 <sqlTemplate id="getBillDetails"
			      template="select billnumber||' / '||vouchernumber as &quot;billnovoucherno&quot;,to_char(voucherdate,'dd-Mon-yyyy') as &quot;billDate&quot;,billamount as &quot;billAmount&quot;,passedamount as &quot;passedAmt&quot;,advadjamt as &quot;advAdjusted&quot;,TDSamount as &quot;tds&quot;,OtherRecoveries as  &quot;otherRecoveries&quot;,passedAmount-(advadjamt+tdsamount+otherrecoveries) as &quot;netPayable&quot;,vh.cgn as &quot;cgn&quot;  from voucherheader vh, @1 cb where vh.id=cb.voucherheaderid and  vh.status=0 and worksdetailid=@2" >
				<parameter dataSource="billTableName" isRequired="true"/>
				<parameter dataSource="workOrderCode" isRequired="true"/>			
			 </sqlTemplate>


			 <sqlTemplate id="getPaymentDetails"
			      template="select bd.billnumber||' / '||vouchernumber as &quot;voucherno&quot;,to_char(voucherdate,'dd-Mon-yyyy') as &quot;paymentDate&quot;,s.paidamount as &quot;amountPaid&quot;,b.name as &quot;bankName&quot;,c.chequenumber as &quot;chequeNo&quot;,to_char(c.chequedate,'dd-Mon-yyyy') as &quot;chequeDate&quot;,vh.status as &quot;status&quot;,vh.cgn as &quot;cgn&quot; from subledgerpaymentheader s,chequedetail c,bank b, voucherheader vh,@2  where c.id=s.CHEQUEID and b.id =c.bankid and  vh.id = s.voucherheaderid and s.worksdetailid=@1 AND bd.id=@3">
				<parameter dataSource="worksdetailid" isRequired="true"/>
				<parameter dataSource="tablename" isRequired="true"/>
				<parameter dataSource="fieldname" isRequired="true"/>
			</sqlTemplate>
			
		<sqlTemplate id="codeAndDescriptionCombo"
		  template="SELECT id as &quot;id&quot;, name||'`-`'||code as &quot;divDes&quot; FROM relation WHERE 1=1  {AND relationTypeId = @1 AND isActive=1} order by name">
		  <parameter dataSource="relationType" isRequired="false" />
		 </sqlTemplate>
		
		 <sqlTemplate id="workOrderNames" 
		  template="select id,name||'`-`'||code from worksdetail  where totalvalue&gt;passedamount and  relationid='@1' and isactive=1 order by name">  
		  <parameter dataSource="supplierCode" isRequired="true"/>
		 </sqlTemplate> 
		
		<sqlTemplate id="workFundSourceMap"
		   template="SELECT decode(fundsourceid,null,'',(select name from fundsource where id=fundsourceid)) as &quot;fundSource_name&quot;,fundsourceid as &quot;fundSource_id&quot; FROM worksdetail where id=@1">
		   <parameter dataSource="workOrderID" isRequired="true" />   
		 </sqlTemplate>

		<!--<sqlTemplate id="unConfirmedVouchersForCancellation"
		template="SELECT vh.id AS &quot;voucherHeader_id&quot;, vh.cgvn AS &quot;voucherHeader_cgn&quot;,
				                               vh.cgn AS &quot;cgnum&quot;,
				                               vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;, 
				                                      to_char(vh.voucherDate, 'dd-Mon-yyyy') AS &quot;voucherHeader_voucherDate&quot;, 
				                                      vh.name||'-'||vh.type AS &quot;voucherHeader_name&quot;, 
				                                      vh.description AS &quot;voucherHeader_description&quot; 
				                                      FROM voucherHeader vh 
				                                      WHERE  vh.isconfirmed=0 
													  and vh.status!=4
				                                      and vh.cgn not in (select  DECODE(REFCGNO,NULL,'0',DECODE(REFCGNO,'','0',DECODE(REFCGNO,' ','0',REFCGNO)))   
																  from VOUCHERHEADER )
														{ AND vh.voucherNumber &gt;= '@1' } { AND vh.voucherNumber &lt;= '@2' }
				                                      AND vh.voucherDate &gt;= '@3'   AND vh.voucherDate &lt;= '@4'  { AND vh.fundid = @5 } { AND vh.type = '@6' }
				                                      ORDER BY voucherDate, lower(name), lower(type), lower(voucherNumber)">
				                   <parameter dataSource="voucherNumberFrom" isRequired="false"/>
								  <parameter dataSource="voucherNumberTo" isRequired="false"/>
								  <parameter dataSource="voucherDateFrom" isRequired="true"/>  
				                  <parameter dataSource="voucherDateTo" isRequired="true"/>
		                          <parameter dataSource="fund_id" isRequired="false"/>
		                          <parameter dataSource="voucherHeader_Type" isRequired="false"/>



    </sqlTemplate>-->
    
    <sqlTemplate id="unConfirmedVouchersForCancellation"
    				template="SELECT vh.id AS &quot;voucherHeader_id&quot;, vh.cgvn AS &quot;voucherHeader_cgn&quot;,
    						                               vh.cgn AS &quot;cgnum&quot;,
    						                               vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;, 
    						                                      to_char(vh.voucherDate, 'dd-Mon-yyyy') AS &quot;voucherHeader_voucherDate&quot;, 
    						                                      vh.name||'-'||vh.type AS &quot;voucherHeader_name&quot;, 
    						                                      REPLACE(REPLACE(vh.description,CHR(10),'') ,CHR(13),'') AS &quot;voucherHeader_description&quot;,(select name from fund where id=vh.fundid) as &quot;voucherHeader_fund&quot; 
    						                                      FROM voucherHeader vh left outer join miscbilldetail m on (vh.id= m.billvhid), vouchermis vmis 
    						                                      WHERE  vh.STATUS=0  AND  vh.isconfirmed=0 AND vh.id = vmis.voucherheaderid
    						                                      AND vh.id NOT IN(SELECT cbd.VOUCHERHEADERID FROM  CONTRACTORBILLDETAIL cbd  WHERE   cbd.VOUCHERHEADERID=vh.id AND cbd.paidamount>0)
    										      AND vh.id NOT IN(SELECT sbd.VOUCHERHEADERID FROM SUPPLIERBILLDETAIL sbd WHERE sbd.VOUCHERHEADERID=vh.id AND sbd.PAIDAMOUNT>0)
    										      AND not exists ( select 1 from voucherheader ph where m.payvhid=ph.id and ph.status=0 and ph.status=5)
    										      AND vh.id not in ((select vHdr.ID  from EG_REMITTANCE_DETAIL remitDtl, EG_REMITTANCE_GLDTL remitGldtl, GENERALLEDGERDETAIL glDtl, GENERALLEDGER gl, EG_REMITTANCE remit, VOUCHERHEADER vHdr , VOUCHERMIS vmis, VOUCHERHEADER pvh where remitDtl.REMITTANCEGLDTLID=remitGldtl.ID and remitGldtl.GLDTLID=glDtl.ID and glDtl.GENERALLEDGERID=gl.ID and remitDtl.REMITTANCEID=remit.ID and remit.PAYMENTVHID=pvh.ID and gl.VOUCHERHEADERID=vHdr.ID and pvh.ID=vmis.VOUCHERHEADERID and pvh.STATUS!=4  and vHdr.ISCONFIRMED!=1))
    										      AND vh.id NOT IN(SELECT salbd.voucherheaderid FROM SALARYBILLDETAIL salbd WHERE salbd.VOUCHERHEADERID=vh.id AND salbd.PAIDAMOUNT>0)
												  AND vh.Id NOT IN ( SELECT iv.VOUCHERHEADERID FROM EGF_INSTRUMENTVOUCHER iv,egf_instrumentheader ih where iv.instrumentheaderid=ih.id and ih.id_status not in (select id from egw_status egw
  where egw.moduletype='Instrument' and description in ('Cancelled','Surrendered','Surrender_For_Reassign')))
											      AND vh.id NOT IN(SELECT cd.VOUCHERHEADERID FROM CHEQUEDETAIL cd WHERE cd.VOUCHERHEADERID=vh.id AND cd.ISDEPOSITED=1 AND cd.ISPAYCHEQUE=0  and vh.cgn not like 'BTB%')
    								              and vh.cgn not in (select  DECODE(REFCGNO,NULL,'0',DECODE(REFCGNO,'','0',DECODE(REFCGNO,' ','0',REFCGNO)))   
    																		  from VOUCHERHEADER )
    																{ AND vh.voucherNumber &gt;= '@1' } { AND vh.voucherNumber &lt;= '@2' }
    						                                      AND vh.voucherDate &gt;= '@3'   AND vh.voucherDate &lt;= '@4'  { AND vh.fundid = @5 } 
    						                                      { AND vmis.DEPARTMENTID = @6 } { AND vh.type = '@7' } ORDER BY voucherNumber ,voucherDate, lower(name), lower(type)">
    						      <parameter dataSource="voucherNumberFrom" isRequired="false"/>
    							  <parameter dataSource="voucherNumberTo" isRequired="false"/>
    							  <parameter dataSource="voucherDateFrom" isRequired="true"/>  
    						      <parameter dataSource="voucherDateTo" isRequired="true"/>
		                          <parameter dataSource="fund_id" isRequired="false"/>
		                          <parameter dataSource="deptId" isRequired="false"/>
		                          <parameter dataSource="voucherHeader_Type" isRequired="false"/>
	</sqlTemplate>
    
		<sqlTemplate id="getSupplierGridView"
		   template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;,fuct.name AS &quot;function_code&quot;,vd.glcode AS &quot;chartOfAccounts_glCode&quot;,accountName AS &quot;chartOfAccounts_name&quot;,
		     vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,vd.creditAmount AS &quot;voucherDetail_creditAmount&quot;,narration AS &quot;voucherDetail_narration&quot;
		     from generalledger gl left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd, voucherheader vh where  
		     vd.creditAmount=0 AND vd.voucherheaderId=vh.id and gl.VOUCHERHEADERID=vh.ID and vd.id=gl.VOUCHERLINEID and  vh.cgn='@1' 
		    { AND ( GL.GLCODEID NOT IN(SELECT id FROM CHARTOFACCOUNTS WHERE  purposeid in (@2)) ) }
			{ AND ( GL.GLCODEID NOT IN(SELECT id FROM CHARTOFACCOUNTS WHERE  purposeid in (@3)) ) } ">
		    <parameter dataSource="cgNumber" isRequired="true" />
		    <parameter dataSource="ConPayCode" isRequired="false" />
		    <parameter dataSource="SupPayCode" isRequired="false" />
		    
 </sqlTemplate>
	<sqlTemplate id="getFunctionList"
		template="SELECT id as &quot;divId&quot;, code as &quot;divCode&quot;, name as &quot;divDes&quot; FROM @1 WHERE isactive=1 and isnotleaf=0 {AND relationTypeId = @2 AND isActive=1} order by code">
		<parameter dataSource="tableNameForCode" isRequired="true" />
		<parameter dataSource="relationType" isRequired="false" />
	</sqlTemplate>
	 		<sqlTemplate id="assetList"
			        template="select assetid,description from eg_asset {where statusid in (@1) }{or statusid IN (@2)}">
			        <parameter dataSource="assetId" isRequired="false"/>
			        <parameter dataSource="assetId1" isRequired="false"/>
		 </sqlTemplate>
		<sqlTemplate id="AssetListMod"
					template="select assetid,description from eg_asset 
					where assetid in (select assetid from eg_asset_po where workorderid=(select id from worksdetail wd where wd.id='@1'))">
					<parameter dataSource="worksDetail_code" isRequired="true"/>
		 </sqlTemplate>

		<!-- Added by Girish & chiru -->   
		  <sqlTemplate id="getSupConName"
		    template="select id,name  from relation {where relationtypeid='@1' and isactive = 1 }"> <!-- added by sapna isactive =1 -->
		    <parameter dataSource="SupConTypeCode" isRequired="false"/>
 		</sqlTemplate>
 		

<!-- Added by lakshmi for subledger payment  -->
<sqlTemplate id="accountNumberMod"
				template="SELECT  ID, DECODE(narration,' ',accountNumber,DECODE(narration,NULL,accountNumber,DECODE(narration,'',accountNumber,accountNumber||' --  '||narration) ))
				FROM BANKACCOUNT WHERE branchId=@1 and isactive=1 ORDER BY ID">
				<parameter dataSource="branchId" isRequired="true" />
	</sqlTemplate>

<sqlTemplate id="functionIdKey"
					template="SELECT id FROM function WHERE name='@1' and isactive=1 and isnotleaf=0 ">
					<parameter dataSource="keyValue" isRequired="true" />			
</sqlTemplate>
<sqlTemplate id="worksTypeList"
    template="select id,name from  egw_workstype ORDER BY ID">
</sqlTemplate>
 <sqlTemplate id="getConTDSCodes"
  	template="select distinct t.type||'`~`'||b.name||'`~`'||b.glcode||'`~`'||b.id||'`~`'||t.id   as &quot;tds_Code&quot;, t.type as &quot;divDes&quot;      from tds t,eg_deduction_details dt,chartofaccounts b where t.id=dt.tdsid 
			and  t.partytypeid=(select id from eg_partytype where code='Contractor')
			{and dt.partytypeid=@1}
			{and dt.doctypeid =@2}
			{and dt.docsubtypeid=@3}
			and t.glcodeid=b.id
			and sysdate between dt.DATEFROM and decode(dt.dateto,null,sysdate,dt.dateto)
			and @4 between dt.lowlimit and decode(dt.highlimit,null,99999999999999999999999, dt.highlimit)">
			<parameter dataSource="subpartytypeid" isRequired="false" />
			<parameter dataSource="doctypeid" isRequired="false" />
			<parameter dataSource="docsubtypeid" isRequired="false" />
			<parameter dataSource="amount" isRequired="true" />
			
    </sqlTemplate>

 <sqlTemplate id="soldAssetList"
    template="select assetid,code from EG_ASSET where statusid=(select distinct id from egw_status where upper(moduletype)='ASSET' and upper(description)=upper('Disposed')) ORDER BY code">
</sqlTemplate> 
 <sqlTemplate id="getSaledetailForAsset"
    template="select wdv as &quot;wdv&quot;,sale_value as &quot;salePrice&quot; from eg_asset_sale,eg_asset where eg_asset.ASSETID=eg_asset_sale.ASSETID and eg_asset.ASSETID=@1">
    <parameter dataSource="assetId" isRequired="true" />
</sqlTemplate>   
 
<!--  Field query for VMC-->
<sqlTemplate id="field_name"
  template="SELECT id_bndry,name  FROM EG_BOUNDARY
         WHERE ID_BNDRY_TYPE = (SELECT id_bndry_type FROM 
          EG_BOUNDARY_TYPE WHERE LOWER(name)= 'ward')
          ORDER BY name">
 </sqlTemplate>				
<!-- BillNo Query for VMC -->

<sqlTemplate id="billnocash"
  template="select v.id as &quot;BillVhID&quot;,eb.billnumber as &quot;billnocash&quot; from voucherheader v,OTHERBILLDETAIL ob,EG_BILLREGISTER eb
where  v.name='Contingency Journal' and v.id in(select m.BILLVHID from miscbilldetail m, voucherheader vh ,paymentheader p
  where m.billvhid is not null and (m.isreversed=0 or m.isreversed is null) 
  and p.VOUCHERHEADERID=vh.id and p.MISCBILLDETAILID=m.id and vh.STATUS!=4 and vh.cgn = '@1') and v.status=0 AND v.id = ob.voucherheaderid AND ob.billid =eb.id 
 ">
 <parameter dataSource="cgNumber" isRequired="true" />
</sqlTemplate>

<sqlTemplate id="billnobank"
  template="select v.id as &quot;BillVhID&quot;,eb.billnumber as &quot;billnobank&quot; from voucherheader v,OTHERBILLDETAIL ob,EG_BILLREGISTER eb
where  v.name='Contingency Journal' and v.id in(select m.BILLVHID from miscbilldetail m, voucherheader vh ,paymentheader p
  where m.billvhid is not null and (m.isreversed=0 or m.isreversed is null) 
  and p.VOUCHERHEADERID=vh.id and p.MISCBILLDETAILID=m.id and vh.STATUS!=4 and vh.cgn = '@1') and v.status=0 AND v.id = ob.voucherheaderid AND ob.billid =eb.id 
 ">
 <parameter dataSource="cgNumber" isRequired="true" />
</sqlTemplate>


<sqlTemplate id="BillNOIdCash"
  template="select br.id,br.fieldid as &quot;field_name&quot;,br.id as &quot;billid&quot;,
  PASSEDAMOUNT as &quot;voucherDetail_passedAmount&quot;,PASSEDAMOUNT as &quot;voucherDetail_debitAmount&quot;,PASSEDAMOUNT as &quot;debitTotal&quot; 
  from eg_billregister br,otherbilldetail od,voucherheader vh  
  where  br.id= od.BILLID AND od.VOUCHERHEADERID = vh.ID AND vh.id ={'@1'}"> 
  <parameter dataSource="BillNoId" isRequired="false" />
</sqlTemplate>

<sqlTemplate id="BillNOIdBank"
  template="select br.id,br.fieldid as &quot;field_name&quot;,br.id as &quot;billid&quot;,
  PASSEDAMOUNT as &quot;chequeDetail_passedAmount&quot;,PASSEDAMOUNT as &quot;voucherDetail_debitAmount&quot;,PASSEDAMOUNT as &quot;debitTotal&quot; 
  from eg_billregister br,otherbilldetail od,voucherheader vh  
  where  br.id= od.BILLID AND od.VOUCHERHEADERID = vh.ID AND vh.id ={'@1'}"> 
  <parameter dataSource="BillNoId" isRequired="false" />
</sqlTemplate>


<sqlTemplate id="contigglcode"
  template="select id,glcode as &quot;contigencyglcode&quot;, name as &quot;contigencyglname&quot;
  from CHARTOFACCOUNTS where purposeid = 28 ">
</sqlTemplate>






<!--  FOR VMC BILL REGISTER Added By Iliyaraja START-->
	 
 <sqlTemplate id="billNumberList"
   	  template="SELECT eg.id,eg.BILLNUMBER as &quot;billNoList&quot;FROM EG_BILLREGISTER eg ORDER BY eg.BILLNUMBER">
   </sqlTemplate>
  <sqlTemplate id="billNumberListModify"
  		template="SELECT eg.id,eg.BILLNUMBER as &quot;billNoList&quot;FROM EG_BILLREGISTER  eg 
 		 where eg.BILLSTATUS ='PENDING' ORDER BY eg.BILLNUMBER">
  </sqlTemplate>	 
  <sqlTemplate id="WPCodeNameList"
  	    template="select wd.id,wd.code ||'`-`'||wd.name as &quot;WPCodeList&quot;from worksdetail wd,relation re,relationtype rt 
  	    where wd.RELATIONID=re.ID AND re.RELATIONTYPEID=rt.ID { AND re.RELATIONTYPEID='@1'} order by wd.name">
  	 	<parameter dataSource="relationTypeId" isRequired="false"/>
   </sqlTemplate>
   
   <sqlTemplate id="WPCodeNameListCreate"
          template="select wd.id,wd.code ||'`-`'||wd.name as &quot;WPCodeList&quot;
        	FROM  RELATION re,RELATIONTYPE rt,WORKSDETAIL wd left outer join  EG_BILLREGISTER br ON br.WORKSDETAILID=wd.ID
       	WHERE  wd.RELATIONID=re.ID AND re.RELATIONTYPEID=rt.ID
        	{ AND re.RELATIONTYPEID='@1'} 
        	HAVING ( wd.TOTALVALUE >SUM(br.passedamount) OR SUM(br.passedamount) IS NULL )
       	GROUP BY br.WORKSDETAILID,wd.id,wd.code,wd.name,wd.TOTALVALUE order by wd.name">
        	    	<parameter dataSource="relationTypeId" isRequired="false"/>
   </sqlTemplate>
   <sqlTemplate id="WPCodeNameListModify"
             template="select wd.id,wd.code ||'`-`'||wd.name as &quot;WPCodeList&quot;
           	FROM  RELATION re,RELATIONTYPE rt,WORKSDETAIL wd left outer join  EG_BILLREGISTER br ON br.WORKSDETAILID=wd.ID
          	WHERE  wd.RELATIONID=re.ID AND re.RELATIONTYPEID=rt.ID 	{ AND re.RELATIONTYPEID='@1'} 
           	HAVING ( wd.TOTALVALUE >SUM(br.passedamount) OR SUM(br.passedamount) IS NULL )
          	GROUP BY br.WORKSDETAILID,wd.id,wd.code,wd.name,wd.TOTALVALUE 
          	UNION
   		select wd.id,wd.code ||'`-`'||wd.name as &quot;WPCodeList&quot;FROM  RELATION re,RELATIONTYPE rt,WORKSDETAIL wd ,
   		EG_BILLREGISTER br WHERE br.WORKSDETAILID=wd.ID AND  wd.RELATIONID=re.ID AND 
   		re.RELATIONTYPEID=rt.ID       { AND re.RELATIONTYPEID='@2'}    AND br.id='@3'     
   		ORDER BY &quot;WPCodeList&quot; ">
          	      	    	   	
           	    	   	<parameter dataSource="relationTypeId" isRequired="false"/>
           	    	   	<parameter dataSource="relationTypeId" isRequired="false"/>
           	    	   	<parameter dataSource="billNo" isRequired="true"/>
   </sqlTemplate>
   
   <sqlTemplate id="getCSNAME"
      	    template="select re.id,re.name as &quot;CSName&quot;,wd.orderDate AS &quot;worksDetail_orderDate&quot; from relation re,worksdetail wd,relationtype rt 
      	    where wd.RELATIONID=re.ID AND re.RELATIONTYPEID=rt.ID { AND wd.ID='@1'}">
      	 	<parameter dataSource="CSNAMEID" isRequired="false"/>
   </sqlTemplate>
   
   <!-- FOR SERACH BILL REGISTER-->
  <sqlTemplate id="billRegisterSearchId" 
     template="SELECT br.id as &quot;colH&quot;,br.EXPENDITURETYPE as &quot;colA&quot;,br.BILLTYPE as &quot;colB&quot;,
     wd.name as &quot;colC&quot;,br.BILLNUMBER as &quot;colD&quot;,br.BILLDATE as &quot;colE&quot;,br.BILLAMOUNT as &quot;colF&quot;,br.PASSEDAMOUNT  as &quot;colG&quot;,br.BILLSTATUS  as &quot;colI&quot;
      FROM EG_BILLREGISTER br left outer join WORKSDETAIL wd on br.WORKSDETAILID=wd.ID  join EG_BILLREGISTERMIS mis on mis.BILLID = br.id    where  br.EXPENDITURETYPE is not null   
   
      { AND (UPPER(br.EXPENDITURETYPE)= UPPER('@1'))} {AND (UPPER(br.BILLTYPE)=UPPER('@2'))} 
      AND br.BILLDATE  &gt;= '@3' AND br.BILLDATE  &lt;='@4' {AND mis.DEPARTMENTID=@5} ORDER BY br.EXPENDITURETYPE">
      
     		<parameter dataSource="expType" isRequired="false"/>
     		<parameter dataSource="billType" isRequired="false"/>
     		<parameter dataSource="billDate" isRequired="true"/>
	  	<parameter dataSource="billDateTo" isRequired="true"/>
	  	<parameter dataSource="deptId" isRequired="false"/>
     		
  </sqlTemplate>
  <!--  added by iliyaraja --> 
    <sqlTemplate id="billRegisterSearchModify" 
	         template="SELECT br.id as &quot;colH&quot;,br.EXPENDITURETYPE as &quot;colA&quot;,br.BILLTYPE as &quot;colB&quot;,
	         wd.name as &quot;colC&quot;,br.BILLNUMBER as &quot;colD&quot;,br.BILLDATE as &quot;colE&quot;,br.BILLAMOUNT as &quot;colF&quot;,br.PASSEDAMOUNT  as &quot;colG&quot;,br.BILLSTATUS  as &quot;colI&quot;
	         FROM EG_BILLREGISTER br,WORKSDETAIL wd WHERE  br.EXPENDITURETYPE IS NOT NULL  AND 
	         br.WORKSDETAILID=wd.ID AND br.BILLSTATUS='PENDING' 
	   	    { AND (UPPER(br.EXPENDITURETYPE)= UPPER('@1'))} {AND (UPPER(br.BILLTYPE)=UPPER('@2'))} 
	   	    AND br.BILLDATE  &gt;= '@3' AND br.BILLDATE  &lt;='@4'
	   	  UNION
	         SELECT br.id as &quot;colH&quot;,br.EXPENDITURETYPE as &quot;colA&quot;,br.BILLTYPE as &quot;colB&quot;,
	         wd.name as &quot;colC&quot;,br.BILLNUMBER as &quot;colD&quot;,br.BILLDATE as &quot;colE&quot;,br.BILLAMOUNT as &quot;colF&quot;,br.PASSEDAMOUNT  as &quot;colG&quot;,br.BILLSTATUS  as &quot;colI&quot;
	         FROM EG_BILLREGISTER br left outer join WORKSDETAIL wd on br.WORKSDETAILID=wd.ID 
	         where  br.BILLSTATUS='CREATED' and br.EXPENDITURETYPE is not null   AND  br.EXPENDITURETYPE='Contingency'
	          { AND (UPPER(br.EXPENDITURETYPE)= UPPER('@5'))} {AND (UPPER(br.BILLTYPE)=UPPER('@6'))} AND br.BILLDATE  &gt;= '@7' AND br.BILLDATE  &lt;='@8' ORDER BY &quot;colA&quot; ">
	          
	          		<parameter dataSource="expType" isRequired="false"/>
	         		<parameter dataSource="billType" isRequired="false"/>
	         		<parameter dataSource="billDate" isRequired="true"/>
	         		<parameter dataSource="billDateTo" isRequired="true"/>
	         		<parameter dataSource="expType" isRequired="false"/>
	  			<parameter dataSource="billType" isRequired="false"/>
	  			<parameter dataSource="billDate" isRequired="true"/>
	  			<parameter dataSource="billDateTo" isRequired="true"/>
  </sqlTemplate>
  
  <sqlTemplate id="getBillRegisterSearchDetails" 
         template="SELECT br.id as &quot;bill_Id&quot;,wd.id as &quot;WPCodeList&quot;,br.fieldid as &quot;field_Name&quot;, br.EXPENDITURETYPE as &quot;expenditure_Type&quot;,br.BILLTYPE as &quot;bill_Type&quot;,
     re.name as &quot;CSName&quot;,wd.orderDate AS &quot;worksDetail_orderDate&quot;,
         br.BILLNUMBER as &quot;bill_Number&quot;,br.BILLDATE as &quot;bill_Date&quot;,br.BILLDATE as &quot;oldbill_Date&quot;,
         br.BILLAMOUNT as &quot;bill_Amount&quot;,br.PASSEDAMOUNT  as &quot;passed_Amount&quot;,
         br.advanceadjusted as &quot;advance_Adjusted&quot;,br.narration  as &quot;bill_Narration&quot;
           FROM EG_BILLREGISTER br,RELATION re,WORKSDETAIL wd,RELATIONTYPE rt
          WHERE   re.ID=wd.RELATIONID  AND re.RELATIONTYPEID=rt.ID AND br.WORKSDETAILID=wd.ID 
          AND br.id='@1'">
         	<parameter dataSource="billNumber" isRequired="true"/>
  </sqlTemplate>
 
 <sqlTemplate id="getBillRegisterContSearchDetails" 
     template=" SELECT br.id as &quot;bill_Id&quot;,br.fieldid as &quot;field_Name&quot;, br.EXPENDITURETYPE as &quot;expenditure_Type&quot;,br.BILLTYPE as &quot;bill_Type&quot;,
     br.BILLNUMBER as &quot;bill_Number&quot;,br.BILLDATE as &quot;bill_Date&quot;,br.BILLDATE as &quot;oldbill_Date&quot;,
     br.BILLAMOUNT as &quot;bill_Amount&quot;,br.PASSEDAMOUNT  as &quot;passed_Amount&quot;,
     br.advanceadjusted as &quot;advance_Adjusted&quot;,br.narration  as &quot;bill_Narration&quot;
       FROM EG_BILLREGISTER br
      WHERE   br.id='@1'">
     	<parameter dataSource="billNumber" isRequired="true"/>
 </sqlTemplate>
 

 <!--  FOR VMC BILL REGISTER Added By Iliyaraja END-->
 
 <sqlTemplate id="bill_number"
   template="SELECT id,billnumber  FROM EG_BILLREGISTER
          WHERE BILLSTATUS = 'PENDING' AND EXPENDITURETYPE = 'Contingency' 
           ORDER BY billnumber">
  				
 </sqlTemplate> 
 <sqlTemplate id="bill_numberNew"
    template="SELECT id as &quot;billId&quot;, billnumber as &quot;billno&quot;,to_char(billDate,'dd-mon-yyyy') as &quot;BILLDATE&quot;,billAmount,passedAmount  FROM EG_BILLREGISTER
           WHERE BILLSTATUS = 'PENDING' AND EXPENDITURETYPE = 'Contingency' and billdate  between '@1' and  '@2'  {and billnumber='@3' }
            ORDER BY billnumber">
            <parameter dataSource="fromDate" isRequired="true"/>
            <parameter dataSource="toDate" isRequired="true"/>
            <parameter dataSource="billNumber" isRequired="false"/>
            
   				
  </sqlTemplate> 
 
 
 <sqlTemplate id="getVMCBillDetails"
   template=" SELECT b.billdate as &quot;bill_date&quot;,b.billamount as &quot;bill_amount&quot;,b.passedamount as &quot;passed_amount&quot;,b.narration as &quot;voucherHeader_narration&quot;,f.name as &quot;field_id&quot;,f.id_bndry as &quot;field_name&quot;,(SELECT first_name FROM eg_user WHERE b.createdBy=eg_user.ID_USER) AS &quot;bill_createdBy&quot;  
 		FROM EG_BILLREGISTER b,EG_BOUNDARY f WHERE f.id_bndry(+) = b.fieldid  and b.id=@1">
  <parameter dataSource="bill_id"  isRequired="true"/>
  </sqlTemplate> 
<sqlTemplate id="billNumberForWorks"
 	template="SELECT id,BILLNUMBER FROM eg_billregister WHERE UPPER(billstatus)=UPPER('@1') AND UPPER(EXPENDITURETYPE)=UPPER('Works')">
 	<parameter dataSource="billStatus" isRequired="true" />
</sqlTemplate>
<sqlTemplate id="getDetailsFromBillRegister"
 	template="SELECT br.id as &quot;billid&quot;,br.narration as &quot;voucherHeader_narration&quot;, TO_CHAR(br.BILLDATE,'dd/mm/yyyy') AS &quot;contBillDetail_billDate&quot;,r.id AS &quot;relation_id&quot;,r.name AS &quot;contractor_name&quot;,r.subtypeid as &quot;partytypeid&quot;,r.id as &quot;contractor_id&quot;,
	r.CODE AS &quot;contractor_code&quot;, wd.id AS &quot;worksDetail_id&quot;,wd.NAME AS &quot;worksDetail_name&quot;,wd.WORKCATEGORY as &quot;doctypeid&quot; ,wd.SUBCATEGORY as &quot;subdoctypeid&quot;,f.id AS &quot;fund_id&quot;,
	f.name AS &quot;fund_name&quot;,wd.FUNDSOURCEID AS &quot;fundSource_id&quot;,(SELECT name FROM fundsource WHERE id=wd.FUNDSOURCEID)
	 AS &quot;fundSource_name&quot;,br.BILLAMOUNT AS &quot;contBillDetail_billAmount&quot;,
	br.PASSEDAMOUNT AS &quot;contBillDetail_passedAmount&quot;,br.ADVANCEADJUSTED AS &quot;worksDetail_adjustmentAmount&quot;,
	wd.totalvalue AS &quot;worksDetail_totalValue&quot;,wd.TYPE AS &quot;worksDetail_type&quot;, 
	wd.passedAmount AS &quot;worksDetail_totalPassedAmount&quot;,wd.advanceamount-advanceadj AS &quot;worksDetail_advanceAmount&quot;,
	br.fieldid AS &quot;field_id&quot;,(SELECT name  FROM EG_BOUNDARY  WHERE br.FIELDID=EG_BOUNDARY.ID_BNDRY) AS &quot;field_name&quot;,
	TO_CHAR(wd.ORDERDATE,'dd/mm/yyyy') AS &quot;worksDetail_orderDate&quot;,(select name from scheme where id=ewm.SCHEMEid) AS &quot;schemeid&quot;,(select name from SUB_SCHEME where id=ewm.SUBSCHEMEID) AS &quot;subschemeid&quot;,(select id from scheme where id=ewm.SCHEMEid) AS &quot;scheme&quot;,(select id from SUB_SCHEME where id=ewm.SUBSCHEMEID) AS &quot;subscheme&quot;, (SELECT first_name FROM eg_user WHERE br.createdBy=eg_user.ID_USER) AS &quot;bill_createdBy&quot; 
	FROM eg_billregister br,worksdetail wd ,relation r,fund f,egw_works_mis ewm
	WHERE br.WORKSDETAILID=wd.id AND wd.RELATIONID=r.ID AND wd.FUNDID=f.ID AND wd.id=ewm.worksdetailid
	 AND br.id=@1">
	 <parameter dataSource="billRegisterId" isRequired="true" />
</sqlTemplate>	
 <sqlTemplate id="billNumberForWorksForModify"
  	template="SELECT id,BILLNUMBER FROM eg_billregister WHERE UPPER(billstatus)=UPPER('@1') AND UPPER(EXPENDITURETYPE)=UPPER('Works')
  	union
  	SELECT br.id,br.BILLNUMBER FROM eg_billregister br,voucherHeader vh,contractorBillDetail cbd
	WHERE vh.ID=cbd.VOUCHERHEADERID AND cbd.BILLID=br.id AND
	vh.cgn=(SELECT DECODE(vp.status,2,(SELECT cgn FROM voucherheader WHERE id=vp.originalvcid),vp.cgn) 
	FROM voucherheader vp WHERE vp.cgn='@2') ">
  	<parameter dataSource="billStatus" isRequired="true" />
  	<parameter dataSource="cgNumber" isRequired="true" />
</sqlTemplate>

	<sqlTemplate id="journalSearchContingency"
		template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, b.billnumber AS &quot;colD&quot;, b.billamount AS &quot;colE&quot;,
			b.passedamount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',
			decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;,mb.amount AS &quot;colJ&quot;     FROM voucherHeader v,otherBillDetail s,eg_billregister b,miscbilldetail mb
			WHERE  b.id=s.billid and s.voucherheaderid = v.id AND mb.billvhid = v.id AND v.type='Journal Voucher' AND v.name='Contingency Journal' 
			AND v.status != 4  {AND v.voucherDate  &gt;= '@1'} {AND v.voucherDate  &lt;='@2'} 
			{AND v.voucherNumber like '%' || '@3' || '%' }{AND v.fundid = @4 } {AND v.status = @5} {AND v.isconfirmed = @11} {AND v.DEPARTMENTID=@19} 
			union
			SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, b.billnumber AS &quot;colD&quot;, b.billamount AS &quot;colE&quot;,
			b.passedamount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',
			decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;,NULL AS &quot;colJ&quot;     FROM voucherHeader v,otherBillDetail s,eg_billregister b
			WHERE  b.id=s.billid and s.voucherheaderid = v.id AND v.id NOT IN (SELECT billvhid FROM miscbilldetail WHERE billvhid IS NOT NULL) AND v.type='Journal Voucher' AND v.name='Contingency Journal' 
			AND v.status != 4  {AND v.voucherDate  &gt;= '@13'} {AND v.voucherDate  &lt;='@14'} 
			{AND v.voucherNumber like '%' || '@15' || '%' }{AND v.fundid = @16 } {AND v.status = @17} {AND v.isconfirmed = @18}{AND v.DEPARTMENTID=@20} 
			union
			SELECT mv.cgn AS &quot;colA&quot;, mv.voucherNumber AS &quot;colB&quot;,mv.voucherDate  AS &quot;colH&quot;, b.billnumber AS &quot;colD&quot;, b.billamount AS &quot;colE&quot;,
			b.passedamount AS &quot;colF&quot;,decode(mv.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(mv.status,1,'Reversed',
			decode(mv.status,2,'Reversal',''))) AS &quot;colG&quot;,NULL AS &quot;colJ&quot;     FROM voucherHeader v,otherBillDetail s,voucherheader mv,eg_billregister b 
			WHERE   b.id=s.billid and v.id=s.voucherHeaderId AND v.type='Journal Voucher' AND v.name='Contingency Journal' 
			and mv.originalvcid=v.id AND v.status != 4 {AND v.voucherDate  &gt;= '@6'} {AND v.voucherDate  &lt;='@7'} 
			{AND v.voucherNumber like '%' || '@8' || '%' }{AND v.fundid = @9 } {AND v.status = @10} {AND v.isconfirmed = @12} {AND v.DEPARTMENTID=@21}   ORDER BY &quot;colH&quot;,&quot;colB&quot;">

		<parameter dataSource="voucherDateFrom" isRequired="false"/>
		<parameter dataSource="voucherDateTo" isRequired="false"/>
		<parameter dataSource="voucherNumber" isRequired="false"/>
		<parameter dataSource="fundID" isRequired="false"/>
		<parameter dataSource="statusNum" isRequired="false"/>
		<parameter dataSource="voucherDateFrom" isRequired="false"/>
		<parameter dataSource="voucherDateTo" isRequired="false"/>
		<parameter dataSource="voucherNumber" isRequired="false"/>
		<parameter dataSource="fundID" isRequired="false"/>
		<parameter dataSource="statusNum" isRequired="false"/>
		<parameter dataSource="isconfirmed" isRequired="false"/>
	   	<parameter dataSource="isconfirmed" isRequired="false"/>
	   	<parameter dataSource="voucherDateFrom" isRequired="false"/>
		<parameter dataSource="voucherDateTo" isRequired="false"/>
		<parameter dataSource="voucherNumber" isRequired="false"/>
		<parameter dataSource="fundID" isRequired="false"/>
		<parameter dataSource="statusNum" isRequired="false"/>
		<parameter dataSource="isconfirmed" isRequired="false"/>
		<parameter dataSource="deptId" isRequired="false"/>
		<parameter dataSource="deptId" isRequired="false"/>
		<parameter dataSource="deptId" isRequired="false"/>
	</sqlTemplate>


	<sqlTemplate id="journalSearchContingencyModify"
		template="SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, b.billnumber AS &quot;colD&quot;, b.billamount AS &quot;colE&quot;,
			b.passedamount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',
			decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;,mb.amount AS &quot;colJ&quot;     FROM voucherHeader v,otherBillDetail s,eg_billregister b,miscbilldetail mb
			WHERE  b.id=s.billid and s.voucherheaderid = v.id AND mb.billvhid = v.id AND v.type='Journal Voucher' AND v.name='Contingency Journal' and v.isconfirmed=0 
			AND v.status = 0  {AND v.voucherDate  &gt;= '@1'} {AND v.voucherDate  &lt;='@2'} 
			{AND v.voucherNumber like '%' || '@3' || '%' }{AND v.fundid = @4 } {AND v.status = @5}  
			union
			SELECT v.cgn AS &quot;colA&quot;, v.voucherNumber AS &quot;colB&quot;,v.voucherDate AS &quot;colH&quot;, b.billnumber AS &quot;colD&quot;, b.billamount AS &quot;colE&quot;,
			b.passedamount AS &quot;colF&quot;,decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(v.status,1,'Reversed',
			decode(v.status,2,'Reversal',''))) AS &quot;colG&quot;,NULL AS &quot;colJ&quot;      FROM voucherHeader v,otherBillDetail s,eg_billregister b
			WHERE  b.id=s.billid and s.voucherheaderid = v.id AND v.id NOT IN (SELECT billvhid FROM miscbilldetail WHERE billvhid IS NOT NULL)  AND v.type='Journal Voucher' AND v.name='Contingency Journal' and v.isconfirmed=0 
			AND v.status = 0  {AND v.voucherDate  &gt;= '@11'} {AND v.voucherDate  &lt;='@12'} 
			{AND v.voucherNumber like '%' || '@13' || '%' }{AND v.fundid = @14 } {AND v.status = @15}  
			union
			SELECT mv.cgn AS &quot;colA&quot;, mv.voucherNumber AS &quot;colB&quot;,mv.voucherDate  AS &quot;colH&quot;, b.billnumber AS &quot;colD&quot;, b.billamount AS &quot;colE&quot;,
			b.passedamount AS &quot;colF&quot;,decode(mv.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),decode(mv.status,1,'Reversed',
			decode(mv.status,2,'Reversal',''))) AS &quot;colG&quot;,NULL AS &quot;colJ&quot;      FROM voucherHeader v,otherBillDetail s,voucherheader mv,eg_billregister b 
			WHERE   b.id=s.billid and v.id=s.voucherHeaderId AND v.type='Journal Voucher' AND v.name='Contingency Journal' and v.isconfirmed=0 
			and mv.originalvcid=v.id AND v.status = 0 {AND v.voucherDate  &gt;= '@6'} {AND v.voucherDate  &lt;='@7'} 
			{AND v.voucherNumber like '%' || '@8' || '%' }{AND v.fundid = @9 } {AND v.status = @10}   ORDER BY &quot;colH&quot;,&quot;colB&quot;">

		<parameter dataSource="voucherDateFrom" isRequired="false"/>
		<parameter dataSource="voucherDateTo" isRequired="false"/>
		<parameter dataSource="voucherNumber" isRequired="false"/>
		<parameter dataSource="fundID" isRequired="false"/>
		<parameter dataSource="statusNum" isRequired="false"/>
		<parameter dataSource="voucherDateFrom" isRequired="false"/>
		<parameter dataSource="voucherDateTo" isRequired="false"/>
		<parameter dataSource="voucherNumber" isRequired="false"/>
		<parameter dataSource="fundID" isRequired="false"/>
		<parameter dataSource="statusNum" isRequired="false"/>
		<parameter dataSource="voucherDateFrom" isRequired="false"/>
		<parameter dataSource="voucherDateTo" isRequired="false"/>
		<parameter dataSource="voucherNumber" isRequired="false"/>
		<parameter dataSource="fundID" isRequired="false"/>
		<parameter dataSource="statusNum" isRequired="false"/>
	</sqlTemplate>			
	<sqlTemplate id="getContingencyDetail"
		template="select bnd.id_bndry AS &quot;field_name&quot; ,egv.departmentid as &quot;department_id&quot;, bnd.name AS &quot;field_id&quot;  , vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;, vh.voucherNumber AS 
			&quot;voucherHeader_voucherNumber&quot;,vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.fundId AS &quot;fund_name&quot;,vh.fundSourceId AS 
			&quot;fundSource_name&quot;,vh.description AS &quot;voucherDetail_narration&quot;,vh.status as &quot;voucherHeader_status&quot;, 
			vh.description as &quot;voucherHeader_narration&quot;,vh.id as &quot;voucherHeader_id&quot;,bill.id as &quot;bill_id&quot;,bill.billnumber as &quot;bill_number&quot;, bill.billdate as &quot;bill_date&quot;,(select id from scheme where id=egv.schemeid) as &quot;scheme&quot;,(select id from sub_scheme where id=egv.subschemeid) as &quot;subscheme&quot;,
			bill.billamount as &quot;bill_amount&quot;, bill.passedamount as &quot;passed_amount&quot;,	 (SELECT first_name FROM eg_user WHERE bill.createdBy=eg_user.ID_USER) AS &quot;bill_createdBy&quot;, egv.functionaryid as &quot;functionary_id&quot;
			from vouchermis egv,voucherHeader vh,  otherBillDetail obd, eg_billregister bill,EG_BOUNDARY bnd 
			 where vh.id=obd.voucherHeaderId and bill.id = obd.billid  and bnd.id_bndry(+)=egv.divisionid and egv.voucherheaderid=vh.id and
			vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from voucherheader 
			vp where vp.cgn='@1') AND egv.VOUCHERHEADERID=vh.ID  ">
		<parameter dataSource="cgNumber" isRequired="true" />
	</sqlTemplate> 	
	<sqlTemplate id="getContingencyRevData"
			template="select vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,
			vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,vh.status as &quot;voucherHeader_status&quot;
			from voucherHeader vh where cgn='@1'">
		<parameter dataSource="cgNumber" isRequired="true" />
	</sqlTemplate>
	<sqlTemplate id="getGridDetails"
		  template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;, fuct.name AS &quot;function_code&quot;,vd.glcode AS &quot;chartOfAccounts_glCode&quot;,accountName AS &quot;chartOfAccounts_name&quot;,vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,vd.Id AS &quot;earning_voucherLineId&quot;
		    from voucherdetail vd,generalledger gl left join function fuct on gl.functionid=fuct.id where vd.creditAmount=0
		    and gl.VOUCHERLINEID=vd.ID
		    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@1')">
		   <parameter dataSource="cgNumber" isRequired="true" />
	 </sqlTemplate>
	 
	<!-- added for contingency deduction grid --> 
	 <sqlTemplate id="getDedGridContingencyDetails"
	 		  template="select fuct.id AS &quot;cv_fromFunctionCodeIdDed&quot;, fuct.name AS &quot;function_codeDed&quot;,vd.glcode AS &quot;chartOfAccounts_glCodeDed&quot;,accountName AS &quot;chartOfAccounts_nameDed&quot;,vd.creditAmount AS &quot;voucherDetail_debitAmountDed&quot;
	 		    from voucherdetail vd,generalledger gl left join function fuct on gl.functionid=fuct.id 
	 		    where vd.creditAmount>0  and gl.VOUCHERLINEID=vd.ID
	 		    and ( gl.GLCODEID NOT IN(SELECT id FROM CHARTOFACCOUNTS WHERE purposeid in(@1)) )
	 		    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@2')">
	 		   <parameter dataSource="CbillPayCode" isRequired="true" />
	 		   <parameter dataSource="cgNumber" isRequired="true" />
	 </sqlTemplate>
	 
	 <!-- FOR CONTINGENCY BILL PAYMENT START-->
<sqlTemplate id="CBillPaymentSearch"
		  template="SELECT b.ID AS &quot;contBill_id&quot;,b.billnumber AS &quot;contBillNumber&quot;,b.billnumber AS &quot;param_CBillNo&quot;,
		  b.billDate AS &quot;billDate1&quot;,b.billDate AS &quot;param_CBillDate&quot;,v.voucherNumber AS &quot;voucherHeader_voucherNumber1&quot;, v.ID AS &quot;voucherHeaderId&quot;, 
		  		edept.DEPT_NAME AS &quot;sectionName&quot;,f.id as &quot;fundSearchId&quot;,
		  		f.name as &quot;fundNameSearch&quot;,vmis.DEPARTMENTID as &quot;sectionSearchId&quot;,
			(b.passedamount-SUM(gl.creditamount) )AS &quot;contBillDetail_netPay&quot;     
	 
			 FROM voucherHeader v,otherBillDetail s,eg_billregister b,generalledger gl,fund f,vouchermis vmis left outer join eg_department edept ON  vmis.DEPARTMENTID=edept.ID_DEPT
			 WHERE  b.ID=s.billid 
			 AND b.billstatus!='PAID'
			 AND s.voucherheaderid = v.ID 
			 AND v.TYPE='Journal Voucher' 
			 AND v.NAME='Contingency Journal'
			 AND v.status = 0  
			 AND gl.VOUCHERHEADERID=v.ID
			 AND gl.GLCODEID NOT IN(SELECT ID FROM chartofaccounts WHERE purposeid=28)
			 AND f.ID=v.FUNDID
			 AND v.ID =vmis.VOUCHERHEADERID
			 AND b.ID IN (@6)
			 
			 {AND b.billDate  &gt;= '@1'} {AND b.billDate  &lt;='@2'}
		      {AND v.FUNDID = @3 }{AND vmis.DEPARTMENTID = @4 }{AND v.voucherNumber ='@5' }
		      
			 
			 GROUP BY v.ID,b.ID,b.billnumber,b.billdate,v.vouchernumber, b.passedamount,edept.DEPT_NAME,
			 f.id,f.name,vmis.DEPARTMENTID,v.ID
			 ORDER BY &quot;billDate1&quot;,&quot;voucherHeader_voucherNumber1&quot;">
	 	
	 	<parameter dataSource="billFDate" isRequired="false" />
	 	<parameter dataSource="billToDate" isRequired="false" />
	 	<parameter dataSource="fundId" isRequired="false" />
	 	<parameter dataSource="sectionId" isRequired="false" />
	 	<parameter dataSource="vNumber" isRequired="false" />
	 	<parameter dataSource="billsId" isRequired="true" />
 </sqlTemplate>
 
 
 <sqlTemplate  id="bankAndBranchForFund" 
 		template="SELECT  CONCAT(CONCAT(bankBranch.bankId, '-'),bankBranch.ID) as &quot;Expr1&quot;,
	concat(concat(bank.name , ' '),bankBranch.branchName) as &quot;Expr2&quot;        
	FROM bank, bankBranch 
	where  bank.isactive=1  and bankBranch.isactive=1 
	and bank.ID = bankBranch.bankId 
	and bankBranch.id in(select branchid from bankaccount where fundid=@1)
	order by &quot;Expr2&quot;"> 
 					
 	<parameter dataSource="fundForBank"  isRequired="true"/>
</sqlTemplate>

<sqlTemplate id="bankPaymentSearchCBill"
				template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;, 
				  max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;, sum(m.passedamount) as &quot;passedAmount&quot;,
				  m.paidto as &quot;paidTo&quot;, 0 as &quot;billAmount&quot;,f.id as &quot;fundSearchId&quot; 
				  from voucherHeader v, paymentheader p, chequeDetail c,miscbilldetail m,fund f     
				 where v.status!=4 and m.id=p.miscbilldetailid and v.id=p.voucherHeaderId 
				 AND c.id=p.chequeid AND p.chequeId >0 and m.BILLVHID is not null
				 AND f.ID=v.FUNDID and p.type ='@1' {AND v.voucherDate &gt;= '@2'} {AND v.voucherDate &lt;='@3'} {AND v.voucherNumber like '%' || '@4' || '%' } {AND v.fundid =@5 } {AND v.status='@6'} {AND v.isconfirmed='@7'} 
				group by cgn,voucherNumber,voucherDate,v.status,isConfirmed,m.paidto,f.id  
				union
				select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;, 
				  max(c.chequeNumber) as &quot;chequeNumber&quot;, decode(mv.status,0,decode(mv.isconfirmed,0,'UnConfirmed','confirmed'),
				 decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;status&quot;, sum(m.passedamount) as &quot;passedAmount&quot;,
				  m.paidto as &quot;paidTo&quot;, 0 as &quot;billAmount&quot;,f.id as &quot;fundSearchId&quot; 
				  from voucherHeader v,voucherheader mv,paymentheader p, chequeDetail c,miscbilldetail m,fund f     
				  where v.status!=4 and m.id=p.miscbilldetailid and v.id=p.voucherHeaderId 
				  AND f.ID=v.FUNDID AND c.id=p.chequeid AND   p.chequeId >0 and  mv.originalvcid=v.id and m.BILLVHID is not null  
				 and p.type ='@8' {AND v.voucherDate &gt;= '@9'} {AND v.voucherDate &lt;='@10'} {AND v.voucherNumber like '%' || '@11' || '%' } {AND v.fundid =@12 }{AND v.status='@13'} {AND v.isconfirmed='@14'} 
				group by mv.cgn,mv.voucherNumber,mv.voucherDate,mv.status,mv.isConfirmed,m.paidto,f.id   
				ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot;">		
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
						<parameter dataSource="payType" isRequired="true"/>
						<parameter dataSource="voucherDateFrom" isRequired="false"/>
						<parameter dataSource="voucherDateTo" isRequired="false"/>
						<parameter dataSource="voucherNumber" isRequired="false"/>
						<parameter dataSource="fundID" isRequired="false"/>
						<parameter dataSource="reverseNum" isRequired="false"/>
						<parameter dataSource="confirmNum" isRequired="false"/>
	</sqlTemplate>
<sqlTemplate id="cashPaymentSearchCBill"
	 				template="select v.cgn as &quot;cgNumber&quot;,v.voucherNumber as &quot;voucherNumber&quot;,v.voucherDate as &quot;voucherDate&quot;,sum(m.amount) as 
	 				 &quot;billAmount&quot;, decode(v.status,0,decode(v.isconfirmed,0,'UnConfirmed','confirmed'),
	 				 decode(v.status,1,'Reversed',decode(v.status,2,'Reversal',''))) AS &quot;status&quot;, sum(m.passedamount) as &quot;passedAmount&quot;,
	 				  m.paidto as &quot;paidTo&quot; 
	 				  from voucherHeader v,paymentheader p, miscbilldetail m  
	 				  where  v.status!=4 and m.id=p.miscbilldetailid and v.id=p.voucherHeaderId 
	 				  and m.BILLVHID is not null and p.type ='@1' {AND v.voucherDate &gt;= '@2'} {AND v.voucherDate &lt;='@3'} {AND v.voucherNumber like '%' || '@4' || '%' } {AND v.fundid = @5 } {AND v.status='@6'} {AND v.isconfirmed='@7'} 
	 				group by cgn,voucherNumber,voucherDate,v.status,isConfirmed,m.paidto 
	 				union
	 				select mv.cgn as &quot;cgNumber&quot;,mv.voucherNumber as &quot;voucherNumber&quot;,mv.voucherDate as &quot;voucherDate&quot;,sum(m.amount) as 
	 				 &quot;billAmount&quot;, decode(mv.status,0,decode(mv.isconfirmed,0,'UnConfirmed','confirmed'),
	 				 decode(mv.status,1,'Reversed',decode(mv.status,2,'Reversal',''))) AS &quot;status&quot;, sum(m.passedamount) as &quot;passedAmount&quot;,
	 				  m.paidto as &quot;paidTo&quot; 
	 				  from voucherHeader v,voucherheader mv,paymentheader p, miscbilldetail m  
	 				  where v.status!=4 and m.id=p.miscbilldetailid and v.id=p.voucherHeaderId and  mv.originalvcid=v.id 
	 				  and m.BILLVHID is not null and p.type ='@8' {AND v.voucherDate &gt;= '@9'} {AND v.voucherDate &lt;='@10'} {AND v.voucherNumber like '%' || '@11' || '%' } {AND v.fundid = @12 }  {AND v.status='@13'} {AND v.isconfirmed='@14'} 
	 				group by mv.cgn,mv.voucherNumber,mv.voucherDate,mv.status,mv.isConfirmed,m.paidto ORDER BY &quot;voucherDate&quot;,&quot;voucherNumber&quot;">		
	 						<parameter dataSource="payType" isRequired="true"/>
	 						<parameter dataSource="voucherDateFrom" isRequired="false"/>
	 						<parameter dataSource="voucherDateTo" isRequired="false"/>
	 						<parameter dataSource="voucherNumber" isRequired="false"/>
	 						<parameter dataSource="fundID" isRequired="false"/>
	 						<parameter dataSource="reverseNum" isRequired="false"/>
	 						<parameter dataSource="confirmNum" isRequired="false"/>
	 						<parameter dataSource="payType" isRequired="true"/>
	 						<parameter dataSource="voucherDateFrom" isRequired="false"/>
	 						<parameter dataSource="voucherDateTo" isRequired="false"/>
	 						<parameter dataSource="voucherNumber" isRequired="false"/>
	 						<parameter dataSource="fundID" isRequired="false"/>
	 						<parameter dataSource="reverseNum" isRequired="false"/>
	 						<parameter dataSource="confirmNum" isRequired="false"/>
</sqlTemplate>
	
	<sqlTemplate id="getDBPGlCodeCBill"
				template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;,fuct.name AS &quot;function_code&quot;, vd.glcode AS &quot;chartOfAccounts_glCode&quot;,
 vd.accountName AS &quot;chartOfAccounts_name&quot;,vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,
 vd.creditAmount AS &quot;voucherDetail_creditAmount&quot;,vd.narration AS &quot;voucherDetail_narration&quot; 
 from generalledger gl left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd 
 where vd.voucherHeaderId=(select id from voucherHeader  where cgn='@1') 
 and gl.voucherheaderid=vd.voucherheaderid AND vd.id=gl.voucherlineid 
 AND gl.GLCODEID in( SELECT ID FROM chartofaccounts WHERE purposeid=28)">
				<parameter dataSource="cgNumber" isRequired="true" />
					
</sqlTemplate>
<sqlTemplate id="getDCPGlCodeCBill"
			template="select fuct.id AS &quot;cv_fromFunctionCodeId&quot;,fuct.name AS &quot;function_code&quot;, vd.glcode AS &quot;chartOfAccounts_glCode&quot;,
				vd.accountName AS &quot;chartOfAccounts_name&quot;,vd.debitAmount AS &quot;voucherDetail_debitAmount&quot;,
				vd.creditAmount AS &quot;voucherDetail_creditAmount&quot;,vd.narration AS &quot;voucherDetail_narration&quot; from generalledger gl 
	 			left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd where vd.voucherHeaderId=(select id from voucherHeader 
				where cgn='@1') 
				and gl.voucherheaderid=vd.voucherheaderid AND vd.id=gl.voucherlineid 
				AND gl.GLCODEID in( SELECT ID FROM chartofaccounts WHERE purposeid=28)">
				<parameter dataSource="cgNumber" isRequired="true" />
</sqlTemplate>
	
	<sqlTemplate id="getCBillPaymentDetails"
				template="SELECT  unique b.ID AS &quot;contBill_id&quot;,b.billnumber AS &quot;contBillNumber&quot;,b.billnumber AS &quot;param_CBillNo&quot;,
 b.billDate AS &quot;billDate1&quot;,b.billDate AS &quot;param_CBillDate&quot;,v.voucherNumber AS &quot;voucherHeader_voucherNumber1&quot;, 
 v.ID AS &quot;voucherHeaderId&quot;,edept.DEPT_NAME AS &quot;sectionName&quot;,f.id as &quot;fundSearchId&quot;,
 f.name as &quot;fundNameSearch&quot;,vmis.DEPARTMENTID as &quot;sectionSearchId&quot;,
 m.PASSEDAMOUNT AS &quot;contBillDetail_netPay&quot;
 FROM voucherHeader v,otherBillDetail s,eg_billregister b,generalledger gl,fund f,
 vouchermis vmis left outer join eg_department edept ON  vmis.DEPARTMENTID=edept.ID_DEPT ,
 paymentheader ph,voucherdetail vd,miscbilldetail m       
  WHERE  b.ID=s.billid      
 AND b.billstatus='PAID' 
 and m.id=ph.miscbilldetailid 
 and m.BILLVHID=v.ID   
 AND s.voucherheaderid = v.ID      
 AND v.isconfirmed=0     
 AND v.status = 0
 AND gl.VOUCHERHEADERID=v.ID     
 AND gl.GLCODEID NOT IN(SELECT ID FROM chartofaccounts WHERE purposeid=28)
 AND f.ID=v.FUNDID     AND v.ID =vmis.VOUCHERHEADERID 
 AND ph.voucherheaderid IN(SELECT id FROM voucherheader  WHERE cgn=(SELECT DECODE(vp.status,2,(SELECT cgn 
 FROM voucherheader WHERE id=vp.originalvcid),vp.cgn) FROM voucherheader vp WHERE vp.cgn='@1'))
 and s.PAYVHID IN(SELECT id FROM voucherheader  WHERE cgn=(SELECT DECODE(vp.status,2,(SELECT cgn 
 FROM voucherheader WHERE id=vp.originalvcid),vp.cgn) FROM voucherheader vp WHERE vp.cgn='@2'))
 and v.id=vd.voucherheaderid  and vd.creditamount=0
 ORDER BY &quot;billDate1&quot;,&quot;voucherHeader_voucherNumber1&quot;">
					<parameter dataSource="cgNumber" isRequired="true" />
					<parameter dataSource="cgNumber" isRequired="true" />
</sqlTemplate>
<sqlTemplate id="getDBPDetailsContingent"
 template="select vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,cd.chequetype AS &quot;cv_fromchq&quot;, 
    vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,vh.fundsourceid AS &quot;fundSource_id&quot;,f.id AS &quot;fund_id&quot;,
     f.name as &quot;fund_name&quot;,decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) as &quot;fundSource_name&quot;, 
    cd.AccountNumberId AS &quot;accountGroup_accountNumberId&quot;,
    CONCAT(CONCAT(cd.bankId, '-'),cd.branchID) AS &quot;bank_id&quot;,cd.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,
    cd.chequeDate AS &quot;chequeDetail_chequeDate&quot;,cd.narration AS &quot;voucherHeader_narration&quot;,
    cd.paidById AS &quot;billCollector_id&quot;,cd.payTo AS &quot;chequeDetail_paidTo&quot;,
    vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;,eg.user_name as &quot;voucherHeader_createdby&quot;,vh.id as &quot;voucherHeader_id&quot;, 'false' as &quot;isBankEntry&quot;
    ,egv.divisionid as &quot;field_name&quot;,egv.schemeid as &quot;scheme&quot;,egv.subschemeid as &quot;subscheme&quot;
    from fund f, chequeDetail cd, paymentHeader ph,voucherHeader vh left join EG_USER eg ON vh.createdby=eg.id_user ,MiscBillDetail mbd ,vouchermis egv
    where ph.chequeId=cd.id and vh.ID=egv.VOUCHERHEADERID AND f.id=vh.fundid and ph.voucherHeaderid=vh.id and ph.MiscBillDetailId = mbd.id and vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from voucherheader vp where vp.cgn='@1')
    UNION
    select vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,'--' AS &quot;cv_fromchq&quot;,     
    vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,vh.fundsourceid AS &quot;fundSource_id&quot;,f.id AS &quot;fund_id&quot;,      
    f.name as &quot;fund_name&quot;,decode(vh.fundsourceid,null,' ',(select name from fundsource where id=vh.fundsourceid)) as 
    &quot;fundSource_name&quot;,      ph.bankaccountnumberid AS &quot;accountGroup_accountNumberId&quot;,     
    CONCAT(CONCAT(ph.bankId, '-'),ph.bankbranchID) AS &quot;bank_id&quot;,rec.chequeNumber AS &quot;chequeDetail_chequeNumber&quot;,     
    rec.chequeDate AS &quot;chequeDetail_chequeDate&quot;,vh.description AS &quot;voucherHeader_narration&quot;,     
    mbd.paidById AS &quot;billCollector_id&quot;,mbd.paidTo AS &quot;chequeDetail_paidTo&quot;,     
    vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;,eg.user_name as 
    &quot;voucherHeader_createdby&quot;,vh.id as &quot;voucherHeader_id&quot;, 'true' as &quot;isBankEntry&quot;,egv.divisionid as &quot;field_name&quot;,egv.schemeid as &quot;scheme&quot;,egv.subschemeid as &quot;subscheme&quot;
    from fund f, bankreconciliation rec, paymentHeader ph,vouchermis egv,
    voucherHeader vh left join EG_USER eg ON vh.createdby=eg.id_user ,MiscBillDetail mbd 
    where ph.chequeId is null 
    and f.id=vh.fundid and vh.ID=egv.VOUCHERHEADERID AND ph.voucherHeaderid=vh.id and ph.MiscBillDetailId = mbd.id and  rec.voucherHeaderid=vh.id and
    vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) from 
    voucherheader vp where vp.cgn='@2') ">
 <parameter dataSource="cgNumber" isRequired="true" />
 <parameter dataSource="cgNumber" isRequired="true" />
 </sqlTemplate>

 <sqlTemplate id="getDCPDetailsContingent"
 					template="select vh.cgn as &quot;cgnNum&quot;,vh.cgvn AS &quot;voucherHeader_cgn&quot;,vh.voucherDate AS &quot;voucherHeader_voucherDate&quot;,
 					vh.voucherNumber AS &quot;voucherHeader_voucherNumber&quot;,decode(vh.fundsourceid,null,' ',(select id from fundsource where id=vh.fundsourceid)) AS &quot;fundSource_id&quot;,f.id AS &quot;fund_id&quot;,
 					vh.description AS &quot;voucherHeader_narration&quot;,vd.glcode AS &quot;chartOfAccounts_glCode_CInH&quot;,
 					mbd.paidById AS &quot;billCollector_id&quot;,mbd.paidTo AS &quot;miscBillDetail_paidTo&quot;,
 					mbd.amount AS &quot;miscBillDetail_billAmount&quot;,mbd.passedAmount AS &quot;chequeDetail_passedAmount&quot;,
 					vd.creditAmount AS &quot;voucherDetail_passedAmount&quot;,
 					vh.status as &quot;voucherHeader_status&quot;,vh.isConfirmed as &quot;voucherHeader_confirmed&quot;,eg.user_name as &quot;voucherHeader_createdby&quot;,
 					vh.id as &quot;voucherHeader_id&quot;,egv.divisionid as &quot;field_name&quot;
 					from fund f,  paymentHeader ph,voucherHeader vh left join EG_USER eg ON vh.createdby=eg.id_user,MiscBillDetail mbd,voucherDetail vd ,vouchermis egv 
 					where f.id=vh.fundid and vd.voucherHeaderId=vh.id and vh.ID=egv.VOUCHERHEADERID  AND vd.creditAmount!=0
 					and ph.voucherHeaderid=vh.id and ph.MiscBillDetailId = mbd.id and vh.cgn=(select decode(vp.status,2,(select cgn from voucherheader where id=vp.originalvcid),vp.cgn) 
 					from voucherheader vp where vp.cgn='@1') ">
 					<parameter dataSource="cgNumber" isRequired="true" />
			</sqlTemplate>
 
 

<!-- FOR CONTINGENCY BILL PAYMENT END-->
	 
	 
	 <!--  FOR SupplierJournal_VMC Added By Iliyaraja START--> 
	 	<sqlTemplate id="billNumberForPurchase"
	  	template="SELECT id,BILLNUMBER FROM eg_billregister WHERE UPPER(billstatus)=UPPER('@1') AND UPPER(EXPENDITURETYPE)=UPPER('Purchase')">
	  	<parameter dataSource="billStatus" isRequired="true" />
	 	</sqlTemplate> 
	 	
	 	
	 <sqlTemplate id="getSupDetailsFromBillRegister"
		   	template="SELECT br.id as &quot;billid&quot;,br.narration as &quot;voucherHeader_narration&quot;, TO_CHAR(br.BILLDATE,'dd/mm/yyyy') AS &quot;supplierBillDetail_billDate&quot;,r.id AS &quot;relation_id&quot;,r.name AS &quot;supplier_name&quot;,r.subtypeid as &quot;partytypeid&quot;,r.id as &quot;supplier_id&quot;,
		  	r.CODE AS &quot;supplier_code&quot;, wd.id AS &quot;worksDetail_id&quot;,wd.NAME AS &quot;worksDetail_name&quot;,wd.WORKCATEGORY as &quot;doctypeid&quot; ,wd.SUBCATEGORY as &quot;subdoctypeid&quot;,f.id AS &quot;fund_id&quot;,
		  	wd.advanceamount AS &quot;wsDetail_totalAdvanceAmount&quot;,
		  	f.name AS &quot;fund_name&quot;,wd.FUNDSOURCEID AS &quot;fundSource_id&quot;,(SELECT name FROM fundsource WHERE id=wd.FUNDSOURCEID)
		  	 AS &quot;fundSource_name&quot;,br.BILLAMOUNT AS &quot;supplierBillDetail_billAmount&quot;,
		  	br.PASSEDAMOUNT AS &quot;supBillDetail_passedAmount&quot;,br.ADVANCEADJUSTED AS &quot;worksDetail_adjustmentAmount&quot;,
		  	wd.totalvalue AS &quot;worksDetail_totalValue&quot;,wd.TYPE AS &quot;worksDetail_type&quot;, 
		  	wd.passedAmount AS &quot;worksDetail_totalPassedAmount&quot;,wd.advanceamount-advanceadj AS &quot;worksDetail_advanceAmount&quot;,
		   	br.fieldid AS &quot;field_id&quot;,(SELECT name  FROM EG_BOUNDARY  WHERE br.FIELDID=EG_BOUNDARY.ID_BNDRY) AS &quot;field_name&quot;,
		  	TO_CHAR(wd.ORDERDATE,'dd/mm/yyyy') AS &quot;worksDetail_orderDate&quot;,(select name from scheme where id=ewm.SCHEMEid) AS &quot;schemeid&quot;,(select name from SUB_SCHEME where id=ewm.SUBSCHEMEID) AS &quot;subschemeid&quot;,(select id from scheme where id=ewm.SCHEMEid) AS &quot;scheme&quot;,(select id from SUB_SCHEME where id=ewm.SUBSCHEMEID) AS &quot;subscheme&quot;,(SELECT first_name FROM eg_user WHERE br.createdBy=eg_user.ID_USER) AS &quot;bill_createdBy&quot;
		  	FROM eg_billregister br,worksdetail wd ,relation r,fund f,egw_works_mis ewm
		  	WHERE br.WORKSDETAILID=wd.id AND wd.RELATIONID=r.ID AND wd.FUNDID=f.ID AND wd.id=ewm.Worksdetailid
		  	 AND br.id=@1">
		  	 <parameter dataSource="billRegisterId" isRequired="true" />
	</sqlTemplate>	
	 
	 <sqlTemplate id="getSupTDSCodes"
	   	      template="select distinct t.type||'`~`'||b.name||'`~`'||b.glcode||'`~`'||b.id||'`~`'||t.id   as &quot;divCode&quot;, t.type as &quot;divDes&quot;      from tds t,eg_deduction_details dt,chartofaccounts b where t.id=dt.tdsid 
			and  t.partytypeid=(select id from eg_partytype where code='Supplier')
			{and dt.partytypeid=@1}
			{and dt.doctypeid =@2}
			{and dt.docsubtypeid=@3}
			and t.glcodeid=b.id
			and sysdate between dt.DATEFROM and decode(dt.dateto,null,sysdate,dt.dateto)
			and @4 between dt.lowlimit and decode(dt.highlimit,null,99999999999999999999999, dt.highlimit)">
			<parameter dataSource="subpartytypeid" isRequired="false" />
			<parameter dataSource="doctypeid" isRequired="false" />
			<parameter dataSource="docsubtypeid" isRequired="false" />
			<parameter dataSource="amount" isRequired="true" />
	   </sqlTemplate>
	  
	  <sqlTemplate id="getSupDedAmount"	
	 		template="SELECT distinct  decode(dt.incometax,null,0.0,dt.incometax) + decode(dt.surcharge,null,0.0,dt.surcharge) + decode(dt.education,null,0.0,dt.education) as &quot;dedRate&quot;, decode(dt.amount,null,'',dt.amount) as &quot;deductionamount&quot; from tds t,eg_deduction_details dt,chartofaccounts b where t.id=dt.tdsid 
								and  t.partytypeid=(select id from eg_partytype where code='Supplier')
								{and dt.partytypeid=@1}
								{and dt.doctypeid =@2}
								{and dt.docsubtypeid=@3}
								and t.glcodeid=b.id
								and sysdate between dt.DATEFROM and decode(dt.dateto,null,sysdate,dt.dateto)
								and @4 between dt.lowlimit and decode(dt.highlimit,null,99999999999999999999999, dt.highlimit)
								and t.type = '@5'">
								<parameter dataSource="subpartytypeid" isRequired="false" />
								<parameter dataSource="doctypeid" isRequired="false" />
								<parameter dataSource="docsubtypeid" isRequired="false" />
								<parameter dataSource="amount" isRequired="true" />
								<parameter dataSource="SupplierDedCode" isRequired="true" />
	 </sqlTemplate>
	  
	 		
	 <sqlTemplate id="billNumberForPurchaseModify"
	 		  	template="SELECT id,BILLNUMBER FROM eg_billregister WHERE UPPER(billstatus)=UPPER('@1') AND UPPER(EXPENDITURETYPE)=UPPER('Purchase')
	 		  	union
	 		  	SELECT br.id,br.BILLNUMBER FROM eg_billregister br,voucherHeader vh,supplierBillDetail sbd
	 			WHERE vh.ID=sbd.VOUCHERHEADERID AND sbd.BILLID=br.id AND
	 			vh.cgn=(SELECT DECODE(vp.status,2,(SELECT cgn FROM voucherheader WHERE id=vp.originalvcid),vp.cgn) 
	 			FROM voucherheader vp WHERE vp.cgn='@2') ">
	 		  	<parameter dataSource="billStatus" isRequired="true" />
	 		  	<parameter dataSource="cgNumber" isRequired="true" />
	 </sqlTemplate>
	 	 
 <!--  FOR SupplierJournal_VMC Added By Iliyaraja END-->
 
<sqlTemplate id="getboundaryNames"
 template="select cm.EG_BOUNDARYID,b.name from codemapping cm,eg_boundary b where cm.EG_BOUNDARYID=b.ID_BNDRY order by b.id_bndry_type ">  
</sqlTemplate>
 
 <sqlTemplate id="getReportLineItem"
       template="select id,glcode from chartofaccounts where type in @1 and classification=1 order by glcode">
       <parameter dataSource="type" isRequired="true" />
   </sqlTemplate> 
   <sqlTemplate id="getAccountCode"
       template="select id||'  ~  '||name,glcode from chartofaccounts where parentid=@1 and classification=2 order by glcode">
       <parameter dataSource="parent" isRequired="true" />
   </sqlTemplate> 
   <sqlTemplate id="getDescription"
       template="select name as &quot;description&quot;,id as &quot;glCodeId_netPay&quot; from chartofaccounts where id=@1">
       <parameter dataSource="parent" isRequired="true" />
   </sqlTemplate> 
   <sqlTemplate id="getScheduleDef" 
        template="SELECT  unique c.parentid as &quot;parentId&quot;,reporttype as &quot;repType&quot;,repsubtype as &quot;repSubType&quot;,s.schedule as &quot;schNumber&quot;,schedulename as &quot;schName&quot;, isremission as &quot;isRemission&quot;
         FROM SCHEDULEMAPPING s,CHARTOFACCOUNTS c
         WHERE (s.id=c.SCHEDULEID OR s.id=c.RECEIPTSCHEDULEID OR s.id=c.PAYMENTSCHEDULEID or s.id=c.fiescheduleid) AND s.id=@1">
        <parameter dataSource="schId" isRequired="true" />
   </sqlTemplate>
   <sqlTemplate id="getRepLineItem"
    template=" SELECT glcode as &quot;repLineItem&quot;,name as &quot;description&quot; FROM CHARTOFACCOUNTS WHERE id=@1">
    <parameter dataSource="parentId" isRequired="true"/>
   </sqlTemplate>
   <sqlTemplate id="getScheduleLineItem"
      template="select id||'  ~  '||name as &quot;accnt_Code&quot;,name as &quot;itemDesc&quot; ,@5 as&quot;operation&quot; from chartofaccounts 
       WHERE (SCHEDULEID=@1 OR RECEIPTSCHEDULEID=@2 OR PAYMENTSCHEDULEID=@3 OR fiescheduleid=@4)">
       <parameter dataSource="schId" isRequired="true"/>
       <parameter dataSource="schId" isRequired="true"/>
       <parameter dataSource="schId" isRequired="true"/>
       <parameter dataSource="schId" isRequired="true"/>
       <parameter dataSource="operation1" isRequired="true"/>
   </sqlTemplate>
   <sqlTemplate id="searchSchedule"
    template="select s.id as &quot;schId&quot;,s.schedule as &quot;schNo&quot;,schedulename as &quot;schName&quot;
         FROM SCHEDULEMAPPING s  @1">
    <parameter dataSource="condition" isRequired="true"/>
   </sqlTemplate>
   <sqlTemplate id="getScheduleNum"
    template="select id,schedule from schedulemapping where reporttype='@1'">
    <parameter dataSource="schedType" isRequired="true"/>
   </sqlTemplate>
   <sqlTemplate id="schGLCode"
    template="SELECT   glcode,scheduleid FROM chartofaccounts WHERE scheduleid IS NOT NULL
     UNION 
     SELECT   glcode,receiptscheduleid FROM chartofaccounts WHERE receiptscheduleid IS NOT NULL
     UNION 
     SELECT glcode,paymentscheduleid FROM chartofaccounts WHERE paymentscheduleid IS NOT NULL 
     UNION 
     SELECT glcode,fiescheduleid FROM chartofaccounts WHERE fiescheduleid IS NOT NULL ">   
 </sqlTemplate>

<sqlTemplate id="schemeSearch"
				template="select s.code as &quot;schemeCode&quot;,
				s.Name as &quot;sName&quot;, TO_CHAR(s.validfrom,'dd/mm/yyyy') as &quot;fromDate&quot;,
				TO_CHAR(s.validto,'dd/mm/yyyy') as &quot;toDate&quot;,decode(s.isactive,1,'Yes',decode(s.isactive,0,'No','')) AS &quot;status&quot;,s.id as &quot;cgNumber&quot;
				from scheme s where s.fundid='@1' {AND s.validfrom &gt;= '@2'} {AND s.validto &lt;='@3'} ORDER BY s.validfrom">		
				<parameter dataSource="fundID" isRequired="true"/>
				<parameter dataSource="voucherDateFrom" isRequired="false"/>
				<parameter dataSource="voucherDateTo" isRequired="false"/>
						
	</sqlTemplate>

	<sqlTemplate id="getschemeDetailsNew"
				template="select s.code as &quot;schemecode&quot;,s.name as &quot;schemename&quot;,TO_CHAR(s.validfrom,'dd/mm/yyyy') as &quot;startDate&quot;,TO_CHAR(s.validto,'dd/mm/yyyy') as &quot;endDate&quot;,s.isactive as &quot;isActive&quot;,s.fundid AS &quot;fund_id&quot;,s.description AS &quot;description&quot; 
				  from scheme s where s.id='@1'">		
				<parameter dataSource="code" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="getSubSchemeDetails"
				template="select s.code as &quot;addschemecode&quot;,s.Name as &quot;addschemename&quot;,TO_CHAR(s.validfrom,'dd/mm/yyyy') as &quot;addstartDate&quot;,TO_CHAR(s.validto,'dd/mm/yyyy') as &quot;addendDate&quot;,s.isactive as &quot;addisActive&quot; 
				  from sub_scheme s where s.schemeid='@1' order by code">		
				<parameter dataSource="code" isRequired="true"/>
	</sqlTemplate>
	
	
	<sqlTemplate id="getBillCodeName"
					template="select code as &quot;WPCodeName&quot;,Name as &quot;WPOName&quot; 
					  from worksdetail   where id='@1' ">		
					<parameter dataSource="id" isRequired="true"/> 
	</sqlTemplate>
	
	<sqlTemplate id="supplierid"
				template="  Select id ,name  from relation where relationtypeid=1 order by id">
	
	</sqlTemplate>
	<sqlTemplate id="contractorid"
					template="Select id as &quot;contractorid&quot;,name as &quot;ContractorName&quot; from relation where relationtypeid=2 order by id ">
		
	</sqlTemplate>
	
	
	<sqlTemplate id="getAllSupplierBills"
					template="SELECT br.id as &quot;billid&quot;,br.billnumber as &quot;billno&quot;,
   						  TO_CHAR(br.BILLDATE,'dd-mon-yyyy')
    						  AS &quot;billDate&quot;,r.name AS &quot;supplier&quot;, 
    						  wd.NAME AS &quot;Work_name&quot;, 
   						  f.name AS &quot;fund&quot;,
    						  (SELECT name FROM fundsource WHERE id=wd.FUNDSOURCEID)       AS &quot;fundSource_name&quot;,br.BILLAMOUNT AS &quot;amount&quot;  
   						  FROM eg_billregister br,worksdetail wd ,relation r,fund f   
    						  WHERE br.WORKSDETAILID=wd.id AND wd.RELATIONID=r.ID AND wd.FUNDID=f.ID   
  						  AND UPPER(billstatus)=UPPER('PENDING') AND UPPER(EXPENDITURETYPE)=UPPER('Purchase') and 
   						  br.billdate  between '@1' and  '@2'  {and f.id=@3 } {and r.id=@4 } { and	br.billnumber='@5' } ">
   						  <parameter dataSource="fromDate" isRequired="true"/>
						  <parameter dataSource="toDate" isRequired="true"/>
						  <parameter dataSource="fund" isRequired="false"/>
						  <parameter dataSource="supplier" isRequired="false"/>
						  <parameter dataSource="billNo" isRequired="false"/>
   	</sqlTemplate>	
	<sqlTemplate id="getAllContractorBills"
						template="SELECT br.id as &quot;billid&quot;,br.billnumber as &quot;billno&quot;,
	   						  TO_CHAR(br.BILLDATE,'dd-mon-yyyy')
	    						  AS &quot;billDate&quot;,r.name AS &quot;supplier&quot;, 
	    						  wd.NAME AS &quot;Work_name&quot;, 
	   						  f.name AS &quot;fund&quot;,
	    						  (SELECT name FROM fundsource WHERE id=wd.FUNDSOURCEID)       AS &quot;fundSource_name&quot;,br.BILLAMOUNT AS &quot;amount&quot;  
	   						  FROM eg_billregister br,worksdetail wd ,relation r,fund f   
	    						  WHERE br.WORKSDETAILID=wd.id AND wd.RELATIONID=r.ID AND wd.FUNDID=f.ID   
	  						  AND UPPER(billstatus)=UPPER('PENDING') AND UPPER(EXPENDITURETYPE)=UPPER('Works') and 
	   						  br.billdate  between '@1' and  '@2'  {and f.id=@3 } {and r.id=@4 } { and	br.billnumber='@5' } ">
	   						  <parameter dataSource="fromDate" isRequired="true"/>
							  <parameter dataSource="toDate" isRequired="true"/>
							  <parameter dataSource="fund" isRequired="false"/>
							  <parameter dataSource="supplier" isRequired="false"/>
							  <parameter dataSource="billNo" isRequired="false"/>
   	</sqlTemplate>
   	<sqlTemplate id="getSalaryBills"
   	 					template="SELECT eg.id as &quot;billid&quot;,eg.BILLNUMBER  as &quot;billno&quot;,to_char(eg.billdate,'dd-mon-yyyy')  as &quot;billdate&quot;,eg.billamount  as &quot;amount&quot;,
								decode(bmis.month,1,'Jan',2,'Feb',3,'Mar',4,'Apr',5,'May',6,'Jun',7,'Jul',8,'Aug',9,'Sep',10,'Oct',11,'Nov',12,'Dece') as &quot;month&quot;,bmis.departmentid as &quot;deptid&quot;
								FROM EG_BILLREGISTER  eg, eg_billregistermis bmis 
								WHERE eg.STATUSID=(select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Approved')) 
								AND UPPER(EXPENDITURETYPE)=UPPER('Salary') 
								and eg.id=bmis.billid 
								and eg.billdate between '@1' and '@2' 
								{and bmis.month='@3'}
								{and billnumber='@4'}
								ORDER BY eg.BILLNUMBER">
								<parameter dataSource="fromDate" isRequired="true"/>
								<parameter dataSource="toDate" isRequired="true"/>
								<parameter dataSource="month" isRequired="false"/>
							 	<parameter dataSource="billNo" isRequired="false"/>
   	</sqlTemplate>
   	
   	
   	<sqlTemplate id="HeaderList"
					template="select fuct.name as &quot;funName&quot;,
					vd.glcode as &quot;aCode&quot;,
					vd.accountname as &quot;accDesc&quot;, 
					vd.debitamount as &quot;debAmt&quot;, 
					vd.creditamount as &quot;creAmt&quot;
			        from generalledger gl left join  function fuct ON  gl.functionid=fuct.id, voucherDetail vd,
					voucherheader vh
					where vd.voucherheaderId=vh.id and gl.VOUCHERHEADERID=vh.ID and vd.id=gl.VOUCHERLINEID and  vh.vouchernumber=UPPER('@1') and vh.voucherdate=to_date('@2','dd/MM/yyyy') order by &quot;debAmt&quot; desc">
					<parameter dataSource="voucherHeader_voucherNumber" isRequired="true"/>
					<parameter dataSource="voucherHeader_voucherDate" isRequired="true"/>
		</sqlTemplate>
		
	
 
  <sqlTemplate id="ChequeList"
  				template="select chequenumber as &quot;chkNo&quot;,
 						to_char(chequedate,'dd/mm/yyyy') as &quot;chkDate&quot;,						
 						amount as &quot;chkAmt&quot; 					
  			        	  from chequedetail  					
  					  where VOUCHERHEADERID=(select id from voucherheader where vouchernumber=UPPER('@1')) ">
  					<parameter dataSource="voucherHeader_voucherNumber" isRequired="true"/>
		</sqlTemplate>
								

<sqlTemplate id="getnetPayEntityGrid"
			template="SELECT   ebilldet.accountdetailkeyid AS &quot;newPay_grid_detKeyId&quot;,
        			  ebilldet.accountdetailtypeid AS &quot;newPay_grid_detTypeId&quot;, ebilldet.id AS &quot;newPay_grid_detValue&quot;,
         			ebill.glcodeId AS &quot;newPay_grid_rowIndex&quot;,
				 ebilldet.creditAmount as &quot;newPay_grid_amount&quot;,
				  am.code as &quot;newPay_grid_detCode&quot;
  				  FROM eg_billdetails ebill, eg_billPayeeDetails ebilldet ,@2 am
  				 WHERE ebilldet.billdetailId = ebill.ID
  				  AND  ebilldet.creditAmount &gt; 0
  				AND ebill.glcodeid in(select id from chartofaccounts where purposeid in @3)
  				
 						 and  am.id=ebilldet.accountdetailkeyId
     					AND ebill.billId IN (SELECT ID
                                             FROM Eg_BillRegister 
                                            WHERE id = @1) ">
                         <parameter dataSource="billId" isRequired="true"/>
                         <parameter dataSource="table"  isRequired="true"/>
                         <parameter dataSource="salaryBillPurposeIds"  isRequired="true"/>                  
	
	
	</sqlTemplate>
	<sqlTemplate id="getDeductionEntityGrid"
				template="SELECT   ebilldet.accountdetailkeyid AS &quot;new_grid_detKeyId&quot;,
        				  ebilldet.accountdetailtypeid AS &quot;new_grid_detTypeId&quot;, ebilldet.id AS &quot;new_grid_detValue&quot;,
        					 ebill.glcodeId AS &quot;new_grid_rowIndex&quot;,
						 ebilldet.creditAmount as &quot;new_grid_amount&quot;,
						  am.code as &quot;new_grid_detCode&quot;
					    FROM eg_billdetails ebill, eg_billPayeeDetails ebilldet,@2 am
					   WHERE ebilldet.billdetailId = ebill.ID
					    AND ebill.glcodeid not in (select id from chartofaccounts where purposeid in @3)
					   AND ebilldet.creditAmount &gt; 0
					  
 						 and  am.id=ebilldet.accountdetailkeyId
					     AND ebill.billId IN (SELECT ID
										     FROM Eg_BillRegister 
                                            WHERE id = @1)">
	                         <parameter dataSource="billId" isRequired="true"/>
	                         <parameter dataSource="table"  isRequired="true"/>
	                         <parameter dataSource="salaryBillPurposeIds"  isRequired="true"/>                                     
		
		
	</sqlTemplate>
	<sqlTemplate id="getEarningEntityGrid"
					template="SELECT   ebilldet.accountdetailkeyid AS &quot;grid_detKeyId&quot;,
						  ebilldet.accountdetailtypeid AS &quot;grid_detTypeId&quot;, ebilldet.id AS &quot;grid_detValue&quot;,
						 ebill.glcodeId AS &quot;grid_rowIndex&quot;,
							 ebilldet.debitAmount as &quot;grid_amount&quot;,
							 am.code as &quot;grid_detCode&quot;
					    FROM eg_billdetails ebill, eg_billPayeeDetails ebilldet,@2 am
					   WHERE ebilldet.billdetailId = ebill.ID
					  AND ebilldet.debitAmount &gt; 0
					  	
 						 and  am.id=ebilldet.accountdetailkeyId

					     AND ebill.billId IN (SELECT ID
					     FROM Eg_BillRegister 
					    WHERE id = @1)">
		                         <parameter dataSource="billId" isRequired="true"/>
		                         <parameter dataSource="table"  isRequired="true"/>
		                         
		                                            
			
			
		</sqlTemplate>
	

<sqlTemplate id="getnetPayDetails"
			  template="select fuct.id AS &quot;cv_fromFunctionCodeIdpay&quot;,fuct.name AS &quot;function_codepay&quot;,vd.glcode AS &quot;chartOfAccounts_glCodenetPay&quot;,accountName AS &quot;chartOfAccounts_namenetPay&quot;,vd.creditAmount AS &quot;netPayAmount&quot;,vd.Id AS &quot;deduction_voucherLineId&quot;
			    from voucherdetail vd,generalledger gl,function fuct where vd.debitAmount=0 and gl.functionid(+)=fuct.id
			    and gl.VOUCHERLINEID=vd.ID
			      AND vd.glcode in (select glcode from chartofaccounts where purposeid in @3)
			    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@1')
			    union
			   select fuct.id AS &quot;cv_fromFunctionCodeId1&quot;,fuct.name AS &quot;function_code1&quot;,vd.glcode AS &quot;chartOfAccounts_glCodeduction&quot;,accountName AS &quot;chartOfAccounts_namededuction&quot;,vd.creditAmount AS &quot;deductionAmount&quot;,vd.Id AS &quot;deduction_voucherLineId&quot;
			    from voucherdetail vd,generalledger gl,function fuct where vd.debitAmount=0 and gl.functionid=fuct.id(+)
			    and gl.VOUCHERLINEID=vd.ID
			      AND vd.glcode in (select glcode from chartofaccounts where purposeid in @4)
			    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@2')
			    ">    
			   <parameter dataSource="cgNumber" isRequired="true" />
			   <parameter dataSource="cgNumber" isRequired="true" />
			   <parameter dataSource="salaryBillPurposeIds" isRequired="true" />
			   <parameter dataSource="salaryBillPurposeIds" isRequired="true" />
 		</sqlTemplate>

		<sqlTemplate id="getContingencyNetPayDetails"
			  template="select fuct.id AS &quot;cv_fromFunctionCodeIdpay&quot;,fuct.name AS &quot;function_codepay&quot;,vd.glcode AS &quot;chartOfAccounts_glCodenetPay&quot;,accountName AS &quot;chartOfAccounts_namenetPay&quot;,vd.creditAmount AS &quot;netPayAmount&quot;,vd.Id AS &quot;deduction_voucherLineId&quot;
			    from voucherdetail vd,generalledger gl,function fuct where vd.debitAmount=0 and gl.functionid(+)=fuct.id
			    and gl.VOUCHERLINEID=vd.ID
			      AND vd.glcode in (select glcode from chartofaccounts where purposeid in (@1))
			    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@2')
			    union
			   select fuct.id AS &quot;cv_fromFunctionCodeId1&quot;,fuct.name AS &quot;function_code1&quot;,vd.glcode AS &quot;chartOfAccounts_glCodeduction&quot;,accountName AS &quot;chartOfAccounts_namededuction&quot;,vd.creditAmount AS &quot;deductionAmount&quot;,vd.Id AS &quot;deduction_voucherLineId&quot;
			    from voucherdetail vd,generalledger gl,function fuct where vd.debitAmount=0 and gl.functionid=fuct.id(+)
			    and gl.VOUCHERLINEID=vd.ID
			      AND vd.glcode in (select glcode from chartofaccounts where purposeid in (@3))
			    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@4')  ">    
			   <parameter dataSource="CbillPayCode" isRequired="true" />
			   <parameter dataSource="cgNumber" isRequired="true" />
			   <parameter dataSource="CbillPayCode" isRequired="true" />
			   <parameter dataSource="cgNumber" isRequired="true" />
 		</sqlTemplate>
 		
		<sqlTemplate id="getWorksNetPayDetails"
			  template="select fuct.id AS &quot;cv_fromFunctionCodeIdpay&quot;,fuct.name AS &quot;function_codepay&quot;,vd.glcode AS &quot;chartOfAccounts_glCodenetPay&quot;,accountName AS &quot;chartOfAccounts_namenetPay&quot;,vd.creditAmount AS &quot;netPayAmount&quot;,vd.Id AS &quot;deduction_voucherLineId&quot;
			    from voucherdetail vd,generalledger gl,function fuct where vd.debitAmount=0 and gl.functionid(+)=fuct.id
			    and gl.VOUCHERLINEID=vd.ID
			      AND vd.glcode in (select glcode from chartofaccounts where purposeid in (@1,@2))
			    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@3')
			    union
			   select fuct.id AS &quot;cv_fromFunctionCodeId1&quot;,fuct.name AS &quot;function_code1&quot;,vd.glcode AS &quot;chartOfAccounts_glCodeduction&quot;,accountName AS &quot;chartOfAccounts_namededuction&quot;,vd.creditAmount AS &quot;deductionAmount&quot;,vd.Id AS &quot;deduction_voucherLineId&quot;
			    from voucherdetail vd,generalledger gl,function fuct where vd.debitAmount=0 and gl.functionid=fuct.id(+)
			    and gl.VOUCHERLINEID=vd.ID
			      AND vd.glcode in (select glcode from chartofaccounts where purposeid in (@4,@5))
			    and vd.VOUCHERHEADERID=(select id from voucherHeader where cgn='@6')">    
			   <parameter dataSource="ConPayCode" isRequired="true" />
			   <parameter dataSource="SupPayCode" isRequired="true" />
			   <parameter dataSource="cgNumber" isRequired="true" />
			   <parameter dataSource="ConPayCode" isRequired="true" />
			   <parameter dataSource="SupPayCode" isRequired="true" />
			   <parameter dataSource="cgNumber" isRequired="true" />
 		</sqlTemplate>

		<sqlTemplate id="getSupplierNetPayableEntityDetails"
			  template="select detailkeyid as &quot;net_grid_detKeyId&quot;,detailtypeid as &quot;net_grid_detTypeId&quot;,
			  '' as &quot;net_grid_detValue&quot;,generalledger.glcode as &quot;net_grid_rowIndex&quot;
			  , generalledgerdetail.amount AS &quot;net_grid_amount&quot; ,
				DECODE( (SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
				'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
				 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;net_grid_detCode&quot;
				 from generalledgerdetail,generalledger where
				generalledgerdetail.generalLedgerid = generalledger.id AND  generalledger.creditamount>0
				and generalledger.glcodeid in(select id from chartofaccounts where purposeid in (@1) )
				and generalledger.voucherheaderid in (select id from voucherheader where cgn='@2') order by glcode">
				<parameter dataSource="SupPayCode" isRequired="true" />
				<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>
		<sqlTemplate id="getContractorNetPayableEntityDetails"
			  template="select detailkeyid as &quot;net_grid_detKeyId&quot;,detailtypeid as &quot;net_grid_detTypeId&quot;,
			  '' as &quot;net_grid_detValue&quot;,generalledger.glcode as &quot;net_grid_rowIndex&quot;
			  , generalledgerdetail.amount AS &quot;net_grid_amount&quot; ,
				DECODE( (SELECT tablename FROM accountDetailType WHERE accountDetailType.id =generalledgerdetail.detailtypeid),
				'relation', (SELECT code 	 FROM relation  WHERE ID = generalledgerdetail.detailkeyid),
				 'accountEntityMaster', (SELECT code FROM accountentitymaster WHERE ID = generalledgerdetail.detailkeyid),   'eg_employee', (SELECT code FROM eg_employee  WHERE ID = generalledgerdetail.detailkeyid)) AS &quot;net_grid_detCode&quot;
				 from generalledgerdetail,generalledger where
				generalledgerdetail.generalLedgerid = generalledger.id AND  generalledger.creditamount>0
				and generalledger.glcodeid in(select id from chartofaccounts where purposeid in (@1) )
				and generalledger.voucherheaderid in (select id from voucherheader where cgn='@2') order by glcode">
				<parameter dataSource="ConPayCode" isRequired="true" />
				<parameter dataSource="cgNumber" isRequired="true" />
		</sqlTemplate>
			
		<sqlTemplate id="getNetPayGridTable"
		        template="Select ca.id as  &quot;glCodeId_netPay&quot;, ca.glcode AS &quot;chartOfAccounts_glCodenetPay&quot;,ca.NAME AS &quot;chartOfAccounts_namenetPay&quot; from chartOfAccounts  ca where ca.purposeid in (@1) ">
				<parameter dataSource="salaryBillPurposeIds" isRequired="true"/>
  		</sqlTemplate>


		<sqlTemplate id="getnetPayViewGrid"
			   template="SELECT DISTINCT ca.GLCODE as glcode,ca.NAME AS &quot;chartOfAccounts_namenetPay&quot;,ebill.GLCODEID AS &quot;glCodeId_netPay&quot;,
			ebill.creditamount AS &quot;netPay&quot;,DECODE(ebill.GLCODEID ,NULL,esal.head,'') AS &quot;salary_accountHeadnetPay&quot;,ebill.ID AS &quot;billDetailsId_netPay&quot;                        
	                
	                FROM eg_billregister br, eg_billregistermis bmis,eg_salarycodes esal,
	                eg_department edept,eg_billdetails ebill left outer join chartofaccounts ca ON
		                ebill.GLCODEID=ca.ID
	                   
	                   WHERE 
					 ebill.BILLID=br.ID 
				 	 AND bmis.BILLID=br.ID 
				 	AND bmis.DEPARTMENTID=edept.ID_DEPT
				  	AND br.EXPENDITURETYPE='Salary'
			   		AND ebill.GLCODEID IS NOT NULL
				  	AND ebill.creditAmount>0
				  	AND ebill.GLCODEID in (select id from chartofaccounts where purposeid in @3)
					AND ebill.BILLID='@1'
					AND BMIS.DEPARTMENTID='@2' ">
			   
			   <parameter dataSource="billId" isRequired="true"/>
			   <parameter dataSource="deptId" isRequired="true"/>
			   <parameter dataSource="salaryBillPurposeIds" isRequired="true"/>
	</sqlTemplate>
	

	<sqlTemplate id="getSalNetPayGridByBillId"

template="SELECT DISTINCT fucn.name AS &quot;function_codepay&quot;,  
	  ebill.functionid AS &quot;cv_fromFunctionCodeIdpay&quot;,  ca.GLCODE AS &quot;chartOfAccounts_glCodenetPay&quot;,  
	  ca.NAME AS &quot;chartOfAccounts_namenetPay&quot;,    ebill.creditamount AS &quot;netPayAmount&quot;, ebill.debitamount AS &quot;earningAmount&quot;       
	   FROM    eg_billregister br,  eg_billregistermis bmis,  
	     eg_department edept,  chartofaccounts ca, eg_billdetails ebill left outer join
	      FUNCTION fucn ON ebill.functionid=fucn.id      WHERE     ebill.BILLID=br.ID   AND
	  	 EBILL.CREDITaMOUNT &gt; 0      and  ebill.glcodeid=ca.id AND bmis.BILLID=br.ID  
	  	  AND bmis.DEPARTMENTID=edept.ID_DEPT  AND br.EXPENDITURETYPE='Salary' and    ebill.GLCODEID IS NOT NULL AND  ebill.glcodeid in (select id from chartofaccounts where purposeid in @2)  AND ebill.BILLID='@1' " >		   
		  
<parameter dataSource="billRegisterId" isRequired="true"/>
<parameter dataSource="salaryBillPurposeIds" isRequired="true"/>
</sqlTemplate>

<!-- addedby mani to getgrid details from payeedetails-->

<sqlTemplate id="getSalDeductionEntityGrid"
template="SELECT distinct  ebilldet.accountdetailkeyid AS &quot;grid_detKeyId&quot;,
						  ebilldet.accountdetailtypeid AS &quot;grid_detTypeId&quot;, ebilldet.id AS &quot;grid_detValue&quot;,
						 ca.GLCODE AS &quot;grid_rowIndex&quot;,
							ebilldet.creditAmount as &quot;grid_amount&quot;,
							 eg.code as &quot;grid_detCode&quot;
					    FROM  eg_billPayeeDetails ebilldet,@2 eg,eg_billdetails ebill left outer join chartofaccounts ca on ca.id=ebill.glcodeid
					   WHERE ebilldet.billdetailId = ebill.ID
					    AND ebilldet.creditAmount &gt; 0
					   	
					  	
 						 and  eg.id=ebilldet.accountdetailkeyId
  AND 						ebill.glcodeid not in (select id from chartofaccounts where purposeid in @3) 
					     AND ebill.billId IN (SELECT ID
					     FROM Eg_BillRegister 
					    WHERE id = @1)">
		             <parameter dataSource="billId" isRequired="true"/>
					 <parameter dataSource="table" isRequired="true"/>
					 <parameter dataSource="salaryBillPurposeIds" isRequired="true"/>

</sqlTemplate>


<sqlTemplate id="getSalEarningEntityGrid"
template="SELECT   ebilldet.accountdetailkeyid AS &quot;new_grid_detKeyId&quot;,
        				  ebilldet.accountdetailtypeid AS &quot;new_grid_detTypeId&quot;, ebilldet.id AS &quot;new_grid_detValue&quot;,
        					 ca.GLCODE AS &quot;new_grid_rowIndex&quot;,
						ebilldet.debitAmount   as &quot;new_grid_amount&quot;,
						  eg.code as &quot;new_grid_detCode&quot;
					    FROM  eg_billPayeeDetails ebilldet ,@2 eg,eg_billdetails ebill left outer join chartofaccounts ca on ca.id=ebill.glcodeid
					   WHERE ebilldet.billdetailId = ebill.ID
					  
					  AND ebilldet.debitAmount &gt; 0
					  and  eg.id=ebilldet.accountdetailkeyId
					
					     AND ebill.billId IN (SELECT ID
										     FROM Eg_BillRegister 
                                            WHERE id = @1)">
	                         <parameter dataSource="billId" isRequired="true"/>
	                         <parameter dataSource="table" isRequired="true"/>
</sqlTemplate>


<sqlTemplate id="getSalNetPayEntityGrid"
template="SELECT distinct  ebilldet.accountdetailkeyid AS &quot;newPay_grid_detKeyId&quot;,
						  ebilldet.accountdetailtypeid AS &quot;newPay_grid_detTypeId&quot;, ebilldet.id AS &quot;newPay_grid_detValue&quot;,
						 ca.GLCODE AS &quot;newPay_grid_rowIndex&quot;,
							ebilldet.creditAmount as &quot;newPay_grid_amount&quot;,
							 eg.code as &quot;newPay_grid_detCode&quot;
					    FROM  eg_billPayeeDetails ebilldet,@2 eg,eg_billdetails ebill left outer join chartofaccounts ca on ca.id=ebill.glcodeid
					   WHERE ebilldet.billdetailId = ebill.ID
					    AND ebilldet.creditAmount &gt; 0
					   	
					  	
 						 and  eg.id=ebilldet.accountdetailkeyId
						AND ebill.glcodeid in(select id from chartofaccounts where purposeid in @3) 
					     AND ebill.billId IN (SELECT ID
					     FROM Eg_BillRegister 
					    WHERE id = @1)">
		             <parameter dataSource="billId" isRequired="true"/>
					 <parameter dataSource="table" isRequired="true"/>
					 <parameter dataSource="salaryBillPurposeIds" isRequired="true"/>
</sqlTemplate>

<sqlTemplate id="getSalDetails11"
										  template="SELECT   generalledgerdetail.detailkeyid AS &quot;newPay_grid_detKeyId&quot;, generalledgerdetail.detailtypeid AS &quot;newPay_grid_detTypeId&quot;,
			         							'' AS &quot;grid_detValue&quot;, generalledger.glcode AS &quot;newPay_grid_rowIndex&quot;,generalledgerdetail.Amount as &quot;newPay_grid_amount&quot;,
								    							 am.code as &quot;newPay_grid_detCode&quot;
			    								FROM generalledgerdetail, generalledger,@2 am
			  								WHERE generalledgerdetail.generalledgerid = generalledger.ID
			   								
			  								AND am.ID=generalledgerdetail.DETAILKEYID
			  								AND GENERALLEDGER.creditAMOUNT &gt; 0
			  								
			  								 AND generalledger.glcode in (select glcode from chartofaccounts where purposeid in @3)
			    								AND generalledger.voucherheaderid IN (SELECT ID
			                                             FROM voucherheader
			                                            WHERE cgn = '@1')" >
											<parameter dataSource="cgNumber" isRequired="true" />
											<parameter dataSource="table" isRequired="true" />
											<parameter dataSource="salaryBillPurposeIds" isRequired="true"/>
			</sqlTemplate>
	<sqlTemplate id="cfd1"
				template="select cfd.xvalue as &quot;fieldx&quot;, cfd.yvalue as &quot;fieldy&quot;, cfd.length as &quot;fieldl&quot; from eg_cheque_format_detail cfd where  cfd.headerid='@1'">
				<parameter dataSource="id" isRequired="true"/>
	</sqlTemplate>
	
	
<sqlTemplate id="code_Names"
           	template="  SELECT  @1   as &quot;divCode&quot;,name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM @2  where ISACTIVE =1    order by name" >

 			<parameter dataSource="columnName" isRequired="true" />
 			<parameter dataSource="tableName" isRequired="true" />
 			
 </sqlTemplate>
 
 
 <sqlTemplate id="detailCode_Names"
 	template="SELECT  @2  as &quot;divCode&quot;,name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM @1  where ISACTIVE =1 {and detailtypeid=@3} order by name">
 			<parameter dataSource="tableName" isRequired="true"/>
 			<parameter dataSource="colName" isRequired="true"/>
 			<parameter dataSource="dettypeid" isRequired="false"/>
 	
 </sqlTemplate>
 
 <sqlTemplate id="employeeDetailCode_Names"
  	template="SELECT  @2  as &quot;divCode&quot;,name as &quot;divDes&quot;, ID as &quot;divId&quot; FROM @1  where ISACTIVE =1 {and detailtypeid=@3} order by name">
  			<parameter dataSource="tableName" isRequired="true"/>
  			<parameter dataSource="colName" isRequired="true"/>
  			<parameter dataSource="dettypeid" isRequired="false"/>
  	
  </sqlTemplate>
 
  <sqlTemplate id="egItemNos"
  	template="SELECT  @2  as &quot;divCode&quot;,narration as &quot;divDes&quot;, ID as &quot;divId&quot; FROM @1  order by itemno">
  			<parameter dataSource="tableName" isRequired="true"/>
  			<parameter dataSource="colName" isRequired="true"/>
  </sqlTemplate>
 
 <sqlTemplate id="getDetailTableName"
  	   template="select tablename as &quot;tablename1&quot; from ACCOUNTDETAILTYPE where id =@1">
  <parameter dataSource="detType" isRequired="true"/>
 </sqlTemplate>
 
 <sqlTemplate id="getDetailCode"
  	   template="select  r.code as &quot;new_detCode&quot;
 from eg_billpayeedetails ebp ,	eg_billdetails eb,eg_billregister  er, chartofaccounts coa ,@1 r where eb.billid = er.id and er.BILLNUMBER ='@2'				 
 and ebp.BILLDETAILID = eb.id and eb.GLCODEID = 	coa.ID and r.id =ebp.ACCOUNTDETAILKEYID and ebp.ACCOUNTDETAILKEYID = @3">
  <parameter dataSource="detTableName" isRequired="true"/>
  <parameter dataSource="billNumber" isRequired="true"/>
  <parameter dataSource="detKeyId" isRequired="true"/>
 </sqlTemplate>
 
 
 <sqlTemplate id="ValidateSubLedgerCode"
  	   template="SELECT coa.name as &quot;@2&quot; FROM chartOfAccounts coa left join  CHARTOFACCOUNTDETAIL cd on coa.ID = cd.GLCODEID where coa.glCode='@1' and coa.isactiveforposting = 1 and coa.classification=4">
  <parameter dataSource="glCode" isRequired="true"/>
  <parameter dataSource="glName" isRequired="true"/>
 </sqlTemplate>
 
 <sqlTemplate id="getTableName"
         	template="Select tableName  from accountDetailType where name='@1'">
         	<parameter dataSource="name" isRequired="true"/>
         	
  </sqlTemplate>
  <sqlTemplate id="getSalDetailsByBillIdForPayRoll"				
			template="SELECT DISTINCT br.id as &quot;billid&quot;,
		TO_CHAR(br.BILLDATE,'dd/mm/yyyy') AS &quot;salaryBill_Date&quot;, 
		bmis.MONTH AS &quot;month_id&quot;,bmis.FINANCIALYEARID AS &quot;financialYear_id&quot;,
		br.FIELDID AS &quot;field_name&quot;,bmis.DEPARTMENTID AS &quot;department_id&quot;,bmis.fundid as &quot;fund_id&quot;,bmis.fundsourceID as &quot;fundSource_id&quot;,  
		br.BILLAMOUNT as &quot;netPay&quot;, (SELECT first_name FROM eg_user WHERE br.createdBy=eg_user.ID_USER) AS &quot;voucherHeader_createdby&quot;,br.narration as &quot;voucherDetail_narration&quot;,bmis.FUNCTIONARYID AS &quot;functionary_id&quot;                          
		FROM eg_billregister br,eg_billregistermis bmis,eg_billdetails ebill,eg_department edept
		WHERE     
		ebill.BILLID=br.ID   
		AND bmis.BILLID=br.ID    
		AND bmis.DEPARTMENTID=edept.ID_DEPT   
		AND br.EXPENDITURETYPE='Salary'  
		AND ebill.BILLID='@1'">
			
		<parameter dataSource="billRegisterId" isRequired="true"/>
</sqlTemplate>


<sqlTemplate id="subLedgerList"
			template="select ad.id as &quot;accountDetailTypeId&quot;, 
				 ad.description as &quot;accountDetailTypeName&quot; 
				 from accountdetailtype ad, chartofaccountdetail cd where 
				 cd.glcodeid =(select id from chartofaccounts where glcode='@1') 
				 and cd.detailtypeid=ad.id">
			<parameter dataSource="glCode" isRequired="true"/>
	</sqlTemplate>
	<sqlTemplate id="getAccountEntityList"
					template="select distinct decode(adk.DETAILTYPEID,(select id from accountdetailtype where UPPER(NAME)=UPPER('Creditor')),
						(select code from relation where id=adk.detailkey),
						(select id from accountdetailtype where UPPER(NAME)=UPPER('Employee')),
						(select code from eg_employee where id=adk.detailkey),
						(select id from accountdetailtype where UPPER(NAME)=UPPER('Item')),
   						(select itemno from eg_item where id=adk.detailkey),  
						(select code from accountentitymaster where	ID =adk.detailkey and 
						detailtypeid=adk.detailtypeid)) as &quot;divCode&quot;,
						decode(adk.DETAILTYPEID,(select id from accountdetailtype where UPPER(NAME)=UPPER('Creditor')),
						(select name from relation where id=adk.detailkey),
						(select id from accountdetailtype where UPPER(NAME)=UPPER('Employee')),
						(select emp_firstname from eg_employee where id=adk.detailkey),
						(select id from accountdetailtype where UPPER(NAME)=UPPER('Item')),      
   						(select itemno from eg_item where id=adk.detailkey), 
						(select name from accountentitymaster where
						detailtypeid=adk.detailtypeid AND ID = adk.detailkey )) as &quot;divDes&quot;, adk.detailkey as &quot;divId&quot; 
						from generalledgerdetail gld,accountdetailkey adk
						where gld.generalledgerid in (select id from generalledger where glcode='@1')
						and gld.detailkeyid=adk.detailkey and gld.detailtypeid=adk.detailtypeid and adk.DETAILTYPEID=@2
						UNION
						select distinct decode(adk.DETAILTYPEID,(select id from accountdetailtype where UPPER(NAME)=UPPER('Creditor')),
						(select code from relation where id=adk.detailkey),
						(select id from accountdetailtype where UPPER(NAME)=UPPER('Employee')),
						(select code from eg_employee where id=adk.detailkey),
						(select id from accountdetailtype where UPPER(NAME)=UPPER('Item')),
  						(select itemno from eg_item where id=adk.detailkey),   
						(select code from accountentitymaster where
						detailtypeid=adk.detailtypeid AND ID = adk.detailkey)) as &quot;divCode&quot;,
						decode(adk.DETAILTYPEID,(select id from accountdetailtype where UPPER(NAME)=UPPER('Creditor')),
						(select name from relation where id=adk.detailkey),
						(select id from accountdetailtype where UPPER(NAME)=UPPER('Employee')),
						(select emp_firstname from eg_employee where id=adk.detailkey),
						(select id from accountdetailtype where UPPER(NAME)=UPPER('Item')),
   						(select itemno from eg_item where id=adk.detailkey),    
						(select name from accountentitymaster where
						detailtypeid=adk.detailtypeid  AND ID = adk.detailkey)) as &quot;divDes&quot;, adk.detailkey as &quot;divId&quot; 
						from transactionsummary ts, accountdetailkey
						adk where ts.GLCODEID=(select id from chartofaccounts where glcode='@3') and
						ts.ACCOUNTDETAILTYPEID=adk.detailtypeid and adk.detailtypeid=@4 and ts.accountdetailkey=adk.detailkey">
					<parameter dataSource="filter2" isRequired="true"/>
					<parameter dataSource="filter3" isRequired="true"/>
					<parameter dataSource="filter2" isRequired="true"/>
					<parameter dataSource="filter3" isRequired="true"/>
	</sqlTemplate>
<sqlTemplate id="getEgBillsForCancellation"
			template="	SELECT   DISTINCT br.ID AS &quot;billId&quot;,
						billnumber AS &quot;BillRegister_BillNumber&quot;,
						TO_CHAR(br.billDate,'dd-mon-yyyy') AS &quot;BillRegister_BillDate&quot;,
						expendituretype AS &quot;BillRegister_expType&quot;,
						billamount AS &quot;BillRegister_Amount&quot;,
						'' AS &quot;BillRegister_Type&quot;,
						DECODE(bmis.fundid,NULL,'',(SELECT name FROM fund f WHERE f.id=bmis.fundid)) AS &quot;Fund&quot;,
						TO_CHAR( bmis.departmentid )AS &quot;deptId&quot;,
						DECODE(bmis.DEPARTMENTID,NULL,'',(SELECT dept_name FROM eg_department d WHERE d.id_dept=bmis.DEPARTMENTID)) AS &quot;BillRegister_Department&quot;
						FROM eg_billregister br ,EG_BILLREGISTERMIS bmis
							WHERE statusid = (select distinct id from egw_status where upper(moduletype)='SALBILL' and upper(description)=upper('Created'))
							AND billstatus = 'Created'
							AND br.id=bmis.billid
							{AND Billnumber &gt;='@1'}
							{AND Billnumber &lt;='@2'}
							{AND  br.billdate &gt;='@3'}
							{AND  br.billdate &lt;='@4'}
							ORDER BY &quot;BillRegister_Department&quot;">
						
			<parameter dataSource="BillNumberFrom" isRequired="false"/>
			<parameter dataSource="BillNumberTo" isRequired="false"/>
			<parameter dataSource="BillDateFrom" isRequired="false"/>
			<parameter dataSource="BillDateTo" isRequired="false"/>
			
</sqlTemplate>

		<sqlTemplate id="BankList"
   			template="SELECT id ,name as &quot;BankList&quot; from Bank order by id" >
   	</sqlTemplate>
   	<sqlTemplate id="chequeFormatsForSearch"
   			template="Select cm.id as &quot;headerid&quot;,(select name from bank b where b.id=cm.bankid ) as &quot;bankName&quot;,to_Char(cm.createdDate,'dd/mm/yyyy') as &quot;crtdDate&quot;, cm.height as &quot;hight&quot; from eg_cheque_format cm where cm.id >=1
  					{and cm.createdDate &gt;='@1'}
  					{and cm.createdDate &lt;='@2'}
  					{and cm.bankid=@3 } 
  					 order by cm.id ">
  					<parameter dataSource="fromDate" isRequired="false"/>
					<parameter dataSource="toDate" isRequired="false"/>
					<parameter dataSource="bankId" isRequired="false"/>
	</sqlTemplate>	
	
	<sqlTemplate id="cf"
			template="select cf.bankid as &quot;BankList&quot;,cf.height as &quot;hight&quot; from eg_cheque_format cf where id='@1'">
				<parameter dataSource="id" isRequired="true"/>
	</sqlTemplate>
	
	<sqlTemplate id="getAllAccountCode"
		      template="select id||'  ~  '||name,glcode from chartofaccounts where classification=2 order by glcode">	     
  	</sqlTemplate> 
  	
  <!-- For Work Order TDS-->
<sqlTemplate id="tds_ListForAll"
	template="SELECT DISTINCT td.id,td.TYPE FROM tds td,eg_partytype pt
	where td.PARTYTYPEID=pt.ID AND (td.ISEARNING!='1' OR td.ISEARNING IS NULL) ORDER BY UPPER(TYPE)">
</sqlTemplate>
  
<sqlTemplate id="tds_ListForAutomatic"
  	template="SELECT DISTINCT td.id,td.TYPE FROM tds td,eg_partytype pt,eg_deduction_details egded 
		WHERE td.PARTYTYPEID=pt.ID AND td.ID=egded.TDSID 
		AND (td.ISEARNING!='1' OR td.ISEARNING IS NULL)
		{AND egded.DOCTYPEID=@1} {AND egded.DOCSUBTYPEID=@2} ORDER BY UPPER(TYPE)">
  		
  		<parameter dataSource="workType_Id" isRequired="false"/>
  		<parameter dataSource="subType_Id" isRequired="false"/>
</sqlTemplate>
 		
<sqlTemplate id="partyTypeListForAdvReg"
	 template="select  distinct ad.id as &quot;accountDetailTypeId&quot;,ad.name as &quot;accountDetailTypeName&quot; from accountdetailtype ad ,
	 chartofaccountdetail cd where cd.detailtypeid=ad.id AND cd.GLCODEID IN(SELECT  id FROM chartofaccounts WHERE glcode LIKE '460%')">	     
</sqlTemplate> 	  
<sqlTemplate id="functionaryName"
  template="SELECT id,name  FROM functionary ORDER BY name">

 </sqlTemplate>
	  
<sqlTemplate id="getContractorsForOsLiability"
  template="select distinct r.id as &quot;divId&quot;, r.code as &quot;divCode&quot;, r.name as &quot;divDes&quot; from relation r,contractorbilldetail c  where c.contractorid=r.ID
 group by r.id,r.code,r.name,c.PASSEDAMOUNT,c.PAIDAMOUNT HAVING c.PASSEDAMOUNT-c.PAIDAMOUNT&gt;0 order by r.name">
 </sqlTemplate>
 
 <sqlTemplate id="getSuppliersForOsLiability"
   template="select distinct r.id as &quot;divId&quot;, r.code as &quot;divCode&quot;, r.name as &quot;divDes&quot; from relation r,supplierbilldetail s  where s.supplierid=r.ID
 group by r.id,r.code,r.name,s.PASSEDAMOUNT,s.PAIDAMOUNT HAVING s.PASSEDAMOUNT-s.PAIDAMOUNT&gt;0 order by r.name">
 </sqlTemplate>
 
 <sqlTemplate id="getContractorsForOsLiability_description"
  	template="SELECT r.id as &quot;divId&quot; , r.code as &quot;code&quot;, r.name as &quot;conSupName&quot; FROM relation r,contractorbilldetail c WHERE c.contractorid=r.ID and r.code='@1' group by r.id,r.code,r.name,c.PASSEDAMOUNT,c.PAIDAMOUNT HAVING c.PASSEDAMOUNT-c.PAIDAMOUNT>0 ">
  	<parameter dataSource="conSupCode1" isRequired="true" />
 </sqlTemplate>
 <sqlTemplate id="getSuppliersForOsLiability_description"
	template="SELECT r.id as &quot;divId&quot; , r.code as &quot;code&quot;, r.name as &quot;conSupName&quot; FROM relation r,supplierbilldetail s WHERE s.supplierid=r.ID and r.code='@1' group by r.id,r.code,r.name,s.PASSEDAMOUNT,s.PAIDAMOUNT HAVING s.PASSEDAMOUNT-s.PAIDAMOUNT>0 ">
	<parameter dataSource="conSupCode1" isRequired="true" />
 </sqlTemplate>
 
 <!-- For Audit Trail Report Starts here-->
  	<sqlTemplate id="voucherTypeList" template="select distinct type, type from voucherheader">
  	</sqlTemplate>
  
  	<sqlTemplate id="nameList" 
  		template="SELECT distinct name, name FROM voucherheader where type='@1'">
  		<parameter dataSource="type" isRequired="true"/>
  	</sqlTemplate>
  
  
  	<sqlTemplate id="getVoucherGrid"
  		template="select TO_CHAR(voucherdate,'dd/mm/yyyy') as &quot;vhDate&quot;,voucherheader.id as &quot;vhId&quot;,cgn AS &quot;cgNumber&quot;,vouchernumber as &quot;vhNo&quot;,type as &quot;vhType&quot;,voucherheader.name as &quot;vhName&quot;,fund.name as &quot;fundName&quot; from voucherheader,fund
  		where type='@1' {AND voucherheader.name='@2'} AND fundid=@3 { AND vouchernumber= '@4' } { AND voucherdate &gt;= TO_DATE('@5','dd/mm/yyyy') } { AND voucherdate &lt;=TO_DATE('@6','dd/mm/yyyy')} AND fundid=fund.id order by voucherdate,vouchernumber">
  	<parameter dataSource="type" isRequired="true"/>
  	<parameter dataSource="name" isRequired="false"/>
  	<parameter dataSource="fund_id" isRequired="true"/>
  	<parameter dataSource="v_no" isRequired="false"/>
  	<parameter dataSource="startDate" isRequired="false"/>
  	<parameter dataSource="endDate" isRequired="false"/>
  	</sqlTemplate>
  
  
  	<sqlTemplate id="listVouchHistory"
  	template="select type as &quot;vType&quot;,voucherheader.name as &quot;vName&quot;,(select user_name from eg_user where id_user=createdby) as &quot;vCreat&quot;,TO_CHAR(effectivedate,'dd/mm/yyyy') as &quot;vCreat_on&quot; from voucherheader
  	where id='@1' ">
  	<parameter dataSource="vhId" isRequired="true"/>
  	</sqlTemplate>
  
  
  	<sqlTemplate id="list_VouchHistory"
  		template="select (select user_name from eg_user where id_user=e.userid) as &quot;vMod_by&quot;,TO_CHAR(updatedtime,'dd/mm/yyyy HH24:MI:SS') as &quot;vMod_date&quot;,decode(e.status,0,'Unconfirmed',decode(e.status,1,'Confirmed',decode(e.status,2,'Reversed',decode(e.status,3,'Reversal',decode(e.status,4,'Cancelled'))))) AS &quot;vStat&quot; from egf_record_status e
  		where voucherheaderid='@1' ">
  		<parameter dataSource="vhId" isRequired="true"/>
  	</sqlTemplate>
  	
 	<!-- For Audit Trail Report Ends here-->
  <sqlTemplate id="getConSupNameReport" template="select distinct r.name,r.name||'-'||r.code  from relation r,worksdetail wd 
			where r.relationtypeid='@1' and r.isactive=1 and r.id =wd.relationid
			and wd.orderdate&gt;=to_date('@2','dd/MM/yyyy') and wd.orderdate&lt;=to_date('@3','dd/MM/yyyy') ORDER BY upper(r.name) asc">
		   <parameter dataSource="SupConTypeCode" isRequired="true"/>  
		   <parameter dataSource="fromDate" isRequired="true"/>  
		   <parameter dataSource="toDate" isRequired="true"/>  
	</sqlTemplate>
	<sqlTemplate id="getRelationType" template="select id,name from relationtype ">
		</sqlTemplate>

	<sqlTemplate id="coaSearch" template="SELECT distinct c.name AS &quot;accountName&quot;,c.glcode AS &quot;accountCode&quot;,c.TYPE AS &quot;type&quot;,DECODE(c.isactiveforposting,'1','Yes','0','No') AS &quot;activeforposting&quot;,
		(SELECT cc.name FROM chartofaccounts cc WHERE cc.id=c.parentid) AS &quot;parentName&quot;,
		(SELECT name FROM egf_accountcode_purpose WHERE id=c.purposeid) AS &quot;purpose&quot;
		FROM chartofaccounts c WHERE UPPER(name) LIKE UPPER('%@1%') AND classification=4 order by &quot;type&quot;,&quot;accountName&quot;">
		<parameter dataSource="coaName" isRequired="true"/>
	</sqlTemplate>	
	<sqlTemplate id="activeFunctionaryName"
		template="SELECT id,name FROM functionary where ISACTIVE=1 ORDER BY name asc">
	</sqlTemplate>	
</sqlTemplates>
	




